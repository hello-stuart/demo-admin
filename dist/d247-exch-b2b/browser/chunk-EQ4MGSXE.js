import{a as S}from"./chunk-YAPTLMR7.js";import{a as N}from"./chunk-AZX2OHK4.js";import{a as z}from"./chunk-AWYQW5EK.js";import{c as O,d as R}from"./chunk-A5YAUSYP.js";import"./chunk-5UJXZMZS.js";import"./chunk-ACVM4ET5.js";import"./chunk-QZIUMNBJ.js";import{m as I,q as P}from"./chunk-6542H3SY.js";import{f as M}from"./chunk-F4ECYANF.js";import{Db as d,Nb as r,O as x,Ob as i,Pb as m,Sc as w,Uc as C,Wb as g,bb as l,cb as c,dc as o,ec as u,gc as b,hd as _,mb as k,sb as v,tc as h,uc as f}from"./chunk-CKWEI2SK.js";import"./chunk-ZR4K4ZIC.js";function D(a,n){if(a&1&&(r(0,"div",10)(1,"div",11)(2,"p"),o(3),i()(),r(4,"div")(5,"p",12),o(6),i(),r(7,"p",13),o(8,"0"),i()()()),a&2){let e=g();d("ngClass",(e.winnerMarketArray==null||e.winnerMarketArray.runners==null||e.winnerMarketArray.runners[0]==null?null:e.winnerMarketArray.runners[0].status)==="SUSPEND"||(e.game==null?null:e.game.status)==="SUSPEND"?"suspended":e.selectedCell===(e.winnerMarketArray==null||e.winnerMarketArray.runners==null||e.winnerMarketArray.runners[0]==null?null:e.winnerMarketArray.runners[0].selectionId)?"selected":""),l(3),u(e.capitalize(e.marketArray==null||e.marketArray[0]==null?null:e.marketArray[0].runnersName[e.marketArray==null||e.marketArray[0]==null||e.marketArray[0].runners==null||e.marketArray[0].runners[0]==null?null:e.marketArray[0].runners[0].selectionId])),l(3),u(e.marketArray==null||e.marketArray[0]==null||e.marketArray[0].runners==null||e.marketArray[0].runners[0]==null||e.marketArray[0].runners[0].price==null||e.marketArray[0].runners[0].price.back==null||e.marketArray[0].runners[0].price.back[0]==null?null:e.marketArray[0].runners[0].price.back[0].price)}}function T(a,n){if(a&1&&(r(0,"div",14)(1,"div")(2,"p"),o(3),i()(),r(4,"div")(5,"p"),o(6),i()()()),a&2){let e=g();d("ngClass",(e.winnerMarketArray==null||e.winnerMarketArray.runners==null||e.winnerMarketArray.runners[0]==null?null:e.winnerMarketArray.runners[0].status)==="SUSPEND"||(e.game==null?null:e.game.status)==="SUSPEND"?"suspend":e.selectedCell===(e.winnerMarketArray==null||e.winnerMarketArray.runners==null||e.winnerMarketArray.runners[1]==null?null:e.winnerMarketArray.runners[1].selectionId)?"selected":""),l(3),u(e.capitalize(e.marketArray==null||e.marketArray[0]==null?null:e.marketArray[0].runnersName[e.marketArray==null||e.marketArray[0]==null||e.marketArray[0].runners==null||e.marketArray[0].runners[1]==null?null:e.marketArray[0].runners[1].selectionId])),l(3),u(e.marketArray==null||e.marketArray[0]==null||e.marketArray[0].runners==null||e.marketArray[0].runners[1]==null||e.marketArray[0].runners[1].price==null||e.marketArray[0].runners[1].price.back==null||e.marketArray[0].runners[1].price.back[0]==null?null:e.marketArray[0].runners[1].price.back[0].price)}}function B(a,n){if(a&1&&(r(0,"div",15)(1,"div",11)(2,"p"),o(3),i()(),r(4,"div")(5,"p",12),o(6),i(),r(7,"p",16),o(8,"0"),i()()()),a&2){let e=g();d("ngClass",(e.winnerMarketArray==null||e.winnerMarketArray.runners==null||e.winnerMarketArray.runners[0]==null?null:e.winnerMarketArray.runners[0].status)==="SUSPEND"||(e.game==null?null:e.game.status)==="SUSPEND"?"suspended":e.selectedCell===(e.winnerMarketArray==null||e.winnerMarketArray.runners==null||e.winnerMarketArray.runners[0]==null?null:e.winnerMarketArray.runners[0].selectionId)?"selected":""),l(3),u(e.capitalize(e.marketArray==null||e.marketArray[0]==null?null:e.marketArray[0].runnersName[e.marketArray==null||e.marketArray[0]==null||e.marketArray[0].runners==null||e.marketArray[0].runners[2]==null?null:e.marketArray[0].runners[2].selectionId])),l(3),u(e.marketArray==null||e.marketArray[0]==null||e.marketArray[0].runners==null||e.marketArray[0].runners[2]==null||e.marketArray[0].runners[2].price==null||e.marketArray[0].runners[2].price.back==null||e.marketArray[0].runners[2].price.back[0]==null?null:e.marketArray[0].runners[2].price.back[0].price)}}var E=class a{constructor(n,e,t,s,p){this.route=n;this.toaster=e;this.casinoService=t;this.backendService=s;this.encyDecy=p;this.eventid=this.route.snapshot.params.id,this._roomId="",this.message.id=this.eventid,this.messageResult.id=this.eventid}subscription;subscription2;message={type:"1",id:""};messageResult={type:"3",id:""};_roomId;game;Card;timer;counter=0;loader;eventid;rulesBox;marketId;cardsArr;eventName;split_arr;placedbet=!0;gameroundId;resultArray;marketArray;RoundWinner;changeValue;playerACards;playerBCards;selectedCell;myVideo=null;selectedResult;getRoundId="";runnersName={};totalMatchedBets;winnerMarketArray;currentRunnerPrice;upper7Betslip=!1;ngOnInit(){this.encyDecy.generateEncryptionKey("",this.message),this.subscription=this.encyDecy.getMarketData().subscribe((n=[])=>{if(this.casinoService=n,n){this.getRoundId=localStorage.getItem("roundID");let e=JSON.parse(n);Array.isArray(e.data)?e.type=="1"&&(this.marketArray=e.data[0].marketArr,this.game=e.data[0],this.game.marketArr=this.marketArray?this.marketArray:e.data[0].marketArr,this.eventName=e.data[0].eventName,e&&e.type=="3",this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.handleEventResponse(e,0)):this.handleEventResponse(e,0),this.game&&(this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.marketArray=this.game.marketArr,this.gameroundId=this.game.roundId,this.game.eventName=this.eventName?this.eventName:this.game.eventName,this.backendService.updateRoundId(this.game),(this.getRoundId!=this.game.roundId||this.getRoundId=="")&&(localStorage.setItem("roundID",this.game.roundId),this.getRoundId=this.game.roundId,this.getResults(),this.selectedCell=""),this.cardsArr=this.game?.cardsArr,this.Card=this.game?.cardsArr?.card,this.winnerMarketArray=this.game.marketArr?this.game.marketArr[0]:"",this.runnersName=this.winnerMarketArray.runnersName)}}),this.getResults()}handleEventResponse(n,e){if(Array.isArray(n))n.forEach(t=>{this.marketObhManager(t)});else{let t=n;this.marketObhManager(t);return}}marketObhManager(n){if(n&&n.type=="1")if("data"in n&&this.counter==0&&n.data.marketArr&&n.data._id)this.marketArray=n.data.marketArr,this.game=this.marketArray?this.marketArray:n.data,this.game=n.data,this.eventName=n.data.eventName,this.counter=1;else{if("marketArr"in n?.data&&Array.isArray(n.data.marketArr)&&(this.game.marketArr=n.data.marketArr),"cardsArr"in n?.data&&(Array.isArray(n.data.cardsArr)||(this.game.cardsArr=n.data.cardsArr)),"roundId"in n&&(this.game.roundId=n.roundId),"status"in n?.data&&(this.game.status=n.data.status),"seconds"in n?.data&&(this.game.seconds=n?.data?.seconds),"resultsArr"in n?.data){for(let t in n?.data?.resultsArr[0]?.runners)n.data?.resultsArr[0]?.runners[t]=="WINNER"&&(this.RoundWinner=n?.data?.resultsArr[0]?.runnersName[t],this.backendService.setResultData(this.RoundWinner)),n.data?.resultsArr[0]?.runners[t]=="WINNER"&&setTimeout(()=>{this.backendService.setResultSparkData(!0)},1e3);setTimeout(()=>{this.RoundWinner=null,this.backendService.setResultData(this.RoundWinner)},5e3)}Object.keys(n.data).forEach(t=>{if(t.includes("marketArr.")&&t.endsWith(".runners")){let s=parseInt(t.split(".")[1]);Array.isArray(n.data[t])&&(this.marketArray[s].runners=n.data[t])}if(t.includes(".")){let s=t.split("."),p=parseInt(s[1]),y=s[3],A=s[6];s[7]==="size"&&s[5]==="back"&&(this.marketArray[p].runners[y].price.back[A].size=n.data[t]),s[7]==="price"&&s[5]==="back"&&(this.marketArray[p].runners[y].price.back[A].price=n.data[t]),s[4]==="status"&&(this.marketArray[p].runners[y].status=n.data[t])}})}}trackByFn(n,e){return n}getEventOdds(){this.backendService.getCasinoEventOdds(this.eventid).subscribe(n=>{n.meta.status_code==200?(this.game=n?.data,this.marketArray=this.game?.marketArr,this.playerACards=this.game?.cardsArr?.PLAYER_A,this.playerBCards=this.game?.cardsArr?.PLAYER_B,this.winnerMarketArray=this.game?.marketArr?this.game.marketArr[0]:"",this.runnersName=this.winnerMarketArray.runnersName):this.toaster.error(n.meta.message,"",{positionClass:"toast-top-center"})})}getResults(){this.backendService.getAllRecordsByPost(_.getCasinoResultURL,{eventId:this.eventid}).pipe(x()).subscribe(n=>{this.backendService.updateResultstream(n.data)},n=>{let e=n})}ngOnDestroy(){let n={type:"2",id:""};this.encyDecy.sendMessageToSocket(n),this.subscription&&this.subscription.unsubscribe(),this.subscription2&&this.subscription2.unsubscribe()}splitMarketName(n){if(!n)return"";let e=n.indexOf("(");return e!==-1?n.substring(0,e).trim():n}capitalize(n){return n?n.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()):""}static \u0275fac=function(e){return new(e||a)(c(M),c(I),c(N),c(P),c(R))};static \u0275cmp=k({type:a,selectors:[["app-dragon-tiger-2020"]],decls:17,vars:9,consts:[[1,"main-container"],[1,"tool-parent"],["data-bs-toggle","collapse","data-bs-target","#demo-l-1",1,"fas","fa-info-circle"],["id","demo-l-1",1,"icon-range","collapse","bet-info-card"],[1,"small-txt"],[1,"dtobx"],["class","dragon-side position-relative",3,"ngClass",4,"ngIf"],["class","middle-tie-div ",3,"ngClass",4,"ngIf"],["class","tiger-side position-relative",3,"ngClass",4,"ngIf"],[1,"showInMobile"],[1,"dragon-side","position-relative",3,"ngClass"],[1,"dragon-text"],[1,"dragon-zero","font-noto-sans","fw-bold"],[1,"abosolute-zero","font-noto-sans"],[1,"middle-tie-div",3,"ngClass"],[1,"tiger-side","position-relative",3,"ngClass"],[1,"abosolute-right-zero","font-noto-sans"]],template:function(e,t){e&1&&(r(0,"div"),m(1,"app-video-player"),i(),r(2,"div",0)(3,"div",1),m(4,"i",2),r(5,"div",3),o(6," R:"),r(7,"span",4),o(8),h(9,"shortNumber"),h(10,"shortNumber"),i()()(),r(11,"div",5),v(12,D,9,3,"div",6)(13,T,7,3,"div",7)(14,B,9,3,"div",8),i(),r(15,"div",9),m(16,"app-resultbar"),i()()),e&2&&(l(8),b("",f(9,5,t.winnerMarketArray==null?null:t.winnerMarketArray.min),"-",f(10,7,t.winnerMarketArray==null?null:t.winnerMarketArray.max),""),l(4),d("ngIf",t.winnerMarketArray==null||t.winnerMarketArray.runners==null?null:t.winnerMarketArray.runners[0]),l(),d("ngIf",t.winnerMarketArray==null||t.winnerMarketArray.runners==null?null:t.winnerMarketArray.runners[0]),l(),d("ngIf",t.winnerMarketArray==null||t.winnerMarketArray.runners==null?null:t.winnerMarketArray.runners[0]))},dependencies:[z,S,C,w,O],styles:[".main-container[_ngcontent-%COMP%]{padding:10px 10px 40px;background-color:#f8f8fb;border-radius:0 0 8px 8px;box-shadow:0 2px 6px #e2e2e2}.tooltip-div[_ngcontent-%COMP%]{text-align:right;width:100%}.fa-info-circle[_ngcontent-%COMP%]{font-size:14px}.dtobx[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;padding-top:20px;position:relative}.dragon-side[_ngcontent-%COMP%]{width:100%;padding:6px 35px 6px 6px;border:2px solid #fc4242;background-color:#fc42422e;display:flex;justify-content:space-between;align-items:center;min-height:60px;position:relative}.dragon-text[_ngcontent-%COMP%]{line-height:22px;letter-spacing:0;color:#000;font-family:Noto Sans;font-size:12px!important;text-transform:capitalize;font-weight:700}p[_ngcontent-%COMP%]{margin:0%;padding:0%}.dragon-zero[_ngcontent-%COMP%]{font-size:14px}.abosolute-zero[_ngcontent-%COMP%]{left:0;position:absolute;bottom:-20px;font-size:11px;line-height:18px}.tiger-side[_ngcontent-%COMP%]{width:100%;border:2px solid #fdcf13;background-color:#fdcf132e;display:flex;justify-content:space-between;align-items:center;min-height:60px;padding:6px 6px 6px 35px;position:relative}.abosolute-right-zero[_ngcontent-%COMP%]{right:0;position:absolute;bottom:-20px;font-size:11px;line-height:18px}.middle-tie-div[_ngcontent-%COMP%]{position:absolute;width:70px;height:70px;border-radius:50%;left:50%;transform:translate(-50%);padding:6px;display:flex;align-items:center;background-color:#03b37f;color:#fff;flex-direction:column;justify-content:center;z-index:50;font-size:14px}.dragon-tiger-btns-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;width:100%;height:100%}.icon-bg[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;background-color:#ddd;padding:7px;margin-bottom:5px;font-size:14px}.tooltip-text-dragon[_ngcontent-%COMP%]{color:#fc4242;font-size:14px;font-weight:bolder}.tooltip-text-tiger[_ngcontent-%COMP%]{color:#ef910f;font-size:14px;font-weight:bolder}.btns-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.alignment[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%}.text-size[_ngcontent-%COMP%]{font-size:14px}.btn-blue[_ngcontent-%COMP%]{width:100%;height:50px;background-color:#72bbef17;border:2px solid #72bbef;font-size:12px;text-align:center;border-radius:4px;display:flex;align-items:center;justify-content:center}.btn-bottom-zero[_ngcontent-%COMP%]{font-size:18px}.btns-wraper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;column-gap:5px}.card-img[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:5px}.card-img-div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.bottom-tooltip-alignment[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center;background-color:#ddd;padding:7px;margin-bottom:5px;font-size:14px}.cards-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:flex-start;width:100%}.card-wraper[_ngcontent-%COMP%]{min-width:80px;margin-right:5px;margin-left:5px;width:auto;margin-bottom:10px;display:flex;flex-direction:column;justify-content:center;align-items:center}.cards-size[_ngcontent-%COMP%]{width:48px}.card-zero[_ngcontent-%COMP%]{font-size:18px}.converting[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%}.margin-changing[_ngcontent-%COMP%]{margin-top:0%!important}.lock-img[_ngcontent-%COMP%]{width:15px;height:15px}.lock-wraper[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#d6dedbd6;z-index:10;border-radius:4px;top:0%;left:0%}@media (min-width: 767px){.converting[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;height:100%;position:relative}.middle-tie-div[_ngcontent-%COMP%]{width:100px;height:100px}.dragon-tiger-btns-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;width:49%;height:100%}.middle-border[_ngcontent-%COMP%]{height:calc(100% - 3rem);margin-top:3rem;width:2px;background-color:gray;position:absolute;left:50%}.margin-changing[_ngcontent-%COMP%]{margin-top:3rem!important}.dragon-text[_ngcontent-%COMP%]{font-size:14px}.dragon-side[_ngcontent-%COMP%]{padding-right:60px}.tiger-side[_ngcontent-%COMP%]{padding-left:60px}.abosolute-zero[_ngcontent-%COMP%], .abosolute-right-zero[_ngcontent-%COMP%]{font-size:18px}}.bet-info-card[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;background-color:#16191c;padding:4px;word-wrap:break-word;font-size:12px;z-index:10;transition:.1s;text-transform:capitalize;color:#aaafb5;z-index:150;text-wrap:nowrap}.tool-parent[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:flex-end;align-items:center;height:22px}@media (max-width: 1279px){.main-container[_ngcontent-%COMP%]{padding:5px;box-shadow:none;border-radius:0}}"]})};export{E as DragonTiger2020Component};
