import{a as q,b as G,c as b}from"./chunk-3G5WPQKU.js";import{a as W}from"./chunk-DW4XPVKQ.js";import{a as Y}from"./chunk-AZX2OHK4.js";import{a as Q,b as X,c as H,d as Z}from"./chunk-A5YAUSYP.js";import{m as V,p as U,q as I}from"./chunk-6542H3SY.js";import{f as L,h as N}from"./chunk-F4ECYANF.js";import{$b as M,Db as i,Nb as l,O as C,Ob as s,Pb as m,Sb as F,Sc as B,Uc as E,Vb as f,Wb as c,Yc as R,ac as D,bb as a,bc as T,cb as g,dc as h,ec as k,fc as z,hd as x,mb as O,mc as v,oa as p,pa as y,sb as u,tc as S,uc as _}from"./chunk-CKWEI2SK.js";import{g as w}from"./chunk-ZR4K4ZIC.js";var A=r=>[r];function K(r,n){r&1&&m(0,"img",41)}function j(r,n){r&1&&m(0,"img",42)}function ee(r,n){r&1&&m(0,"img",43)}function te(r,n){r&1&&m(0,"img",44)}function ne(r,n){r&1&&m(0,"img",45)}function re(r,n){r&1&&m(0,"img",46)}function ae(r,n){if(r&1&&(l(0,"div",34),u(1,K,1,0,"img",35)(2,j,1,0,"img",36)(3,ee,1,0,"img",37)(4,te,1,0,"img",38)(5,ne,1,0,"img",39)(6,re,1,0,"img",40),s()),r&2){let e=c();a(),i("ngIf",e.idToLandOn&&e.idToLandOn==1),a(),i("ngIf",e.idToLandOn&&e.idToLandOn==2),a(),i("ngIf",e.idToLandOn&&e.idToLandOn==5),a(),i("ngIf",e.idToLandOn&&e.idToLandOn==10),a(),i("ngIf",e.idToLandOn&&e.idToLandOn==20),a(),i("ngIf",e.idToLandOn&&e.idToLandOn==40)}}function ie(r,n){if(r&1&&(l(0,"span",49),h(1),S(2,"number"),s()),r&2){let e=c(2);i("ngClass",v(4,A,e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[0]==null?null:e.marketArray[0].runners[0].selectionId]>0?"plus-book":"minus-book")),a(),k(e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[0]==null?null:e.marketArray[0].runners[0].selectionId]?_(2,2,e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[0]==null?null:e.marketArray[0].runners[0].selectionId]):"0.00")}}function le(r,n){if(r&1&&(l(0,"span",47),u(1,ie,3,6,"span",48),s()),r&2){let e=c();a(),i("ngIf",e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[0]==null?null:e.marketArray[0].runners[0].selectionId])}}function se(r,n){if(r&1&&(l(0,"span",49),h(1),S(2,"number"),s()),r&2){let e=c(2);i("ngClass",v(4,A,e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[1]==null?null:e.marketArray[0].runners[1].selectionId]>0?"plus-book":"minus-book")),a(),k(e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[1]==null?null:e.marketArray[0].runners[1].selectionId]?_(2,2,e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[1]==null?null:e.marketArray[0].runners[1].selectionId]):"0.00")}}function oe(r,n){if(r&1&&(l(0,"span",47),u(1,se,3,6,"span",48),s()),r&2){let e=c();a(),i("ngIf",e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[1]==null?null:e.marketArray[0].runners[1].selectionId])}}function me(r,n){if(r&1&&(l(0,"span",49),h(1),S(2,"number"),s()),r&2){let e=c(2);i("ngClass",v(4,A,e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[2]==null?null:e.marketArray[0].runners[2].selectionId]>0?"plus-book":"minus-book")),a(),k(e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[2]==null?null:e.marketArray[0].runners[2].selectionId]?_(2,2,e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[2]==null?null:e.marketArray[0].runners[2].selectionId]):"0.00")}}function ue(r,n){if(r&1&&(l(0,"span",47),u(1,me,3,6,"span",48),s()),r&2){let e=c();a(),i("ngIf",e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[2]==null?null:e.marketArray[0].runners[2].selectionId])}}function ce(r,n){if(r&1&&(l(0,"span",49),h(1),S(2,"number"),s()),r&2){let e=c(2);i("ngClass",v(4,A,e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[3]==null?null:e.marketArray[0].runners[3].selectionId]>0?"plus-book":"minus-book")),a(),k(e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[3]==null?null:e.marketArray[0].runners[3].selectionId]?_(2,2,e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[3]==null?null:e.marketArray[0].runners[3].selectionId]):"0.00")}}function de(r,n){if(r&1&&(l(0,"span",47),u(1,ce,3,6,"span",48),s()),r&2){let e=c();a(),i("ngIf",e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[3]==null?null:e.marketArray[0].runners[3].selectionId])}}function pe(r,n){if(r&1&&(l(0,"span",49),h(1),S(2,"number"),s()),r&2){let e=c(2);i("ngClass",v(4,A,e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[4]==null?null:e.marketArray[0].runners[4].selectionId]>0?"plus-book":"minus-book")),a(),k(e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[4]==null?null:e.marketArray[0].runners[4].selectionId]?_(2,2,e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[4]==null?null:e.marketArray[0].runners[4].selectionId]):"0.00")}}function ye(r,n){if(r&1&&(l(0,"span",47),u(1,pe,3,6,"span",48),s()),r&2){let e=c();a(),i("ngIf",e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[4]==null?null:e.marketArray[0].runners[4].selectionId])}}function ge(r,n){if(r&1&&(l(0,"span",49),h(1),S(2,"number"),s()),r&2){let e=c(2);i("ngClass",v(4,A,e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[5]==null?null:e.marketArray[0].runners[5].selectionId]>0?"plus-book":"minus-book")),a(),k(e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[5]==null?null:e.marketArray[0].runners[5].selectionId]?_(2,2,e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[5]==null?null:e.marketArray[0].runners[5].selectionId]):"0.00")}}function fe(r,n){if(r&1&&(l(0,"span",47),u(1,ge,3,6,"span",48),s()),r&2){let e=c();a(),i("ngIf",e.casinoPl[e.marketArray[0]==null?null:e.marketArray[0].marketId][e.marketArray[0]==null||e.marketArray[0].runners[5]==null?null:e.marketArray[0].runners[5].selectionId])}}var J=class r{constructor(n,e,t,o,d,P,he,ke,ve){this.route=n;this.indexedDb=e;this.casinoService=t;this.toaster=o;this.router=d;this.backendService=P;this.networkService=he;this.mainService=ke;this.encyDecy=ve;this.eventid=this.route.snapshot.params.id,localStorage.setItem("eventId",this.eventid),this.message.id=this.eventid}subscription;message={type:"1",id:""};eventId;firstBoxWidth="0%";secndBoxWidth="0%";eventid;myVideo=null;placedbet=!0;runnersName={};casinoPl=[];marketArray;isBetsSlipOpened="";rulesBox;selectedResult;betplaceObj;resultArray;totalMatchedBets;game;betSlip="game";timer;winnerMarketArray;playerACards;playerBCards;gameroundId;isValueBetsSlip;_roomId;betType;marketId;split_arr;changeValue;eventName;counter=0;selectedCell;betSelectedPlayer;resultcounter=0;RoundWinner;betStakes;selectedBetAmount;sizeRunner1;sizeRunner2;isbetInProcess=!1;getRoundId="";timerLeft;TIME_LIMIT=0;timerInterval;timePassed=0;timeLeft=0;roundID="0";sub2;config={formatDate:({date:n})=>`${n/1e3}`};casinoFlag=1;wheel;seed=[{fillStyle:"#59e173",text:"10",value:10,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#6397fa",text:"2",value:2,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#fa7a43",text:"20",value:20,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#6397fa",text:"2",value:2,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#6397fa",text:"2",value:2,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#c584ff",text:"5",value:5,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#6397fa",text:"2",value:2,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#59e173",text:"10",value:10,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#c584ff",text:"5",value:5,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#6397fa",text:"2",value:2,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#c584ff",text:"5",value:5,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#ff3f53",text:"40",value:40,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#6397fa",text:"2",value:2,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#6397fa",text:"2",value:2,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#59e173",text:"10",value:10,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#6397fa",text:"2",value:2,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#c584ff",text:"5",value:5,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#6397fa",text:"2",value:2,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#c584ff",text:"5",value:5,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#6397fa",text:"2",value:2,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#fa7a43",text:"20",value:20,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#6397fa",text:"2",value:2,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#59e173",text:"10",value:10,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#6397fa",text:"2",value:2,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#6397fa",text:"2",value:2,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#c584ff",text:"5",value:5,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#6397fa",text:"2",value:2,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#c584ff",text:"5",value:5,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#f5c54c",text:"1",value:1,textFontSize:15,textFillStyle:"#000000"},{fillStyle:"#6397fa",text:"2",value:2,textFontSize:15,textFillStyle:"#000000"}];idToLandOn;items;textOrientation=G.VERTICAL;textAlignment=q.OUTER;isResultDeclare=!1;playSound(){new Audio("/assets/tick.mp3").play()}ngOnInit(){this.sub2=this.backendService.getRoundId().subscribe(t=>{this.eventName=t?.eventName,console.log("he call me  change eventName",this.eventName),this.eventId=t?.eventId,this.roundID!=t?.roundId&&(this.totalMatchedBets=0,this.roundID=t?.roundId,console.log("he call me  change roundid",this.roundID))}),$(".vitual-content").css("background","#000000"),$("body").css("overflow","scroll"),this.idToLandOn=this.seed[Math.floor(Math.random()*this.seed.length)];let n=["#FF0000","#000000"];this.items=this.seed.map(t=>({fillStyle:t.fillStyle,text:t.text,id:t.value,outerRadius:212,innerRadius:48,textFillStyle:"#000000",textFontSize:"15",textOrientation:"horizontal",textAlignment:"outer",numSegments:52,animation:{type:"spinToStop",duration:10,spins:10,soundTrigger:"pin"},pins:{number:52,fillStyle:"silver",outerRadius:4}})),$("#wheelCanvas canvas").css("background","url("+"/assets/img/wheelbg.png"+")"),$("#wheelCanvas canvas").css("background-repeat","no-repeat"),$("#wheelCanvas canvas").css("background-position","center"),$("#wheelCanvas canvas").css("width","100%"),this.getBetStake(),this.encyDecy.generateEncryptionKey("",this.message),this.subscription=this.encyDecy.getMarketData().subscribe((t=[])=>{if(this.casinoService=t,t){this.getRoundId=localStorage.getItem("roundID");let o=JSON.parse(t);Array.isArray(o.data)?o.type=="1"&&(this.marketArray=o.data[0]?.marketArr,this.game=o.data[0],this.marketArray&&(this.game.marketArr=this.marketArray?this.marketArray:o.data[0]?.marketArr),this.eventName=o.data[0]?o.data[0].eventName:"",this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.handleEventResponse(o,0)):this.handleEventResponse(o,0),this.game&&(this.game.eventName=this.eventName?this.eventName:this.game.eventName,this.networkService.updateRoundId(this.game),this.game?.status=="ONLINE"&&o.type!="3"&&(this.isResultDeclare=!1,this.timerInterval||(this.timerLeft=this.game?.seconds),this.game&&this.casinoFlag==1&&(this.casinoFlag=2,this.TIME_LIMIT=this.game?.seconds,this.TIME_LIMIT&&(this.timeLeft=this.TIME_LIMIT,this.timerInterval=setInterval(()=>{this.timeLeft=this.timeLeft-1,this.TIME_LIMIT&&document.documentElement.style.setProperty("--timerValue",this.TIME_LIMIT.toString()+"s"),this.timerLeft=this.formatTimeLeft(this.timeLeft),this.timeLeft==0&&window.clearInterval(this.timerInterval),(this.timeLeft==0||this.timeLeft<0)&&(this.timeLeft=0,this.casinoFlag=1,window.clearInterval(this.timerInterval))},1e3)))),this.game.status=="SUSPEND"&&(this.TIME_LIMIT=0,this.timerLeft=0,this.timePassed=0,this.timeLeft=0,this.casinoFlag=1,window.clearInterval(this.timerInterval),this.timerInterval=null),this.game.status=="SUSPEND"&&(this.isBetsSlipOpened="",this.isValueBetsSlip=0),(this.getRoundId!=this.game.roundId||this.getRoundId=="")&&(localStorage.setItem("roundID",this.game.roundId),this.getBalance(),this.casinoPl=[],this.getResults(),this.selectedCell="",this.betSelectedPlayer="",this.secndBoxWidth="0%",this.firstBoxWidth="0%"),this.winnerMarketArray=this.game.marketArr?this.game.marketArr[0]:"",this.marketArray=this.game.marketArr?this.game.marketArr:[],this.runnersName=this.winnerMarketArray.runnersName)}}),this.getResults(),this.getAllMarketProfitLoss()}reset(){this.wheel.reset()}spin(n){return w(this,null,function*(){this.wheel.reset(),this.idToLandOn=n,yield new Promise(e=>setTimeout(e,0)),this.wheel.spin()})}after(){this.isResultDeclare=!0;let n=new Audio("./../../assets/dreamwinner.mp3");n.autoplay=!0,n.pause(),n.play()}handleEventResponse(n,e){if(Array.isArray(n))n.forEach(t=>{this.marketObhManager(t)});else{let t=n;this.marketObhManager(t);return}}marketObhManager(n){if(n&&n.type=="1"){if("data"in n&&this.counter==0&&n.data.marketArr&&n.data._id)this.marketArray=n.data.marketArr,this.game=this.marketArray?this.marketArray:n.data,this.game=n.data,this.eventName=n.data.eventName,this.counter=1;else if("marketArr"in n?.data&&Array.isArray(n.data.marketArr)&&(this.game.marketArr=n.data.marketArr),"cardsArr"in n?.data&&(Array.isArray(n.data.cardsArr)||(this.game.cardsArr=n.data.cardsArr)),"roundId"in n&&(this.game.roundId=n?.roundId),"roundId"in n.data&&(this.game.roundId=n?.data?.roundId),"status"in n?.data&&(this.game.status=n.data.status),"resultsArr"in n?.data){this.casinoPl&&this.casinoPl[this.winnerMarketArray?.marketId]&&(this.casinoPl[this.winnerMarketArray?.marketId][this.winnerMarketArray.runners[0].selectionId]>0&&(this.betSelectedPlayer=this.winnerMarketArray.runners[0].selectionId),this.casinoPl[this.winnerMarketArray?.marketId][this.winnerMarketArray.runners[1].selectionId]>0&&(this.betSelectedPlayer=this.winnerMarketArray.runners[1].selectionId));for(let e in n?.data?.resultsArr[0]?.runners)n.data?.resultsArr[0]?.runners[e]=="WINNER"&&(this.RoundWinner=n?.data?.resultsArr[0]?.runnersName[e],this.networkService.setResultData(this.RoundWinner),this.spin(parseInt(this.RoundWinner))),e==this.betSelectedPlayer&&n.data?.resultsArr[0]?.runners[e]=="WINNER"&&setTimeout(()=>{this.networkService.setResultSparkData(!0)},1e3);setTimeout(()=>{this.networkService.setResultData(this.RoundWinner),this.RoundWinner=null},5e3)}}}formatTimeLeft(n){let e=Math.floor(n/60);var t=n%60;return t<10&&(t=parseInt(`0${t}`)),t}getBetStake(){let n=x.userBetStakeList.split("/").filter(Boolean).pop();this.indexedDb.getRecord(n).subscribe(e=>{e?.data?.stake&&(this.betStakes=e.data.stake)})}setStake(n){n!=this.selectedBetAmount?this.selectedBetAmount=n:this.selectedBetAmount=0}sendMsg(){this.casinoService.send(this.message)}intoNumber(n){return n.replace("%",""),parseFloat(n).toFixed(1)}getMatchedBets(n){this.totalMatchedBets=n}getMatchedBetsActive(n){this.betSlip=n}getEventOdds(){this.networkService.getCasinoEventOdds(this.eventid).subscribe(n=>{n.meta.status_code==200?(this.game=n?.data,this.marketArray=this.game?.marketArr,this.winnerMarketArray=this.game?.marketArr?this.game.marketArr[0]:"",this.runnersName=this.winnerMarketArray.runnersName):this.toaster.error(n.meta.message,"",{positionClass:"toast-top-right"})})}openBetslip(n,e,t,o,d,P){if(this.game.status!="SUSPEND"&&!this.isbetInProcess)this.selectedBetAmount>0?(this.isBetsSlipOpened=e,this.marketId=n,this.betType=t,this.isValueBetsSlip=0,this.selectedCell=e,this.betplaceObj={marketId:n,selectionId:e,betType:t,price:o,eventId:this.eventid,roomId:this._roomId,minValue:d,maxValue:P},this.placeCasinoBet()):this.toaster.error("please select chips for Bet","",{positionClass:"toast-top-right"});else return}placeCasinoBet(){this.isbetInProcess=!0;let n={marketId:this.betplaceObj.marketId,selectionId:this.betplaceObj.selectionId,stake:this.selectedBetAmount,eventId:this.betplaceObj.eventId};$(".btn-placebet").prop("disabled",!0);let e;e=x.virtualCasinoPlacebetURL,this.networkService.getAllRecordsByPost(e,n).pipe(C()).subscribe(t=>{if(t?.meta?.status==!0){this.toaster.success(t.meta.message,"",{positionClass:"toast-top-right"}),this.getBalance(),this.getAllMarketProfitLoss(),this.isbetInProcess=!1;let d={profitlossCall:!0,loader:!1};this.networkService.setBetPlace(d)}else t?.meta.status==!1?this.toaster.error(t.meta.message,"",{positionClass:"toast-top-right"}):this.toaster.error("Something went wrong please try again.","",{positionClass:"toast-top-right"}),this.isbetInProcess=!1;var o=t.pl},t=>{$(".btn-placebet").prop("disabled",!1),t?.error.meta.status==!1?this.toaster.error(t.error.meta.message,"",{positionClass:"toast-top-right"}):this.toaster.error("Something went wrong please try again.","",{positionClass:"toast-top-right"}),this.isbetInProcess=!1})}ChangeValueBetSlip(n){this.isValueBetsSlip=n}getAllMarketProfitLoss(){this.networkService.getCasinoPLURL(this.eventid).subscribe(n=>{n.meta.status==!0&&(this.casinoPl=n.pl)})}getBalance(){this.networkService.getAllRecordsByPost(x.getUserBalanceURL,{}).pipe(C()).subscribe(n=>{if(n.meta.status==!0){let e=(n.data.bankBalance-n.data.exposure).toFixed(2);$(".userTotalBalance").text(e),$(".userTotalExposure").text(n.data.exposure)}},n=>{let e=n})}getResults(){this.networkService.getAllRecordsByPost(x.getCasinoResultURL,{eventId:this.eventid}).pipe(C()).subscribe(n=>{this.networkService.updateResultstream(n.data)},n=>{let e=n})}ngOnDestroy(){let n={type:"2",id:""};this.subscription&&this.subscription.unsubscribe(),this.encyDecy.sendMessageToSocket(n),this.subscription&&this.subscription.unsubscribe(),$(".vitual-content").css("background","unset"),$("body").css("overflow","")}logoClickHandler(){this.router.navigateByUrl("/"),this.backendService.setProfilePagesStatus(!1)}loadRules(){this.backendService.getRulesOfMarketURL(this.eventid).subscribe(n=>{this.rulesBox=n?.data?.rules||"Rules Not Found",this.backendService.setCasinoResults(this.rulesBox);let e=document.createElement("div");e.innerHTML=this.rulesBox;let t=document.getElementById("rulesBoxContainer");$("#rulesBoxContainer").empty(),t?.appendChild(e)},n=>{console.error("Error fetching rules:",n)})}static \u0275fac=function(e){return new(e||r)(g(L),g(U),g(Y),g(V),g(N),g(I),g(I),g(W),g(Z))};static \u0275cmp=O({type:r,selectors:[["app-dream-catcher"]],viewQuery:function(e,t){if(e&1&&M(b,5),e&2){let o;D(o=T())&&(t.wheel=o.first)}},inputs:{eventId:"eventId"},decls:51,vars:22,consts:[["wheel",""],[2,"background-color","black"],[1,"catcher"],[1,"right-arrows-main"],[1,"arrow-up",3,"click"],[1,"fas","fa-home"],["data-bs-toggle","modal","data-bs-target","#resultModal","data-bs-backdrop","false",1,"arrow-up",3,"click"],[1,"fas","fa-info-circle"],["data-bs-toggle","collapse","data-bs-target","#balanceDetails","aria-expanded","false","aria-controls","balanceDetails",1,"arrow-up","showInDesktop",2,"margin-right","0"],[1,"arrow"],[1,"fas","fa-chevron-circle-up","arrow-icon"],[1,"casinoStream"],["class","finalresultdiv",4,"ngIf"],["align","center",2,"padding-top","30px"],["cellpadding","0","cellspacing","0","border","0"],["width","480","height","480","align","center","valign","center",1,"the_wheel"],["id","wheelCanvas","width","480","height","480","spinDuration","10","pointerStrokeColor","black","pointerFillColor","gold",3,"onSpinComplete","items","innerRadius","spinAmount","textOrientation","textAlignment","idToLandOn"],[1,"showInDesktop"],[3,"minutes"],[1,"casino-video-title"],[1,"casino-name"],[1,"casino-id"],[1,"lucky-footer"],["id","betZone",1,"bet_zone","stop_bet"],["name","betZoneBac",1,"down_set"],["name","betZoneBac","id","betBoxPlayer",1,"box_player","0","greenodd","no_win",3,"click","ngClass"],["src","../../../assets/img/dream1x.png",1,"betImage"],["class","pl_lucky",4,"ngIf"],["src","../../../assets/img/dream2x.png",1,"betImage"],["src","../../../assets/img/dream5x.png",1,"betImage"],["src","../../../assets/img/dream10x.png",1,"betImage"],["src","../../../assets/img/dream20x.png",1,"betImage"],["src","../../../assets/img/dream40x.png",1,"betImage"],[1,"showInMobile"],[1,"finalresultdiv"],["src","/assets/img/sector01.svg",4,"ngIf"],["src","/assets/img/sector02.svg",4,"ngIf"],["src","/assets/img/sector05.svg",4,"ngIf"],["src","/assets/img/sector10.svg",4,"ngIf"],["src","/assets/img/sector20.svg",4,"ngIf"],["src","/assets/img/sector40.svg",4,"ngIf"],["src","/assets/img/sector01.svg"],["src","/assets/img/sector02.svg"],["src","/assets/img/sector05.svg"],["src","/assets/img/sector10.svg"],["src","/assets/img/sector20.svg"],["src","/assets/img/sector40.svg"],[1,"pl_lucky"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(e,t){if(e&1){let o=F();l(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),f("click",function(){return p(o),y(t.logoClickHandler())}),m(4,"i",5),s(),l(5,"div",6),f("click",function(){return p(o),y(t.loadRules())}),m(6,"i",7),s(),l(7,"div",8)(8,"div",9),m(9,"i",10),s()()(),l(10,"div",11),u(11,ae,7,6,"div",12),l(12,"div",13)(13,"table",14)(14,"tr")(15,"td",15)(16,"universe-wheel",16,0),f("onSpinComplete",function(){return p(o),y(t.after())}),s()()()()()(),m(18,"app-casino-result-modal"),l(19,"div",17),m(20,"app-resultbar"),s(),m(21,"app-timer",18),l(22,"div",19)(23,"span",20),h(24),s(),l(25,"div",21),h(26),s()()(),l(27,"div",22)(28,"section",23)(29,"div",24)(30,"div",25),f("click",function(){return p(o),y(t.openBetslip(t.marketArray[0].marketId,t.marketArray[0].runners[0].selectionId,"back",t.marketArray[0].runners[0].price.back[0].price,t.marketArray[0]==null?null:t.marketArray[0].min,t.marketArray[0]==null?null:t.marketArray[0].max))}),m(31,"img",26),u(32,le,2,1,"span",27),s(),l(33,"div",25),f("click",function(){return p(o),y(t.openBetslip(t.marketArray[0].marketId,t.marketArray[0].runners[1].selectionId,"back",t.marketArray[0].runners[1].price.back[0].price,t.marketArray[0]==null?null:t.marketArray[0].min,t.marketArray[0]==null?null:t.marketArray[0].max))}),m(34,"img",28),u(35,oe,2,1,"span",27),s(),l(36,"div",25),f("click",function(){return p(o),y(t.openBetslip(t.marketArray[0].marketId,t.marketArray[0].runners[2].selectionId,"back",t.marketArray[0].runners[2].price.back[0].price,t.marketArray[0]==null?null:t.marketArray[0].min,t.marketArray[0]==null?null:t.marketArray[0].max))}),m(37,"img",29),u(38,ue,2,1,"span",27),s()(),l(39,"div",24)(40,"div",25),f("click",function(){return p(o),y(t.openBetslip(t.marketArray[0].marketId,t.marketArray[0].runners[3].selectionId,"back",t.marketArray[0].runners[3].price.back[0].price,t.marketArray[0]==null?null:t.marketArray[0].min,t.marketArray[0]==null?null:t.marketArray[0].max))}),m(41,"img",30),u(42,de,2,1,"span",27),s(),l(43,"div",25),f("click",function(){return p(o),y(t.openBetslip(t.marketArray[0].marketId,t.marketArray[0].runners[4].selectionId,"back",t.marketArray[0].runners[4].price.back[0].price,t.marketArray[0]==null?null:t.marketArray[0].min,t.marketArray[0]==null?null:t.marketArray[0].max))}),m(44,"img",31),u(45,ye,2,1,"span",27),s(),l(46,"div",25),f("click",function(){return p(o),y(t.openBetslip(t.marketArray[0].marketId,t.marketArray[0].runners[5].selectionId,"back",t.marketArray[0].runners[5].price.back[0].price,t.marketArray[0]==null?null:t.marketArray[0].min,t.marketArray[0]==null?null:t.marketArray[0].max))}),m(47,"img",32),u(48,fe,2,1,"span",27),s()()()()(),l(49,"div",33),m(50,"app-resultbar"),s()}e&2&&(a(11),i("ngIf",t.isResultDeclare),a(5),i("items",t.items)("innerRadius",48)("spinAmount",100)("textOrientation",t.textOrientation)("textAlignment",t.textAlignment)("idToLandOn",t.idToLandOn),a(5),i("minutes",t.TIME_LIMIT),a(3),k(t.eventName),a(2),z("Round ID: ",t.roundID,""),a(4),i("ngClass",(t.marketArray[0]==null?null:t.marketArray[0].runners[0].status)=="SUSPEND"||(t.game==null?null:t.game.status)=="SUSPEND"||(t.game==null?null:t.game.length)==0?"suspended":""),a(2),i("ngIf",t.casinoPl[t.marketArray[0]==null?null:t.marketArray[0].marketId]),a(),i("ngClass",(t.marketArray[0]==null?null:t.marketArray[0].runners[1].status)=="SUSPEND"||(t.game==null?null:t.game.status)=="SUSPEND"||(t.game==null?null:t.game.length)==0?"suspended":""),a(2),i("ngIf",t.casinoPl[t.marketArray[0]==null?null:t.marketArray[0].marketId]),a(),i("ngClass",(t.marketArray[0]==null?null:t.marketArray[0].runners[2].status)=="SUSPEND"||(t.game==null?null:t.game.status)=="SUSPEND"||(t.game==null?null:t.game.length)==0?"suspended":""),a(2),i("ngIf",t.casinoPl[t.marketArray[0]==null?null:t.marketArray[0].marketId]),a(2),i("ngClass",(t.marketArray[0]==null?null:t.marketArray[0].runners[3].status)=="SUSPEND"||(t.game==null?null:t.game.status)=="SUSPEND"||(t.game==null?null:t.game.length)==0?"suspended":""),a(2),i("ngIf",t.casinoPl[t.marketArray[0]==null?null:t.marketArray[0].marketId]),a(),i("ngClass",(t.marketArray[0]==null?null:t.marketArray[0].runners[4].status)=="SUSPEND"||(t.game==null?null:t.game.status)=="SUSPEND"||(t.game==null?null:t.game.length)==0?"suspended":""),a(2),i("ngIf",t.casinoPl[t.marketArray[0]==null?null:t.marketArray[0].marketId]),a(),i("ngClass",(t.marketArray[0]==null?null:t.marketArray[0].runners[5].status)=="SUSPEND"||(t.game==null?null:t.game.status)=="SUSPEND"||(t.game==null?null:t.game.length)==0?"suspended":""),a(2),i("ngIf",t.casinoPl[t.marketArray[0]==null?null:t.marketArray[0].marketId]))},dependencies:[Q,H,X,b,E,B,R],styles:[".catcher[_ngcontent-%COMP%]{position:relative;background:url(/assets/dream.png);background-repeat:no-repeat;background-position:center;background-size:cover}.right-arrows-main[_ngcontent-%COMP%]{position:absolute;z-index:10;top:5px;right:5px;display:flex;align-items:flex-start}.arrow-up[_ngcontent-%COMP%]{color:#fff;margin-right:5px;border-radius:50%;font-size:24px;border:2px solid #999;background-color:#00000080;height:40px;width:40px;display:flex;align-items:center;justify-content:center;cursor:pointer}.casino-video-title[_ngcontent-%COMP%]{background-color:#0009;padding:5px;margin:5px;text-align:center;position:absolute;top:5px;max-width:244px;width:100%;z-index:10}.casino-name[_ngcontent-%COMP%]{color:#ef910f;text-transform:uppercase;font-size:16px;line-height:22px}.casino-id[_ngcontent-%COMP%]{color:#ddd;font-size:12px;line-height:12px}.finalresultdiv[_ngcontent-%COMP%]{position:relative}.finalresultdiv[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:0;right:0;margin-left:auto;margin-right:auto;width:130px;top:40px;height:130px}.finalresultdiv[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.finalresultdiv[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:0;right:0;margin-left:auto;margin-right:auto;width:160px;top:80px;height:150px;-webkit-animation-name:_ngcontent-%COMP%_zoom;-webkit-animation-duration:.6s;animation-name:_ngcontent-%COMP%_zoom;animation-duration:.6s}.fa-home[_ngcontent-%COMP%]{transform:translateY(-1px)}.arrow-icon[_ngcontent-%COMP%]{transform:translateY(1px)}.arrow-up[data-bs-toggle=collapse][aria-expanded=true][_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%], .match-bets[data-bs-toggle=collapse][aria-expanded=true][_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{transform:rotate(180deg);transition:none}[data-bs-toggle=collapse][aria-expanded=true][_ngcontent-%COMP%] + .arrow[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{transform:rotate(180deg);transition:none}.collapse[_ngcontent-%COMP%]{overflow:hidden;opacity:0;transition:transform .2s ease-in-out,opacity .3s ease-in-out!important}.collapse.show[_ngcontent-%COMP%]{opacity:1}.bet_zone[_ngcontent-%COMP%]{position:unset}.down_set[_ngcontent-%COMP%]   div.no_win[_ngcontent-%COMP%]{display:flex;padding:0}.down_set[_ngcontent-%COMP%]   div.no_win[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff}.down_set[_ngcontent-%COMP%]   div.no_win[_ngcontent-%COMP%]{height:100%;background:unset;border:unset}.down_set[_ngcontent-%COMP%]{height:88px;justify-content:center}.down_set[_ngcontent-%COMP%]:first-child{margin-bottom:10px}.down_set[_ngcontent-%COMP%]{display:flex;background-color:#000;width:100%;padding:0 6px;height:120px;column-gap:10px}.betImage[_ngcontent-%COMP%]{height:100%;width:100%}.down_set[_ngcontent-%COMP%]   div.no_win[_ngcontent-%COMP%]{background:unset;border:unset}.singleDigit[_ngcontent-%COMP%]{top:9px!important;right:8px!important;color:#fff!important}.box_player[_ngcontent-%COMP%], .box_banker[_ngcontent-%COMP%], .box_tie[_ngcontent-%COMP%]{position:relative}.lucky-footer[_ngcontent-%COMP%]   .down_set[_ngcontent-%COMP%]   div.no_win[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff!important}.lucky-footer[_ngcontent-%COMP%]{padding:10px 0}.down_set.top[_ngcontent-%COMP%]   div.no_win[_ngcontent-%COMP%], .down_set.top[_ngcontent-%COMP%]   div.win[_ngcontent-%COMP%]{height:70px}.down_set.bottom[_ngcontent-%COMP%]{height:60px}.down_set[_ngcontent-%COMP%]   div.no_win[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;font-size:12px;font-weight:700;margin:0;text-align:center}.pl_lucky[_ngcontent-%COMP%]{top:8px;left:5px;position:absolute;border-radius:5px;padding:1px 5px;background:#ccc}@media only screen and (max-width: 767px){.right-arrows-main[_ngcontent-%COMP%]{flex-direction:column;row-gap:3px}.arrow-up[_ngcontent-%COMP%]{height:25px;width:25px}.arrow-up[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.casino-video-title[_ngcontent-%COMP%]{max-width:200px;width:auto}.casino-name[_ngcontent-%COMP%]{font-size:12px;line-height:12px}.casino-id[_ngcontent-%COMP%]{font-size:10px;line-height:16px}.catcher[_ngcontent-%COMP%]{background:url(/assets/img/dreammobilebg.png);background-size:cover;padding:65px 0}.finalresultdiv[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{top:50px}.total_bet[_ngcontent-%COMP%]{margin-top:5px}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:auto!important}.function_zone[_ngcontent-%COMP%]{margin-top:11.5rem}.bet_zone[_ngcontent-%COMP%]{height:unset;left:0;background:unset;overflow:unset}.down_set[_ngcontent-%COMP%]{height:70px}.down_set[_ngcontent-%COMP%]   div.no_win[_ngcontent-%COMP%]{height:60px}.timer-overlay[_ngcontent-%COMP%]{top:18px!important;right:37px!important}}@-webkit-keyframes _ngcontent-%COMP%_zoom{0%{-webkit-transform:scale(0)}to{-webkit-transform:scale(1)}}@keyframes _ngcontent-%COMP%_zoom{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_spin1{0%{transform:rotate(225deg)}50%{transform:rotate(225deg)}to{transform:rotate(405deg)}}@keyframes _ngcontent-%COMP%_spin2{0%{transform:rotate(225deg)}50%{transform:rotate(405deg)}to{transform:rotate(405deg)}}@keyframes _ngcontent-%COMP%_spin-tails{0%{transform:rotateX(0)}to{transform:rotateX(1980deg)}}@keyframes _ngcontent-%COMP%_spin-heads{0%{transform:rotateX(0)}to{transform:rotateX(2160deg)}}"]})};export{J as DreamCatcherComponent};
