import{a as T}from"./chunk-YAPTLMR7.js";import{a as D}from"./chunk-DW4XPVKQ.js";import{a as B}from"./chunk-AWYQW5EK.js";import{c as z,d as F}from"./chunk-A5YAUSYP.js";import"./chunk-5UJXZMZS.js";import"./chunk-ACVM4ET5.js";import"./chunk-QZIUMNBJ.js";import{m as N,q as M}from"./chunk-6542H3SY.js";import{f as E}from"./chunk-F4ECYANF.js";import{Cb as w,Db as s,Nb as o,O as S,Ob as r,Pb as g,Qb as f,Rb as y,Sc as I,Tc as O,Uc as P,Wb as d,_a as k,bb as i,cb as C,dc as m,ec as x,gc as b,hd as R,mb as A,sb as l,tc as u,uc as _}from"./chunk-CKWEI2SK.js";import"./chunk-ZR4K4ZIC.js";function $(n,t){if(n&1&&(o(0,"div",11)(1,"div",12)(2,"div",13),g(3,"img",14),o(4,"div",15),g(5,"i",16),o(6,"div",17),m(7),u(8,"shortNumber"),u(9,"shortNumber"),r()()(),o(10,"div",18)(11,"div",19)(12,"span",20),m(13),r()()(),o(14,"div",21),m(15,"0 "),r()()()),n&2){let e=t.$implicit,a=t.index,c=d(2),p=c.$implicit,h=c.index,v=d();i(3),s("src","../assets/twenty-card-race/"+p.runnersName[e.selectionId]+".png",k)("alt",p.runnersName[e.selectionId]),i(2),w("data-bs-target","#range"+h+a),i(),s("id","range"+h+a),i(),b(" R:",_(8,8,p==null?null:p.min),"-",_(9,10,p==null?null:p.max),""),i(4),s("ngClass",v.winnerMarketArray.runners[0].status=="SUSPEND"||v.game.status=="SUSPEND"?"suspended":v.selectedCell==v.winnerMarketArray.runners[0].selectionId?"selected":""),i(2),x(e.price.back[0].price)}}function L(n,t){if(n&1&&(f(0),l(1,$,16,12,"div",10),y()),n&2){let e=d().$implicit;i(),s("ngForOf",e==null?null:e.runners)}}function W(n,t){if(n&1&&(f(0),l(1,L,2,1,"ng-container",9),y()),n&2){let e=t.index;i(),s("ngIf",e===0)}}function Y(n,t){n&1&&(o(0,"span",20),g(1,"img",31)(2,"img",32),r())}function K(n,t){n&1&&(o(0,"span",20),g(1,"img",33)(2,"img",34),r())}function H(n,t){if(n&1&&(o(0,"div",26)(1,"div",27),m(2),r(),o(3,"div",28)(4,"span",29),l(5,Y,3,0,"span",30)(6,K,3,0,"span",30),r()()()),n&2){let e=t.$implicit,a=d(2).$implicit,c=d();i(2),x(e.price.back[0].price),i(2),s("ngClass",c.winnerMarketArray.runners[0].status=="SUSPEND"||c.game.status=="SUSPEND"?"suspended":c.selectedCell==c.winnerMarketArray.runners[0].selectionId?"selected":""),i(),s("ngIf",a.runnersName[e.selectionId]=="RED"),i(),s("ngIf",a.runnersName[e.selectionId]=="BLACK")}}function V(n,t){if(n&1&&(f(0),o(1,"div",22),l(2,H,7,4,"div",23),r(),o(3,"div",24)(4,"span",25),m(5),u(6,"shortNumber"),u(7,"shortNumber"),r()(),y()),n&2){let e=d().$implicit;i(2),s("ngForOf",e==null?null:e.runners),i(3),b("R:",_(6,3,e==null?null:e.min),"-",_(7,5,e==null?null:e.max),"")}}function G(n,t){if(n&1&&(f(0),l(1,V,8,7,"ng-container",9),y()),n&2){let e=t.index;i(),s("ngIf",e===1)}}function J(n,t){if(n&1&&(o(0,"div",26)(1,"div",27),m(2),r(),o(3,"div",28)(4,"span",37),m(5),r()()()),n&2){let e=t.$implicit,a=d(2).$implicit,c=d();i(2),x(e.price.back[0].price),i(2),s("ngClass",c.winnerMarketArray.runners[0].status=="SUSPEND"||c.game.status=="SUSPEND"?"suspended":c.selectedCell==c.winnerMarketArray.runners[0].selectionId?"selected":""),i(),x(c.capitalize(a.runnersName[e.selectionId]))}}function q(n,t){if(n&1&&(o(0,"div",36)(1,"div",22),l(2,J,6,3,"div",23),r(),o(3,"div",24)(4,"span",25),m(5),u(6,"shortNumber"),u(7,"shortNumber"),r()()()),n&2){let e=d().$implicit;i(2),s("ngForOf",e==null?null:e.runners),i(3),b("R:",_(6,3,e==null?null:e.min),"-",_(7,5,e==null?null:e.max),"")}}function Q(n,t){if(n&1&&(f(0),l(1,q,8,7,"div",35),y()),n&2){let e=t.index;i(),s("ngIf",e===2)}}function X(n,t){n&1&&(o(0,"span",20),g(1,"img",41)(2,"img",42),r())}function Z(n,t){n&1&&(o(0,"span",20),g(1,"img",43)(2,"img",44),r())}function j(n,t){if(n&1&&(o(0,"div",26)(1,"div",27),m(2),r(),o(3,"div",28)(4,"span",29),l(5,X,3,0,"span",30)(6,Z,3,0,"span",30),r()()()),n&2){let e=t.$implicit,a=d(2).$implicit,c=d();i(2),x(e.price.back[0].price),i(2),s("ngClass",c.winnerMarketArray.runners[0].status=="SUSPEND"||c.game.status=="SUSPEND"?"suspended":c.selectedCell==c.winnerMarketArray.runners[0].selectionId?"selected":""),i(),s("ngIf",a.runnersName[e.selectionId]=="RED"),i(),s("ngIf",a.runnersName[e.selectionId]=="BLACK")}}function ee(n,t){if(n&1&&(o(0,"div",6)(1,"div",22)(2,"b",39),m(3),r(),l(4,j,7,4,"div",23),r(),o(5,"div",24)(6,"div",40)(7,"span",25),m(8),u(9,"shortNumber"),u(10,"shortNumber"),r()()()()),n&2){let e=d().$implicit,a=d();i(3),x(a.capitalize(e.marketName)),i(),s("ngForOf",e==null?null:e.runners),i(4),b("R:",_(9,4,e==null?null:e.min),"-",_(10,6,e==null?null:e.max),"")}}function te(n,t){if(n&1&&(f(0),l(1,ee,11,8,"div",38),y()),n&2){let e=t.index;i(),s("ngIf",e===3)}}function ne(n,t){if(n&1&&(o(0,"span",47)(1,"div"),g(2,"img",31)(3,"img",32),r(),o(4,"div"),g(5,"img",33)(6,"img",34),r()()),n&2){let e=d(4);s("ngClass",e.winnerMarketArray.runners[0].status=="SUSPEND"||e.game.status=="SUSPEND"?"suspended":e.selectedCell==e.winnerMarketArray.runners[0].selectionId?"selected":"")}}function ie(n,t){if(n&1&&(o(0,"div",40)(1,"div",27),m(2),r(),o(3,"div",28),l(4,ne,7,1,"span",46),r()()),n&2){let e=t.$implicit,a=d(2).$implicit;i(2),x(e.price.back[0].price),i(2),s("ngIf",a.runnersName[e.selectionId]=="ANY SUIT")}}function ae(n,t){if(n&1&&(o(0,"div",36)(1,"div",22)(2,"b",39),m(3),r(),l(4,ie,5,2,"div",45),r(),o(5,"div",24)(6,"span",25),m(7),u(8,"shortNumber"),u(9,"shortNumber"),r()()()),n&2){let e=d().$implicit,a=d();i(3),x(a.capitalize(e.marketName)),i(),s("ngForOf",e==null?null:e.runners),i(3),b("R:",_(8,4,e==null?null:e.min),"-",_(9,6,e==null?null:e.max),"")}}function re(n,t){if(n&1&&(f(0),l(1,ae,10,8,"div",35),y()),n&2){let e=t.index;i(),s("ngIf",e===4)}}var U=class n{constructor(t,e,a,c,p){this.route=t;this.encyDecy=e;this.toaster=a;this.mainService=c;this.backendService=p;this.eventid=this.route.snapshot.params.id,this._roomId="",this.message.id=this.eventid,this.messageResult.id=this.eventid}isActive;message={type:"1",id:""};messageResult={type:"3",id:""};eventid;getRoundId="";myVideo=null;runnersName={};marketArray=[];rulesBox;selectedResult;resultArray;game;_roomId;timer;winnerMarketArray;playerACards;playerBCards;gameroundId;Card;marketId;eventName;split_arr;changeValue;counter=0;selectedCell;currentRunnerPrice;RoundWinner;betSelectedPlayer;playerMarket;bankerMarket;tieMarketArray;tieMarket;pairMarketArray;pairPlayer;pairBanker;subscription;subscription2;winningAmount;ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.subscription2&&this.subscription2.unsubscribe()}ngOnInit(){this.encyDecy.generateEncryptionKey("",this.message),this.subscription=this.encyDecy.getMarketData().subscribe((t=[])=>{if(t){this.getRoundId=localStorage.getItem("roundID");let e=JSON.parse(t);if(Array.isArray(e.data)){if(e.type=="1"&&e.data[0].marketArr.length>0)this.marketArray=e.data[0].marketArr,this.game=e.data[0],this.game.marketArr=this.marketArray?this.marketArray:e.data[0].marketArr,this.eventName=e.data[0].eventName,this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"";else return;this.handleEventResponse(e,0)}else this.handleEventResponse(e,0);this.game&&(this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.marketArray=this.game.marketArr,this.gameroundId=this.game.roundId,this.game.eventName=this.eventName?this.eventName:this.game.eventName,this.backendService.updateRoundId(this.game),(this.getRoundId!=this.game.roundId||this.getRoundId=="")&&(localStorage.setItem("roundID",this.game.roundId),this.getResults(),this.selectedCell="",this.betSelectedPlayer=""),this.Card=this.game?.cardsArr?.card,this.winnerMarketArray=this.game.marketArr?this.game.marketArr[0]:"",this.runnersName=this.winnerMarketArray.runnersName,this.marketArray=this.game.marketArr)}}),this.getResults()}handleEventResponse(t,e){if(Array.isArray(t))t.forEach(a=>{this.marketObjManager(a)});else{let a=t;this.marketObjManager(a);return}}marketObjManager(t){if(t&&t.type=="1")if("data"in t&&this.counter==0&&t.data.marketArr&&t.data._id)this.marketArray=t.data.marketArr,this.game=this.marketArray?this.marketArray:t.data,this.game=t.data,this.eventName=t.data.eventName,this.counter=1;else{if("marketArr"in t?.data&&Array.isArray(t.data.marketArr)&&(this.game.marketArr=t.data.marketArr),"cardScan"in t?.data&&(this.game.cardScan=t.data.cardScan),"cardsArr"in t?.data&&(Array.isArray(t.data.cardsArr)||(this.game.cardsArr=t.data.cardsArr)),"roundId"in t&&(this.game.roundId=t.roundId),"status"in t?.data&&(this.game.status=t.data.status),"resultsArr"in t?.data){for(let a in t?.data?.resultsArr[0]?.runners)t.data?.resultsArr[0]?.runners[a]=="WINNER"&&(this.RoundWinner=t?.data?.resultsArr[0]?.runnersName[a],this.backendService.setResultData(this.RoundWinner)),a==this.betSelectedPlayer&&t.data?.resultsArr[0]?.runners[a]=="WINNER"&&setTimeout(()=>{this.backendService.setResultWinningAmount(this.winningAmount),this.backendService.setResultSparkData(!0)},1e3);setTimeout(()=>{this.RoundWinner=null,this.winningAmount=null,this.backendService.setResultWinningAmount(this.winningAmount),this.backendService.setResultData(this.RoundWinner)},5e3)}Object.keys(t.data).forEach(a=>{if(a.includes(".")){let c=a.split("."),p=parseInt(c[1]),h=c[3],v=c[6];c[7]=="size"&&(this.marketArray[p].runners[h].price.back[v].size=t.data[a]),c[7]=="price"&&(this.marketArray[p].runners[h].price.back[v].price=t.data[a]),c[4]=="status"&&(this.marketArray[p].runners[h].status=t.data[a])}})}}intoNumber(t){return t.replace("%",""),parseInt(t)}getResults(){this.backendService.getAllRecordsByPost(R.getCasinoResultURL,{eventId:this.eventid}).pipe(S()).subscribe(t=>{this.backendService.updateResultstream(t.data)},t=>{let e=t})}getEventOdds(){this.backendService.getCasinoEventOdds(this.eventid).subscribe(t=>{t.meta.status_code==200?(this.game=t?.data,this.marketArray=this.game?.marketArr,this.playerACards=this.game?.cardsArr?.PLAYER_A,this.playerBCards=this.game?.cardsArr?.PLAYER_B,this.winnerMarketArray=this.game?.marketArr?this.game.marketArr[0]:"",this.runnersName=this.winnerMarketArray.runnersName):this.toaster.error(t.meta.message,"",{positionClass:"toast-top-right"})})}trackByFn(t,e){return t}capitalize(t){return t?t.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()):""}static \u0275fac=function(e){return new(e||n)(C(E),C(F),C(N),C(D),C(M))};static \u0275cmp=A({type:n,selectors:[["app-twenty-card-race"]],decls:16,vars:5,consts:[[1,"videoPlayer"],[1,"casino-detail","font-noto-sans"],[1,"text-end","showInMobile","text-black"],[1,"row","k-cards","d-flex","flex-wrap"],[4,"ngFor","ngForOf"],[1,"row","row-5","gap","mt-3"],[1,"col-12","col-md-6","d-flex","flex-column","pl"],[1,"row","row-5","mt-3","gap"],[1,"block-768"],[4,"ngIf"],["class","col-6 col-md-3 colm-1",4,"ngFor","ngForOf"],[1,"col-6","col-md-3","colm-1"],[1,"casino-box-row","d-flex","flex-wrap","position-relative","align-items-center"],[1,"w-100","position-relative","bg-transparent","text-center","p-1"],[3,"src","alt"],[1,"range-icon","d-inline-block"],["data-bs-toggle","collapse",1,"fas","fa-info-circle","float-right"],[1,"collapse","icon-range",3,"id"],[1,"mb-1","mb-md-0","d-flex","flex-wrap","justify-content-center","align-items-center","w-100","h-100","position-relative"],[1,"back","casino-bl-box-item","d-flex","justify-content-center","align-items-center","flex-column","text-center","text-black","position-relative",3,"ngClass"],[1,"casino-box-odd","fw-bold"],[1,"book-black","text-black","w-100","position-relative","bg-transparent","text-center","p-1"],[1,"row","w-100"],["class","col-6",4,"ngFor","ngForOf"],[1,"row","text-end","w-100","px-2"],[1,"casino-min-max"],[1,"col-6"],[1,"text-center"],[1,"back-width","back","casino-bl-box-item","d-flex","justify-content-center","align-items-center","flex-column","text-center","text-black","position-relative"],[3,"ngClass"],["class","casino-box-odd fw-bold",4,"ngIf"],["src","/assets/lucky7/DIAMONDS.png","alt",""],["src","/assets/lucky7/HEARTS.png","alt",""],["src","/assets/lucky7/CLUBS.png","alt",""],["src","/assets/lucky7/SPADES.png","alt",""],["class","col-12 col-md-6 d-flex flex-column padding",4,"ngIf"],[1,"col-12","col-md-6","d-flex","flex-column","padding"],[1,"casino-box-odd","fw-bold",3,"ngClass"],["class","col-12 col-md-6 d-flex flex-column pl",4,"ngIf"],[1,"f-14","mb-2","market-title"],[1,"col-12"],["src","/assets/lucky7/DIAMONDS.png","alt","DIAMONDS"],["src","/assets/lucky7/HEARTS.png","alt","HEARTS"],["src","/assets/lucky7/CLUBS.png","alt","CLUBS"],["src","/assets/lucky7/SPADES.png","alt","SPADES"],["class","col-12",4,"ngFor","ngForOf"],["class","casino-box-odd fw-bold mb-0",3,"ngClass",4,"ngIf"],[1,"casino-box-odd","fw-bold","mb-0",3,"ngClass"]],template:function(e,a){e&1&&(o(0,"div",0),g(1,"app-video-player"),r(),o(2,"div",1)(3,"div",2),m(4," Total Cards: 17 | Total Points: 107 "),r(),o(5,"div",3),l(6,W,2,1,"ng-container",4),r(),o(7,"div",5)(8,"div",6),l(9,G,2,1,"ng-container",4),r(),l(10,Q,2,1,"ng-container",4),r(),o(11,"div",7),l(12,te,2,1,"ng-container",4)(13,re,2,1,"ng-container",4),r(),o(14,"div",8),g(15,"app-resultbar"),r()()),e&2&&(i(6),s("ngForOf",a.marketArray),i(3),s("ngForOf",a.marketArray),i(),s("ngForOf",a.marketArray),i(2),s("ngForOf",a.marketArray),i(),s("ngForOf",a.marketArray))},dependencies:[B,O,I,P,T,z],styles:[".casino-detail[_ngcontent-%COMP%]{padding:10px 10px 40px;background-color:#f8f8fb;border-radius:0 0 8px 8px;box-shadow:0 2px 6px #e2e2e2}.pl[_ngcontent-%COMP%]{padding-left:4px}.showInMobile[_ngcontent-%COMP%]{font-size:14px}.row-5[_ngcontent-%COMP%]{margin-left:5px;margin-right:-5px}.k-cards[_ngcontent-%COMP%]{margin-left:0!important;margin-right:7px!important}.colm-1[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}.col-6[_ngcontent-%COMP%], .col-12[_ngcontent-%COMP%]{padding-right:inherit}.casino-box-row[_ngcontent-%COMP%]{display:-webkit-flex;padding:2px 0}.casino-box-row[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px}.range-icon[_ngcontent-%COMP%]{line-height:14px;margin-left:12px}.fa-info-circle[_ngcontent-%COMP%]{color:#4a4a4a!important;font-size:14px;cursor:pointer;transition:.5s}.casino-bl-box-item[_ngcontent-%COMP%]{border-radius:4px;cursor:pointer;width:calc(100% - 2px);height:46px}.back[_ngcontent-%COMP%]{background-color:#72bbef17!important;border:2px solid #72bbef}.lay[_ngcontent-%COMP%]{background-color:#f994ba17!important;border:2px solid #f994ba}.casino-box-odd[_ngcontent-%COMP%], .box-zero[_ngcontent-%COMP%]{font-size:12px;color:#333;line-height:16px;margin-bottom:2px}.book-black[_ngcontent-%COMP%]{font-size:14px;line-height:22px;transform:translateY(1px)}.row2[_ngcontent-%COMP%]{margin-right:-12px;margin-left:-12px}.colm-2[_ngcontent-%COMP%]{padding-left:12px;padding-right:12px}.blank[_ngcontent-%COMP%]{width:50%!important;margin-right:1%}.yn-header[_ngcontent-%COMP%]{height:auto!important;padding:5px;font-size:14px;line-height:22px}.tp-text[_ngcontent-%COMP%]{font-size:14px;line-height:22px;letter-spacing:-.03rem;color:#000}.casino-nation-name[_ngcontent-%COMP%]{line-height:22px;font-size:14px}.tp-range[_ngcontent-%COMP%], .casino-nation-name[_ngcontent-%COMP%]   .range-icon[_ngcontent-%COMP%]{transform:translateY(-2px)}.icon-range[_ngcontent-%COMP%]{position:absolute;background-color:#16191c;padding:4px;max-width:100%;word-wrap:break-word;font-size:12px;z-index:10;right:0;transition:.1s;text-transform:capitalize;color:#aaafb5;z-index:150}.back-width[_ngcontent-%COMP%]{width:calc(100% - 4px)!important;height:56px}.casino-box-odd[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:26px}.padding[_ngcontent-%COMP%]{padding-left:0}.market-title[_ngcontent-%COMP%]{text-align:left;font-size:12px}.gap[_ngcontent-%COMP%]{gap:0}.casino-min-max[_ngcontent-%COMP%]{font-size:12px}@media only screen and (max-width: 767px){.casino-min-max[_ngcontent-%COMP%]{font-size:9px}.gap[_ngcontent-%COMP%]{gap:16px}.market-title[_ngcontent-%COMP%]{text-align:center;font-size:10px}.padding[_ngcontent-%COMP%]{padding-left:4px}.book-black[_ngcontent-%COMP%]{font-size:11px;line-height:14px;transform:translateY(0)}.casino-box-odd[_ngcontent-%COMP%]{font-size:13px}.box-zero[_ngcontent-%COMP%]{line-height:12px}.casino-nation-name[_ngcontent-%COMP%]   .tp-text[_ngcontent-%COMP%], .casino-nation-name[_ngcontent-%COMP%]{font-size:11px}.fa-info-circle-sm[_ngcontent-%COMP%]{font-size:12px!important}}@media only screen and (max-width: 1279px){.casino-detail[_ngcontent-%COMP%]{padding:5px;box-shadow:none;border-radius:0}.casino-box-odd[_ngcontent-%COMP%]{font-size:13px}}"]})};export{U as TwentyCardRaceComponent};
