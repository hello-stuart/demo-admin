import{a as z}from"./chunk-YAPTLMR7.js";import{a as T}from"./chunk-PW5J7ZGW.js";import{c as D,d as F}from"./chunk-3BRWB67J.js";import"./chunk-5UJXZMZS.js";import"./chunk-ACVM4ET5.js";import"./chunk-QZIUMNBJ.js";import{m as R,q as M}from"./chunk-TKUFSEQW.js";import{f as E}from"./chunk-F4ECYANF.js";import{Cb as _,Db as d,Nb as a,O as k,Ob as o,Pb as y,Qb as b,Rb as C,Sc as S,Tc as I,Uc as O,Wb as l,_c as P,bb as i,cb as v,dc as c,ec as u,gc as A,hd as N,mb as w,sb as g,tc as h,uc as f}from"./chunk-CKWEI2SK.js";import"./chunk-ZR4K4ZIC.js";function $(n,e){if(n&1&&(a(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"p",11),c(5),o(),a(6,"div",12)(7,"p",13),c(8,"0"),o(),y(9,"i",14),a(10,"div",15),c(11," Range:"),a(12,"span"),c(13),h(14,"shortNumber"),h(15,"shortNumber"),o()()()(),a(16,"div",16)(17,"button",17),c(18),o(),a(19,"button",18),c(20),o()()()()()),n&2){let t=e.$implicit,r=e.index,s=l(2),p=s.$implicit,x=s.index,m=l();i(5),u(p.runnersName[t==null?null:t.selectionId]),i(4),_("data-bs-target","#range"+x+"-"+r),i(),d("id","range"+x+"-"+r),i(3),A("",f(14,8,p.min),"-",f(15,10,p.max),""),i(3),d("ngClass",m.winnerMarketArray.runners[0].status=="SUSPEND"||m.game.status=="SUSPEND"?"suspended":m.selectedCell==m.winnerMarketArray.runners[0].selectionId?"selected":""),i(2),u(t.price.back[0].price),i(2),u(t.price.lay[0].price)}}function U(n,e){if(n&1&&(b(0),a(1,"div",5),g(2,$,21,12,"div",6),o(),C()),n&2){let t=l().$implicit;i(2),d("ngForOf",t.runners)}}function W(n,e){if(n&1&&(a(0,"div",3),g(1,U,3,1,"ng-container",4),o()),n&2){let t=e.index;i(),d("ngIf",t==0||t==1)}}function Y(n,e){if(n&1&&(a(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10)(4,"p",11),c(5),o(),a(6,"div",12)(7,"p",13),c(8,"0"),o(),y(9,"i",14),a(10,"div",15),c(11," Range:"),a(12,"span"),c(13),h(14,"shortNumber"),h(15,"shortNumber"),o()()()(),a(16,"div",16)(17,"button",19),c(18),o()()()()()),n&2){let t=e.$implicit,r=e.index,s=l(2),p=s.$implicit,x=s.index,m=l();i(5),u(p.runnersName[t==null?null:t.selectionId]),i(4),_("data-bs-target","#range"+x+"-"+r),i(),d("id","range"+x+"-"+r),i(3),A("",f(14,7,p.min),"-",f(15,9,p.max),""),i(3),d("ngClass",m.winnerMarketArray.runners[0].status=="SUSPEND"||m.game.status=="SUSPEND"?"suspended":m.selectedCell==m.winnerMarketArray.runners[0].selectionId?"selected":""),i(2),u(t.price.back[0].price)}}function V(n,e){if(n&1&&(b(0),a(1,"div",5),g(2,Y,19,11,"div",6),o(),C()),n&2){let t=l().$implicit;i(2),d("ngForOf",t.runners)}}function G(n,e){if(n&1&&(a(0,"div",3),g(1,V,3,1,"ng-container",4),o()),n&2){let t=e.index;i(),d("ngIf",t==2)}}function J(n,e){if(n&1&&(a(0,"div",21)(1,"div",22),c(2),o(),y(3,"i",14),a(4,"div",15),c(5," Range:"),a(6,"span"),c(7),h(8,"shortNumber"),h(9,"shortNumber"),o()()()),n&2){let t=l(),r=t.$implicit,s=t.index,p=l();i(2),u(p.marketArray[3]==null||p.marketArray[3].runners[0].price==null?null:p.marketArray[3].runners[0].price.back[0].price),i(),_("data-bs-target","#range"+s),i(),d("id","range"+s),i(3),A("",f(8,5,r.min),"-",f(9,7,r.max),"")}}function K(n,e){if(n&1&&(a(0,"div",25)(1,"span",26),c(2),o(),a(3,"div",27),c(4,"0"),o()()),n&2){let t=e.$implicit,r=l(2).$implicit,s=l();d("ngClass",s.winnerMarketArray.runners[0].status=="SUSPEND"||s.game.status=="SUSPEND"?"suspended":s.selectedCell==s.winnerMarketArray.runners[0].selectionId?"selected":""),i(2),u(r.runnersName[t==null?null:t.selectionId])}}function L(n,e){if(n&1&&(b(0),a(1,"div",23),g(2,K,5,2,"div",24),o(),C()),n&2){let t=l().$implicit;i(2),d("ngForOf",t.runners)}}function q(n,e){if(n&1&&(a(0,"div",3),g(1,J,10,9,"div",20)(2,L,3,1,"ng-container",4),o()),n&2){let t=e.index;i(),d("ngIf",t==3),i(),d("ngIf",t==3)}}var B=class n{constructor(e,t,r,s){this.route=e;this.toaster=t;this.backendService=r;this.encyDecy=s;this.eventid=this.route.snapshot.params.id,this._roomId="",this.message.id=this.eventid,this.messageResult.id=this.eventid}subscription;subscription2;message={type:"1",id:""};messageResult={type:"3",id:""};_roomId;Card;game;timer;counter=0;eventid;marketId;rulesBox;split_arr;eventName;marketArray;changeValue;gameroundId;resultArray;RoundWinner;playerACards;playerBCards;selectedCell;myVideo=null;selectedResult;getRoundId="";runnersName={};winnerMarketArray;currentRunnerPrice;ngOnDestroy(){let e={type:"2",id:""};this.encyDecy.sendMessageToSocket(e),this.subscription&&this.subscription.unsubscribe(),this.subscription2&&this.subscription2.unsubscribe()}ngOnInit(){this.encyDecy.generateEncryptionKey("",this.message),this.subscription=this.encyDecy.getMarketData().subscribe((e=[])=>{if(e){this.getRoundId=localStorage.getItem("roundID");let t=JSON.parse(e);Array.isArray(t?.data)?t.type=="1"&&(this.marketArray=t?.data[0]?.marketArr,this.game=t?.data[0],this.game.marketArr=this.marketArray?this.marketArray:t.data[0]?.marketArr,this.eventName=t?.data[0]?.eventName,this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.handleEventResponse(t,0)):this.handleEventResponse(t,0),this.game&&(this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.marketArray=this.game.marketArr,this.gameroundId=this.game?.roundId,this.game.eventName=this.eventName?this.eventName:this.game.eventName,this.backendService.updateRoundId(this.game),(this.getRoundId!=this.game?.roundId||this.getRoundId=="")&&(localStorage.setItem("roundID",this.game?.roundId),this.getResults(),this.selectedCell=""),this.Card=this.game?.cardsArr?.card,this.winnerMarketArray=this.game.marketArr?this.game.marketArr[0]:"",this.runnersName=this.winnerMarketArray.runnersName)}}),this.getResults()}handleEventResponse(e,t){if(Array.isArray(e))e.forEach(r=>{this.marketObhManager(r)});else{let r=e;this.marketObhManager(r);return}}marketObhManager(e){if(e&&e.type=="1")if("data"in e&&this.counter==0&&e.data?.marketArr&&e.data._id)this.marketArray=e.data?.marketArr,this.game=this.marketArray?this.marketArray:e?.data,this.game=e.data,this.eventName=e?.data?.eventName,this.counter=1;else{if("marketArr"in e?.data&&Array.isArray(e?.data?.marketArr)&&(this.game.marketArr=e?.data?.marketArr),"cardsArr"in e?.data&&(Array.isArray(e?.data?.cardsArr)||(this.game.cardsArr=e?.data?.cardsArr)),"roundId"in e&&(this.game.roundId=e?.roundId),"status"in e?.data&&(this.game.status=e?.data?.status),"resultsArr"in e?.data){for(let r in e?.data?.resultsArr[0]?.runners)e?.data?.resultsArr[0]?.runners[r]=="WINNER"&&(this.RoundWinner=e?.data?.resultsArr[0]?.runnersName[r],this.backendService.setResultData(this.RoundWinner)),e?.data?.resultsArr[0]?.runners[r]=="WINNER"&&setTimeout(()=>{this.backendService.setResultSparkData(!0)},1e3);setTimeout(()=>{this.RoundWinner=null,this.backendService.setResultData(this.RoundWinner)},5e3)}var t=Object.keys(e?.data)[0];if(t.includes(".")){this.split_arr=t.split("."),Object.entries(e?.data).forEach(([,x])=>this.changeValue=x);let r=parseInt(this.split_arr[1]),s=this.split_arr[3],p=this.split_arr[6];this.split_arr[7]=="size"&&(this.marketArray[r].runners[s].price.back[p].size=this.changeValue),this.split_arr[7]=="price"&&(this.marketArray[r].runners[s].price.back[p].price=this.changeValue)}}}getResults(){this.backendService.getAllRecordsByPost(N.getCasinoResultURL,{eventId:this.eventid}).pipe(k()).subscribe(e=>{this.backendService.updateResultstream(e.data)},e=>{let t=e})}trackByFn(e,t){return e}intoNumber(e){return parseInt(e)}static \u0275fac=function(t){return new(t||n)(v(E),v(R),v(M),v(F))};static \u0275cmp=w({type:n,selectors:[["app-card-32-a"]],decls:8,vars:3,consts:[[1,"main-container","font-noto-sans"],["class","mb-3",4,"ngFor","ngForOf"],[1,"showInMobile"],[1,"mb-3"],[4,"ngIf"],[1,"wraper"],["class","box",4,"ngFor","ngForOf"],[1,"box"],[1,"table"],[1,"alignment"],[1,"player"],[1,"player-text"],[1,"text-icon"],[1,"zero-text"],["data-bs-toggle","collapse",1,"fas","fa-info-circle"],[1,"collapse","icon-range",3,"id"],[1,"btns-div","mb-1","mb-md-0","position-relative",3,"ngClass"],[1,"btn"],[1,"btn-red"],[1,"btn","btn-2"],["class","odds-row",4,"ngIf"],[1,"odds-row"],[1,"odds-text","w-100"],[1,"cards-32-odds","w-100","d-flex","justify-content-center","align-items-center","flex-wrap","mb-1","mt-1"],["class","odd-back position-relative",3,"ngClass",4,"ngFor","ngForOf"],[1,"odd-back","position-relative",3,"ngClass"],[1,"odd-back-text"],[1,"odd-back-zero"]],template:function(t,r){t&1&&(a(0,"div"),y(1,"app-video-player"),o(),a(2,"div",0),g(3,W,2,1,"div",1)(4,G,2,1,"div",1)(5,q,3,2,"div",1),a(6,"div",2),y(7,"app-resultbar"),o()()),t&2&&(i(3),d("ngForOf",r.marketArray),i(),d("ngForOf",r.marketArray),i(),d("ngForOf",r.marketArray))},dependencies:[T,P,S,I,O,z,D],styles:[".main-container[_ngcontent-%COMP%]{padding:5px;background-color:#f8f8fb;border-radius:0 0 8px 8px;box-shadow:0 2px 6px #e2e2e2}.wraper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;width:100%}.box[_ngcontent-%COMP%]{width:100%}.table[_ngcontent-%COMP%]{width:100%;margin:0%}.border[_ngcontent-%COMP%]{width:2px;background-color:gray;display:none}.alignment[_ngcontent-%COMP%]{display:flex;justify-content:space-between;display:-webkit-flex;flex-wrap:wrap;padding:2px 0;align-items:center;position:relative}.player[_ngcontent-%COMP%]{width:50%;position:relative;padding:4px 10px 4px 4px;background-color:#ddd;display:flex;justify-content:space-between;align-items:center;height:30px}.odds-row[_ngcontent-%COMP%]{width:100%;position:relative;padding:4px 10px 4px 4px;background-color:#ddd;display:flex;justify-content:space-between;align-items:center;height:30px}.player-text[_ngcontent-%COMP%]{font-size:9px;font-weight:bolder;color:#000;background-color:transparent;margin:0%;padding:0%;letter-spacing:-.03rem;transform:translateY(1px)}@media (min-width: 320px) and (max-width:767px){.player-text[_ngcontent-%COMP%]{font-size:14px!important}}.odds-text[_ngcontent-%COMP%]{font-size:14px;font-weight:bolder;color:#000;background-color:transparent;margin:0%;padding:0%;letter-spacing:-.03rem;transform:translateY(1px);display:flex;justify-content:center;align-items:center}.zero-text[_ngcontent-%COMP%]{font-size:9px;margin-right:.69rem;margin-bottom:0%;transform:translateY(2px)}.text-icon[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:transparent;padding:0%}.btns-div[_ngcontent-%COMP%]{display:flex;width:50%;align-items:center}.btn[_ngcontent-%COMP%]{width:calc(50% - 2px);height:40px;background-color:#72bbef17;border:2px solid #72bbef;font-size:12px;margin-right:4px;border-radius:4px;font-weight:700;color:#333}.btn-red[_ngcontent-%COMP%]{width:calc(50% - 2px);height:40px;background-color:#f994ba17;border:2px solid #f994ba;font-size:12px;border-radius:4px}.lock-div[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#dce0df;border-radius:4px;z-index:10;opacity:90%}.lock-img[_ngcontent-%COMP%]{width:18px;height:18px}.btn-2[_ngcontent-%COMP%]{width:100%}.fa-info-circle[_ngcontent-%COMP%]{color:#4a4a4a;font-size:14px;cursor:pointer}.icon-range[_ngcontent-%COMP%]{position:absolute;top:100%;background-color:#000;padding:4px;max-width:100%;word-wrap:break-word;font-size:12px;z-index:10;right:0;transition:.1s;text-transform:capitalize;color:#aaafb5}@media (min-width: 768px){.zero-text[_ngcontent-%COMP%]{font-size:18px;margin-right:.65rem;transform:translateY(0)}.btn[_ngcontent-%COMP%]{font-size:12px!important}.player-text[_ngcontent-%COMP%]{transform:translateY(0);font-size:14px}.odd-back[_ngcontent-%COMP%]{width:calc(10% - 4px)!important}.odd-back-zero[_ngcontent-%COMP%]{bottom:-20px!important;font-size:18px}.odd-back-text[_ngcontent-%COMP%]{font-size:60px!important;transform:translateY(0)!important}}@media (min-width: 900px){.main-container[_ngcontent-%COMP%]{padding:10px 10px 40px}.wraper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;width:100%}.border[_ngcontent-%COMP%]{width:2px;background-color:gray;display:block}.table[_ngcontent-%COMP%]{width:100%;margin:0%}.box[_ngcontent-%COMP%]{width:calc(50% - 10px)}.box[_ngcontent-%COMP%]:nth-child(odd){width:50%;border-right:2px solid grey;padding-right:10px}.btn-2[_ngcontent-%COMP%]{width:100%}}.odd-back[_ngcontent-%COMP%]{width:calc(20% - 4px);margin-bottom:20px;height:80px;border:2px solid #72bbef;background-color:#72bbef17;margin-right:4px;border-radius:4px;display:flex;justify-content:center;align-items:center;flex-direction:column;cursor:pointer;color:#000;text-align:center;cursor:not-allowed}.odd-back-text[_ngcontent-%COMP%]{font-size:50px;height:50px;line-height:50px;font-weight:700;margin-bottom:2px;width:100%;color:#333;transform:translateY(-8px)}.odd-back-zero[_ngcontent-%COMP%]{position:absolute;bottom:8px;font-size:11px;line-height:18px;text-align:center;color:#000;letter-spacing:0}"]})};export{B as Card32AComponent};
