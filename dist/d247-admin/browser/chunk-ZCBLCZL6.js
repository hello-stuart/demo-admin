import{a as N}from"./chunk-YAPTLMR7.js";import{a as M}from"./chunk-SBFAXTSC.js";import{c as R,d as D}from"./chunk-A5YAUSYP.js";import"./chunk-3J6HDLJO.js";import"./chunk-KMJAJAAH.js";import"./chunk-QZIUMNBJ.js";import{m as O,q as P}from"./chunk-6542H3SY.js";import{f as _}from"./chunk-F4ECYANF.js";import{Db as h,Nb as t,O as v,Ob as n,Pb as i,Qb as S,Rb as x,Sc as C,Tc as E,Wb as b,_c as w,bb as c,cb as l,dc as s,ec as g,gc as k,hd as I,mb as f,sb as A,tc as u,uc as y}from"./chunk-CKWEI2SK.js";import"./chunk-ZR4K4ZIC.js";function T(o,e){if(o&1&&(S(0),t(1,"div",4)(2,"div",5)(3,"div",6)(4,"b"),s(5,"Yes"),n(),t(6,"span",7),s(7,"0"),n()(),t(8,"div",8)(9,"div",9)(10,"b"),s(11),n()(),t(12,"div",10)(13,"div",11)(14,"div",12)(15,"span"),i(16,"img",13),n()()(),t(17,"div",11)(18,"div",12)(19,"span"),i(20,"img",14),n()()(),t(21,"div",11)(22,"div",12)(23,"span"),i(24,"img",15),n()()(),t(25,"div",11)(26,"div",12)(27,"span"),i(28,"img",16),n()()(),t(29,"div",11)(30,"div",12)(31,"span"),i(32,"img",17),n()()(),t(33,"div",11)(34,"div",12)(35,"span"),i(36,"img",18),n()()(),t(37,"div",11)(38,"div",12)(39,"span"),i(40,"img",19),n()()(),t(41,"div",11)(42,"div",12)(43,"span"),i(44,"img",20),n()()(),t(45,"div",11)(46,"div",12)(47,"span"),i(48,"img",21),n()()(),t(49,"div",11)(50,"div",12)(51,"span"),i(52,"img",22),n()()(),t(53,"div",11)(54,"div",12)(55,"span"),i(56,"img",23),n()()(),t(57,"div",11)(58,"div",12)(59,"span"),i(60,"img",24),n()()(),t(61,"div",11)(62,"div",12)(63,"span"),i(64,"img",25),n()()()(),t(65,"div",26)(66,"span"),s(67," Select any 3 card and you will win if you will get at least 1 card from the 3 cards you have selected. "),n()()()(),t(68,"div",27)(69,"div",6)(70,"b"),s(71,"No"),n(),t(72,"span",7),s(73,"0"),n()(),t(74,"div",8)(75,"div",9)(76,"b"),s(77),n()(),t(78,"div",10)(79,"div",11)(80,"div",12)(81,"span"),i(82,"img",13),n()()(),t(83,"div",11)(84,"div",12)(85,"span"),i(86,"img",14),n()()(),t(87,"div",11)(88,"div",12)(89,"span"),i(90,"img",15),n()()(),t(91,"div",11)(92,"div",12)(93,"span"),i(94,"img",16),n()()(),t(95,"div",11)(96,"div",12)(97,"span"),i(98,"img",17),n()()(),t(99,"div",11)(100,"div",12)(101,"span"),i(102,"img",18),n()()(),t(103,"div",11)(104,"div",12)(105,"span"),i(106,"img",19),n()()(),t(107,"div",11)(108,"div",12)(109,"span"),i(110,"img",20),n()()(),t(111,"div",11)(112,"div",12)(113,"span"),i(114,"img",21),n()()(),t(115,"div",11)(116,"div",12)(117,"span"),i(118,"img",22),n()()(),t(119,"div",11)(120,"div",12)(121,"span"),i(122,"img",23),n()()(),t(123,"div",11)(124,"div",12)(125,"span"),i(126,"img",24),n()()(),t(127,"div",11)(128,"div",12)(129,"span"),i(130,"img",28),n()()()(),t(131,"div",26)(132,"span"),s(133," Select any 3 card and you will win if you will get at least 1 card from the 3 cards you have selected. "),n()()()()(),x()),o&2){let a=e.$implicit,r=b();c(8),h("ngClass",r.winnerMarketArray.runners[0].status=="SUSPEND"||r.game.status=="SUSPEND"?"suspended":r.selectedCell==r.winnerMarketArray.runners[0].selectionId?"selected":""),c(3),g(a.runners[0].price.back[0].price),c(63),h("ngClass",r.winnerMarketArray.runners[1].status=="SUSPEND"||r.game.status=="SUSPEND"?"suspended":r.selectedCell==r.winnerMarketArray.runners[1].selectionId?"selected":""),c(3),g(a.runners[1].price.lay[0].price)}}var B=class o{constructor(e,a,r,m){this.route=e;this.toaster=a;this.backendService=r;this.encyDecy=m;this.eventid=this.route.snapshot.params.id,this._roomId="",this.message.id=this.eventid,this.messageResult.id=this.eventid}subscription;subscription2;message={type:"1",id:""};messageResult={type:"3",id:""};_roomId;game;Card;timer;counter=0;eventid;marketId;rulesBox;eventName;split_arr;marketArray;resultArray;RoundWinner;gameroundId;playerBCards;playerACards;myVideo=null;selectedResult;changeValue;getRoundId="";runnersName={};winnerMarketArray;selectedcards=[];currentRunnerPrice;selectedCell="";noSelectedArray=[];yesSelectedArray=[];isselectedcard=!0;noSelectedCardArray=[];yesSelectedCardArray=[];activeSlides;ngOnInit(){this.encyDecy.generateEncryptionKey("",this.message),this.subscription=this.encyDecy.getMarketData().subscribe((e=[])=>{if(e){this.getRoundId=localStorage.getItem("roundID");let r=JSON.parse(e);if(Array.isArray(r.data)){if(r.type=="1"){let m=function(d){let p=d.match(/\d+(\.\d+)?/);return p?parseFloat(p[0]):null};var a=m;this.marketArray=r.data[0].marketArr,this.game=r.data[0],this.game.marketArr=this.marketArray?this.marketArray:r.data[0].marketArr,this.eventName=r.data[0].eventName,this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.marketId=this.winnerMarketArray.marketId;for(let d in this.winnerMarketArray.runnersName)this.winnerMarketArray.runnersName.hasOwnProperty(d)&&(this.winnerMarketArray.runnersName[d]=m(this.winnerMarketArray.runnersName[d]))}this.handleEventResponse(r,0)}else this.handleEventResponse(r,0);this.game&&(this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.marketArray=this.game.marketArr,this.gameroundId=this.game.roundId,this.game.eventName=this.eventName?this.eventName:this.game.eventName,this.backendService.updateRoundId(this.game),(this.getRoundId!=this.game.roundId||this.getRoundId=="")&&(localStorage.setItem("roundID",this.game.roundId),this.getResults(),this.selectedCell=""),this.game.status=="SUSPEND"&&(this.backendService.setBetSlipPlaceData({}),this.yesSelectedArray=[],this.noSelectedArray=[],this.yesSelectedCardArray=[],this.noSelectedCardArray=[],this.selectedcards=[]),this.Card=this.game?.cardsArr?.card,this.winnerMarketArray=this.game.marketArr?this.game.marketArr[0]:"",this.runnersName=this.winnerMarketArray?.runnersName,this.marketArray=this.game?.marketArr)}}),this.getResults()}handleEventResponse(e,a){if(Array.isArray(e))e.forEach(r=>{this.marketObjManager(r)});else{let r=e;this.marketObjManager(r);return}}marketObjManager(e){if(e.type=="1")if("data"in e&&this.counter==0&&e.data.marketArr&&e.data._id)this.marketArray=e.data.marketArr,this.game=this.marketArray?this.marketArray:e.data,this.game=e.data,this.eventName=e.data.eventName,this.counter=1;else{if("marketArr"in e?.data&&Array.isArray(e.data.marketArr)&&(this.game.marketArr=e.data.marketArr),"cardsArr"in e?.data&&(Array.isArray(e.data.cardsArr)||(this.game.cardsArr=e.data.cardsArr)),"roundId"in e&&(this.game.roundId=e.roundId),"status"in e?.data&&(this.game.status=e.data.status),"resultsArr"in e?.data){for(let r in e?.data?.resultsArr[0]?.runners)e.data?.resultsArr[0]?.runners[r]=="WINNER"&&(this.RoundWinner=e?.data?.resultsArr[0]?.runnersName[r],this.backendService.setResultData(this.RoundWinner));setTimeout(()=>{this.RoundWinner=null,this.backendService.setResultData(this.RoundWinner)},5e3)}var a=Object.keys(e.data)[0];if(a.includes(".")){this.split_arr=a.split("."),Object.entries(e.data).forEach(([,p])=>this.changeValue=p);let r=parseInt(this.split_arr[1]),m=this.split_arr[3],d=this.split_arr[6];this.split_arr[7]=="size"&&(this.marketArray[r].runners[m].price.back[d].size=this.changeValue),this.split_arr[7]=="price"&&(this.marketArray[r].runners[m].price.back[d].price=this.changeValue)}}}formatValue(e){let a=parseFloat(e);if(isNaN(a))return parseInt("0.00");let r=a%1!==0?a.toFixed(2):a.toString();return parseInt(r)}isKeyStringWithNo(e){return typeof e=="string"&&e.includes("NO")}isKeyStringWithYes(e){return typeof e=="string"&&e.includes("YES")}getResults(){this.backendService.getAllRecordsByPost(I.getCasinoResultURL,{eventId:this.eventid}).pipe(v()).subscribe(e=>{this.backendService.updateResultstream(e.data)},e=>{let a=e})}getEventOdds(){this.backendService.getCasinoEventOdds(this.eventid).subscribe(e=>{e.meta.status_code==200?(this.game=e?.data,this.marketArray=this.game?.marketArr,this.playerACards=this.game?.cardsArr?.PLAYER_A,this.playerBCards=this.game?.cardsArr?.PLAYER_B,this.winnerMarketArray=this.game?.marketArr?this.game.marketArr[0]:"",this.runnersName=this.winnerMarketArray.runnersName):this.toaster.error(e.meta.message,"",{positionClass:"toast-top-center"})})}ngOnDestroy(){let e={type:"2",id:""};this.encyDecy.sendMessageToSocket(e),this.subscription&&this.subscription.unsubscribe(),this.subscription2&&this.subscription2.unsubscribe()}static \u0275fac=function(a){return new(a||o)(l(_),l(O),l(P),l(D))};static \u0275cmp=f({type:o,selectors:[["app-three-card-judgement"]],decls:12,vars:7,consts:[[1,"casino-detail"],[4,"ngFor","ngForOf"],[1,"text-end","casino-min-max-text"],[1,"showInMobile"],[1,"three-card-j-container"],[1,"three-card-j-box","back"],[1,"three-card-j-title"],[1,"casino-book-value"],[1,"three-j-cards",3,"ngClass"],[1,"three-card-j-odds","text-center"],[1,"casino-cards","text-center"],[1,"casino-card-item"],[1,"card-img"],["src","/assets/casino-cards/A-card.png","alt","A-card",1,"card-icon"],["src","/assets/casino-cards/card-two.png","alt","2-card",1,"card-icon"],["src","/assets/casino-cards/card-three.png","alt","3-card",1,"card-icon"],["src","/assets/casino-cards/card-four.png","alt","4-card",1,"card-icon"],["src","/assets/casino-cards/card-five.png","alt","5-card",1,"card-icon"],["src","/assets/casino-cards/card-six.png","alt","6-card",1,"card-icon"],["src","/assets/casino-cards/card-seven.png","alt","7-card",1,"card-icon"],["src","/assets/casino-cards/card-eight.png","alt","8-card",1,"card-icon"],["src","/assets/casino-cards/card-nine.png","alt","9-card",1,"card-icon"],["src","/assets/casino-cards/card-ten.png","alt","10-card",1,"card-icon"],["src","/assets/casino-cards/J-card.png","alt","J-card",1,"card-icon"],["src","/assets/casino-cards/Q-card.png","alt","Q-card",1,"card-icon"],["src","/assets/casino-cards/K-card.png","alt","K-card",1,"card-icon"],["direction","left","scrollamount","3","behavior","scroll",1,"casino-min-max-text","text-end"],[1,"three-card-j-box","lay"],["src","/assets/casino-cards/K-card.png","alt","k-card",1,"card-icon"]],template:function(a,r){a&1&&(t(0,"div"),i(1,"app-video-player"),n(),t(2,"div",0),A(3,T,134,4,"ng-container",1),t(4,"div",2),s(5," R:"),t(6,"span"),s(7),u(8,"shortNumber"),u(9,"shortNumber"),n()(),t(10,"div",3),i(11,"app-resultbar"),n()()),a&2&&(c(3),h("ngForOf",r.marketArray),c(4),k("",y(8,3,r.winnerMarketArray==null?null:r.winnerMarketArray.min),"-",y(9,5,r.winnerMarketArray==null?null:r.winnerMarketArray.max),""))},dependencies:[w,C,E,M,N,R],styles:[".casino-detail[_ngcontent-%COMP%]{padding:10px 10px 40px;background-color:#f8f8fb;border-radius:0 0 8px 8px;box-shadow:0 2px 6px #e2e2e2}.three-card-j-box[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;height:auto;cursor:pointer;margin-bottom:10px}.three-card-j-box.back[_ngcontent-%COMP%]{border:2px solid #72bbef;background-color:#72bbef17!important}.three-card-j-box.lay[_ngcontent-%COMP%]{border:2px solid #f994ba;background-color:#f994ba17!important}.three-card-j-title[_ngcontent-%COMP%]{width:10%;display:flex;align-items:center;justify-content:center;flex-direction:column;height:100%}.casino-book-value[_ngcontent-%COMP%]{font-size:18px}.three-j-cards[_ngcontent-%COMP%]{width:90%;height:100%}.suspended[_ngcontent-%COMP%]{position:relative}.three-j-cards.suspended[_ngcontent-%COMP%]:before{background-size:35px 35px}.three-j-cards.suspended[_ngcontent-%COMP%]:after{border-radius:0}.three-card-j-odds[_ngcontent-%COMP%]{padding:4px;width:100%;font-size:18px}.casino-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:flex-start;width:100%;flex-wrap:nowrap;overflow-x:auto;justify-content:center;padding-bottom:5px}.casino-card-item[_ngcontent-%COMP%]{min-width:40px!important;margin-right:5px;margin-left:5px;width:auto;margin-bottom:10px}.card-img[_ngcontent-%COMP%]{cursor:pointer;display:inline-block}.card-icon[_ngcontent-%COMP%]{width:48px}.casino-min-max-text[_ngcontent-%COMP%]{font-size:11px;color:#000;font-weight:400;padding-left:12px}.casino-marque-container[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#d3d3d36b;color:#333;border-radius:16px;height:32px;width:100%}.remark-icon[_ngcontent-%COMP%]{width:50px;display:flex;justify-content:center;align-items:center;height:32px;border-top-left-radius:16px;border-bottom-left-radius:16px;background-color:#434343}.remark-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px}.casino-marque-container[_ngcontent-%COMP%]   marquee[_ngcontent-%COMP%]{width:calc(100% - 60px);float:right;padding-left:10px}@media (max-width: 767px){.card-icon[_ngcontent-%COMP%]{width:42px;height:auto}.three-card-j-title[_ngcontent-%COMP%]{width:100%;height:auto;justify-content:space-between;flex-direction:row;padding:5px}.casino-cards[_ngcontent-%COMP%]{justify-content:flex-start}.three-j-cards[_ngcontent-%COMP%]{width:100%}.casino-min-max-text[_ngcontent-%COMP%]{font-size:12px}}"]})};export{B as ThreeCardJudgementComponent};
