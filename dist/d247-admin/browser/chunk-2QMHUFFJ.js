import{a as O}from"./chunk-HDWS7ACU.js";import{a as N}from"./chunk-PW5J7ZGW.js";import{c as P,d as R}from"./chunk-3BRWB67J.js";import"./chunk-5UJXZMZS.js";import"./chunk-ACVM4ET5.js";import"./chunk-QZIUMNBJ.js";import{m as w,q as E}from"./chunk-TKUFSEQW.js";import{f as I}from"./chunk-F4ECYANF.js";import{Db as s,Nb as l,O as b,Ob as c,Pb as m,Qb as u,Rb as g,Sc as k,Tc as A,Uc as C,Wb as o,bb as a,cb as y,dc as _,ec as f,fc as h,hd as S,mb as v,sb as d,xa as x}from"./chunk-CKWEI2SK.js";import"./chunk-ZR4K4ZIC.js";function M(n,e){n&1&&m(0,"img",18)}function Q(n,e){n&1&&m(0,"img",19)}function K(n,e){n&1&&m(0,"img",20)}function F(n,e){n&1&&m(0,"img",21)}function B(n,e){if(n&1&&(l(0,"label",12),m(1,"input",13),d(2,M,1,0,"img",14)(3,Q,1,0,"img",15)(4,K,1,0,"img",16)(5,F,1,0,"img",17),c()),n&2){let t=e.$implicit,i=e.index,p=o(2).index,r=o();s("ngClass",r.winnerMarketArray.runners[0].status=="SUSPEND"||r.game.status=="SUSPEND"?"suspended":r.selectedCell==r.winnerMarketArray.runners[0].selectionId?"selected":""),a(),s("id","option"+p+"-"+i),a(),s("ngIf",(r.marketArray[0]==null?null:r.marketArray[0].runnersName[t==null?null:t.selectionId])=="BLACK"),a(),s("ngIf",(r.marketArray[0]==null?null:r.marketArray[0].runnersName[t==null?null:t.selectionId])=="RED"),a(),s("ngIf",(r.marketArray[0]==null?null:r.marketArray[0].runnersName[t==null?null:t.selectionId])=="BLACK"),a(),s("ngIf",(r.marketArray[0]==null?null:r.marketArray[0].runnersName[t==null?null:t.selectionId])=="RED")}}function U(n,e){if(n&1&&(u(0),l(1,"div",7)(2,"div",8)(3,"div",9)(4,"b"),_(5),c()(),l(6,"div",10),d(7,B,6,6,"label",11),c()()(),g()),n&2){let t=o().$implicit,i=o();a(5),f(i.capitalize(i.marketArray[0]==null?null:i.marketArray[0].question)),a(2),s("ngForOf",t==null?null:t.runners)}}function z(n,e){if(n&1&&(u(0),d(1,U,8,2,"ng-container",6),g()),n&2){let t=e.index;a(),s("ngIf",t===0)}}function $(n,e){if(n&1&&(l(0,"label",12),m(1,"input",13),_(2),c()),n&2){let t=e.$implicit,i=e.index,p=o(2).index,r=o();s("ngClass",r.winnerMarketArray.runners[0].status=="SUSPEND"||r.game.status=="SUSPEND"?"suspended":r.selectedCell==r.winnerMarketArray.runners[0].selectionId?"selected":""),a(),s("id","option"+p+"-"+i),a(),h(" ",r.marketArray[1]==null?null:r.marketArray[1].runnersName[t==null?null:t.selectionId]," ")}}function V(n,e){if(n&1&&(u(0),l(1,"div",7)(2,"div",8)(3,"div",9)(4,"b"),_(5),c()(),l(6,"div",10),d(7,$,3,3,"label",22),c()()(),g()),n&2){let t=o().$implicit,i=o();a(5),f(i.capitalize(i.marketArray[1]==null?null:i.marketArray[1].question)),a(2),s("ngForOf",t==null?null:t.runners)}}function L(n,e){if(n&1&&(u(0),d(1,V,8,2,"ng-container",6),g()),n&2){let t=e.index;a(),s("ngIf",t===1)}}function W(n,e){if(n&1&&(l(0,"label",12),m(1,"input",13),_(2),c()),n&2){let t=e.$implicit,i=e.index,p=o(2).index,r=o();s("ngClass",r.winnerMarketArray.runners[0].status=="SUSPEND"||r.game.status=="SUSPEND"?"suspended":r.selectedCell==r.winnerMarketArray.runners[0].selectionId?"selected":""),a(),s("id","option"+p+"-"+i),a(),h(" ",r.marketArray[2].runnersName[t==null?null:t.selectionId]," ")}}function q(n,e){if(n&1&&(u(0),l(1,"div",7)(2,"div",8)(3,"div",9)(4,"b"),_(5),c()(),l(6,"div",10),d(7,W,3,3,"label",22),c()()(),g()),n&2){let t=o().$implicit,i=o();a(5),f(i.capitalize(i.marketArray[2]==null?null:i.marketArray[2].question)),a(2),s("ngForOf",t==null?null:t.runners)}}function Y(n,e){if(n&1&&(u(0),d(1,q,8,2,"ng-container",6),g()),n&2){let t=e.index;a(),s("ngIf",t===2)}}function G(n,e){if(n&1&&(l(0,"label",26),m(1,"input",13),_(2),c()),n&2){let t=e.$implicit,i=e.index,p=o(2).index,r=o();s("ngClass",r.winnerMarketArray.runners[0].status=="SUSPEND"||r.game.status=="SUSPEND"?"suspended":r.selectedCell==r.winnerMarketArray.runners[0].selectionId?"selected":""),a(),s("id","option"+p+"-"+i),a(),h(" ",r.marketArray[3].runnersName[t==null?null:t.selectionId]," ")}}function H(n,e){if(n&1&&(l(0,"div",24)(1,"div",8)(2,"div",9)(3,"b"),_(4),c()(),l(5,"div",10),d(6,G,3,3,"label",25),c()()()),n&2){let t=o().$implicit,i=o();a(4),f(i.capitalize(i.marketArray[3]==null?null:i.marketArray[3].question)),a(2),s("ngForOf",t==null?null:t.runners)}}function J(n,e){if(n&1&&(u(0),d(1,H,7,2,"div",23),g()),n&2){let t=e.index;a(),s("ngIf",t===3)}}function X(n,e){n&1&&m(0,"img",18)}function Z(n,e){n&1&&m(0,"img",19)}function j(n,e){n&1&&m(0,"img",20)}function ee(n,e){n&1&&m(0,"img",21)}function te(n,e){if(n&1&&(l(0,"label",26),m(1,"input",13),d(2,X,1,0,"img",14)(3,Z,1,0,"img",15)(4,j,1,0,"img",16)(5,ee,1,0,"img",17),c()),n&2){let t=e.$implicit,i=e.index,p=o(2).index,r=o();s("ngClass",r.winnerMarketArray.runners[0].status=="SUSPEND"||r.game.status=="SUSPEND"?"suspended":r.selectedCell==r.winnerMarketArray.runners[0].selectionId?"selected":""),a(),s("id","option"+p+"-"+i),a(),s("ngIf",(r.marketArray[4]==null?null:r.marketArray[4].runnersName[t==null?null:t.selectionId])=="SPADE"),a(),s("ngIf",(r.marketArray[4]==null?null:r.marketArray[4].runnersName[t==null?null:t.selectionId])=="HEART"),a(),s("ngIf",(r.marketArray[4]==null?null:r.marketArray[4].runnersName[t==null?null:t.selectionId])=="CLUB"),a(),s("ngIf",(r.marketArray[4]==null?null:r.marketArray[4].runnersName[t==null?null:t.selectionId])=="DIAMOND")}}function ne(n,e){if(n&1&&(l(0,"div",24)(1,"div",8)(2,"div",9)(3,"b"),_(4),c()(),l(5,"div",10),d(6,te,6,6,"label",25),c()()()),n&2){let t=o().$implicit,i=o();a(4),f(i.capitalize(i.marketArray[4]==null?null:i.marketArray[4].question)),a(2),s("ngForOf",t==null?null:t.runners)}}function ie(n,e){if(n&1&&(u(0),d(1,ne,7,2,"div",23),g()),n&2){let t=e.index;a(),s("ngIf",t===4)}}var T=class n{constructor(e,t,i,p,r){this.route=e;this.toaster=t;this.backendService=i;this.mainService=p;this.encyDecy=r;this.eventid=this.route.snapshot.params.id,this._roomId="",this.message.id=this.eventid}subscription;subscription2;totalRecords=new x;message={type:"1",id:""};casinoPl=[];matchedBets=[];marketArray=[];runnersName={};getRoundId="";currentTab="";currentTabB="";currentTabC="";currentTabD="";counter=0;resultcounter=0;counttt=0;_roomId;game;theme;timer;loader;eventid;marketId;eventName;modalData;split_arr;stackValue;gameroundId;resultArray;RoundWinner;playerBCards;selectedCell;isIPhoneUser;playerACards;winningAmount;isBetslipClose;changeValue;totalMatchedBets;winnerMarketArray;currentRunnerPrice;isActive;selectedQuestion=[];selectionQuestionId={Q1:"",Q2:"",Q3:"",Q4:"",Q5:""};Card;ngOnInit(){this.getResults(),this.route.params.subscribe(e=>{let t=e.id}),this.backendService.getResultstream().subscribe(e=>{this.resultArray=e}),this.subscription2=this.backendService.getBetPlace().subscribe(e=>{e&&(this.loader=e.loader,e.profitlossCall==!0&&e.loader==!1&&(this.marketId="",this.selectionQuestionId={Q1:"",Q2:"",Q3:"",Q4:"",Q5:""}))}),this.encyDecy.generateEncryptionKey("",this.message),this.subscription=this.encyDecy.getMarketData().subscribe((e=[])=>{if(e){this.getRoundId=localStorage.getItem("roundID");let t=JSON.parse(e);Array.isArray(t.data)?t.type=="1"&&t.data[0].marketArr.length>0&&(this.marketArray=t.data[0].marketArr,this.game=t.data[0],this.game.marketArr=this.marketArray?this.marketArray:t.data[0].marketArr,this.eventName=t.data[0].eventName,this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.handleEventResponse(t,0)):this.handleEventResponse(t,0),this.game&&(this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.marketArray=this.game.marketArr,this.gameroundId=this.game.roundId,this.game.eventName=this.eventName?this.eventName:this.game.eventName,this.backendService.updateRoundId(this.game),(this.getRoundId!=this.game.roundId||this.getRoundId=="")&&(localStorage.setItem("roundID",this.game.roundId),this.casinoPl=[],this.getResults(),this.selectedCell="",this.selectionQuestionId={Q1:"",Q2:"",Q3:"",Q4:"",Q5:""}),this.game.status=="SUSPEND"&&(this.selectionQuestionId={Q1:"",Q2:"",Q3:"",Q4:"",Q5:""}),this.Card=this.game?.cardsArr?.card,this.winnerMarketArray=this.game.marketArr?this.game.marketArr[0]:"",this.runnersName=this.winnerMarketArray.runnersName,this.marketArray=this.game.marketArr)}})}getEventOdds(){this.backendService.getCasinoEventOdds(this.eventid).subscribe(e=>{e.meta.status_code==200?(this.game=e?.data,this.marketArray=this.game?.marketArr,this.playerACards=this.game?.cardsArr?.PLAYER_A,this.playerBCards=this.game?.cardsArr?.PLAYER_B,this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.runnersName=this.winnerMarketArray?.runnersName):this.toaster.error(e?.meta?.message,"",{positionClass:"toast-top-right"})})}handleEventResponse(e,t){if(Array.isArray(e))e.forEach(i=>{this.marketObjManager(i)});else{let i=e;this.marketObjManager(i);return}}marketObjManager(e){if(e&&e?.type=="1")if("data"in e&&this?.counter==0&&e?.data?.marketArr&&e?.data?._id)this.marketArray=e?.data?.marketArr,this.game=this?.marketArray?this?.marketArray:e?.data,this.game=e?.data,this.eventName=e?.data?.eventName,this.counter=1;else{if("marketArr"in e?.data&&Array.isArray(e?.data?.marketArr)&&(this.game.marketArr=e?.data?.marketArr),"cardsArr"in e?.data&&(Array.isArray(e?.data?.cardsArr)||(this.game.cardsArr=e?.data?.cardsArr)),"roundId"in e&&(this.game.roundId=e?.roundId),"roundId"in e?.data&&(this.game.roundId=e?.data?.roundId),"status"in e?.data&&(this.game.status=e?.data?.status),"resultsArr"in e?.data){this?.casinoPl&&this?.casinoPl[this?.winnerMarketArray?.marketId]&&(this.casinoPl[this?.winnerMarketArray?.marketId][this.winnerMarketArray?.runners[0]?.selectionId]>0&&(this.winningAmount=this?.casinoPl[this?.winnerMarketArray?.marketId][this?.winnerMarketArray?.runners[0]?.selectionId]),this.casinoPl[this?.winnerMarketArray?.marketId][this?.winnerMarketArray.runners[1]?.selectionId]>0&&(this.winningAmount=this?.casinoPl[this.winnerMarketArray?.marketId][this?.winnerMarketArray?.runners[1]?.selectionId]));for(let i in e?.data?.resultsArr[0]?.runners)e.data?.resultsArr[0]?.runners[i]=="WINNER"&&(this.RoundWinner=e?.data?.resultsArr[0]?.runnersName[i],this.backendService.setResultData(this?.RoundWinner)),e?.data?.resultsArr[0]?.runners[i]=="WINNER"&&setTimeout(()=>{this.backendService.setResultSparkData(!0)},1e3);setTimeout(()=>{this.RoundWinner=null,this.winningAmount=null,this.backendService.setResultData(this.RoundWinner)},5e3)}var t=Object.keys(e?.data)[0];if(t.includes(".")){this.split_arr=t.split("."),Object.entries(e.data).forEach(([,D])=>this.changeValue=D);let i=parseInt(this.split_arr[1]),p=this.split_arr[3],r=this.split_arr[6];this.split_arr[7]=="size"&&(this.marketArray[i].runners[p].price.back[r].size=this.changeValue),this.split_arr[7]=="price"&&(this.marketArray[i].runners[p].price.back[r].price=this.changeValue),this.split_arr[4]=="status"&&(this.marketArray[i].runners[p].status=this.changeValue)}}}trackByFn(e,t){return e}emptyObjQuestion(){this.selectionQuestionId={Q1:"",Q2:"",Q3:"",Q4:"",Q5:""}}getResults(){this.backendService.getAllRecordsByPost(S.getCasinoResultURL,{eventId:this.eventid}).pipe(b()).subscribe(e=>{this.backendService.updateResultstream(e.data)},e=>{let t=e})}ngOnDestroy(){let e={type:"2",id:""};this.encyDecy.sendMessageToSocket(e),this.subscription&&this.subscription.unsubscribe(),this.subscription2&&this.subscription2.unsubscribe()}capitalize(e){return e?e.replace(/\w\S*/g,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()):""}static \u0275fac=function(t){return new(t||n)(y(I),y(w),y(E),y(O),y(R))};static \u0275cmp=v({type:n,selectors:[["app-kbc"]],outputs:{totalRecords:"totalRecords"},decls:12,vars:5,consts:[[1,"videoPlayer"],[1,"kbc-table","font-noto-sans"],[1,"row","kbc-btns","d-flex","flex-wrap","align-items-center"],[4,"ngFor","ngForOf"],[1,"row","kbc-btns","d-flex","flex-wrap","align-items-center","mt-2"],[1,"showInMobile"],[4,"ngIf"],[1,"col-12","col-md-4","pair1"],[1,"casino-box-row","d-flex","flex-wrap","align-items-center","position-relative"],[1,"casino-nation-name","text-center","text-black","bg-transparent","w-100"],["data-toggle","buttons",1,"btn-group","btn-group-toggle","d-flex","flex-wrap","justify-content-between","position-relative"],["class","btn btn1 d-flex align-items-center justify-content-center  position-relative  text-center bg-transparent text-black mb-0 fw-bold",3,"ngClass",4,"ngFor","ngForOf"],[1,"btn","btn1","d-flex","align-items-center","justify-content-center","position-relative","text-center","bg-transparent","text-black","mb-0","fw-bold",3,"ngClass"],["type","radio","name","options","autocomplete","off","checked","checked",3,"id"],["class","btn-img","src","/assets/lucky7/spade.png","alt","",4,"ngIf"],["class","btn-img","src","/assets/lucky7/heart.png","alt","",4,"ngIf"],["class","btn-img","src","/assets/lucky7/club.png","alt","",4,"ngIf"],["class","btn-img","src","/assets/lucky7/diamond.png","alt","",4,"ngIf"],["src","/assets/lucky7/spade.png","alt","",1,"btn-img"],["src","/assets/lucky7/heart.png","alt","",1,"btn-img"],["src","/assets/lucky7/club.png","alt","",1,"btn-img"],["src","/assets/lucky7/diamond.png","alt","",1,"btn-img"],["class","btn btn1 d-flex  align-items-center justify-content-center  position-relative  text-center bg-transparent text-black mb-0 fw-bold",3,"ngClass",4,"ngFor","ngForOf"],["class","col-12 col-md-6 pair1",4,"ngIf"],[1,"col-12","col-md-6","pair1"],["class","btn btn2 d-flex  align-items-center justify-content-center  position-relative  text-center bg-transparent text-black mb-0 fw-bold",3,"ngClass",4,"ngFor","ngForOf"],[1,"btn","btn2","d-flex","align-items-center","justify-content-center","position-relative","text-center","bg-transparent","text-black","mb-0","fw-bold",3,"ngClass"]],template:function(t,i){t&1&&(l(0,"div",0),m(1,"app-video-player"),c(),l(2,"div",1)(3,"div",2),d(4,z,2,1,"ng-container",3)(5,L,2,1,"ng-container",3)(6,Y,2,1,"ng-container",3),c(),l(7,"div",4),d(8,J,2,1,"ng-container",3)(9,ie,2,1,"ng-container",3),c(),l(10,"div",5),m(11,"app-resultbar"),c()()),t&2&&(a(4),s("ngForOf",i.marketArray),a(),s("ngForOf",i.marketArray),a(),s("ngForOf",i.marketArray),a(2),s("ngForOf",i.marketArray),a(),s("ngForOf",i.marketArray))},dependencies:[N,A,C,k,P],styles:[".kbc-table[_ngcontent-%COMP%]{padding:10px 10px 40px;background-color:#f8f8fb;border-radius:0 0 8px 8px;box-shadow:0 2px 6px #e2e2e2}.kbc-btns[_ngcontent-%COMP%]{margin-left:-5px;margin-right:-5px}.casino-box-row[_ngcontent-%COMP%]{padding:5px!important;display:-webkit-flex}.pair1[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}.casino-nation-name[_ngcontent-%COMP%]{border-radius:0;line-height:22px;padding:6px;font-size:14px!important;border-bottom:3px solid #72bbef}.casino-nation-name[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{line-height:18.67px}.btn-group[_ngcontent-%COMP%]{width:85%;margin:0 auto;vertical-align:middle}.btn[_ngcontent-%COMP%]{border:3px solid #72bbef;flex:0 0 auto;height:50px;margin-left:1px;border-top:0;border-radius:0!important;font-size:18px!important}.btn1[_ngcontent-%COMP%]{width:calc(50% - 4px);font-family:noto sans!important;font-weight:400!important}.btn2[_ngcontent-%COMP%]{width:calc(25% - 4px);font-family:noto sans!important;font-weight:400!important;letter-spacing:2px}.btn-group-toggle[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{position:absolute;clip:rect(0,0,0,0);pointer-events:none;box-sizing:border-box;padding:0}.btn-img[_ngcontent-%COMP%]{width:30px;vertical-align:middle}.tracking[_ngcontent-%COMP%]{letter-spacing:-.09rem}b[_ngcontent-%COMP%]{font-family:Noto Sans!important}@media only screen and (max-width: 320px){.btn[_ngcontent-%COMP%]{font-size:15px!important}}@media only screen and (min-width: 380px){.btn2[_ngcontent-%COMP%]{letter-spacing:4px}}@media only screen and (max-width: 1279px){.kbc-table[_ngcontent-%COMP%]{padding:5px;box-shadow:none;border-radius:0}}@media only screen and (min-width: 767px){.tracking[_ngcontent-%COMP%]{letter-spacing:0}}.irfan[_ngcontent-%COMP%]{background-color:transparent;color:#000;border:3px solid var(--back);width:calc(50% - 4px);flex:0 0 auto;height:50px;display:flex;align-items:center;justify-content:center;position:relative;margin-left:1px;border-top:0;border-radius:0;font-weight:700;font-size:18px}"]})};export{T as KbcComponent};
