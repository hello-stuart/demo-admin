import{a as g,b as R}from"./chunk-FGLKNMTP.js";import{f as F,h as L}from"./chunk-F4ECYANF.js";import{$b as w,Db as c,Nb as i,Ob as t,Sb as y,Sc as E,Tc as P,Uc as O,Vb as S,Wb as C,Xc as k,Yc as N,_c as M,ac as _,bb as n,bc as D,cb as m,dc as r,ec as s,ed as T,hd as U,mb as v,nc as h,oa as x,pa as b,sb as I,tc as p,vc as u}from"./chunk-CKWEI2SK.js";import"./chunk-ZR4K4ZIC.js";var A=(d,a)=>({"text-success":d,"text-danger":a});function $(d,a){if(d&1){let e=y();i(0,"tr")(1,"td",20)(2,"a",21),S("click",function(){let o=x(e).$implicit,f=C();return b(f.goto(o.userId))}),r(3),t()(),i(4,"td",22),r(5),t(),i(6,"td",22),r(7),t(),i(8,"td",22),r(9),t(),i(10,"td",22),r(11),t(),i(12,"td",23),r(13),p(14,"number"),t(),i(15,"td",23),r(16),p(17,"number"),t(),i(18,"td",22),r(19),p(20,"date"),t()()}if(d&2){let e=a.$implicit;n(3),s(e==null?null:e.userName),n(2),s(e==null?null:e.sportName),n(2),s(e==null?null:e.eventName),n(2),s(e.marketName),n(2),s(e==null?null:e.result),n(),c("ngClass",h(19,A,e.pl>0,0>e.pl)),n(),s(u(14,10,e==null?null:e.pl,"1.0-2")),n(2),c("ngClass",h(22,A,e.commission>0,0>e.commission)),n(),s(u(17,13,e==null?null:e.commission,"1.0-2")),n(3),s(u(20,16,e.createdAt,"medium"))}}function H(d,a){d&1&&(i(0,"tr",24)(1,"td",25),r(2,"No matching records found"),t()())}var B=class d{constructor(a,e,l){this.route=a;this.http=e;this.router=l;this.route.params.subscribe(o=>{this.marketId=o.marketId,this.sportId=o.sportId,this.dataSource=o.dataSource})}datatableElement;dtOptions={};data={};userid;marketId;startDate;endDate;sportId;rows=[];reqForBets={};dataSource;roundId;ngOnInit(){this.roundId=localStorage.getItem("roundId"),this.startDate=localStorage.getItem("startDate"),this.endDate=localStorage.getItem("endDate"),this.getAccountStatement()}textSpliter(a,e){}getAccountStatement(){this.reqForBets={startDate:this.startDate,endDate:this.endDate,marketId:this.marketId,sportId:this.sportId,roundId:this.roundId,dataSource:this.dataSource};let a=this;this.dtOptions={pagingType:"full_numbers",pageLength:10,serverSide:!0,searching:!0,autoWidth:!1,order:[0,"desc"],processing:!1,ajax:(e,l)=>{a.http.post(U.marketProfitLossList,Object.assign(e,this.reqForBets)).subscribe(o=>{let f=o.data?.original?.data;this.rows=o.data?.original?.data.sort((j,q)=>j.sportId-q.sportId),l({recordsTotal:o.data?.original?.recordsTotal,recordsFiltered:o.data?.original?.recordsFiltered,data:[]})})},columns:[{data:"userName",orderable:!0},{data:"sportName",orderable:!0},{data:"eventName",orderable:!0},{data:"marketName",orderable:!0},{data:"result",orderable:!0},{data:"pl",orderable:!0},{data:"commission",orderable:!0},{data:"createdAt",orderable:!0}]}}rerender(){this.reqForBets={startDate:this.startDate,endDate:this.endDate,marketId:this.marketId,sportId:this.sportId,dataSource:this.dataSource},this.datatableElement.dtInstance.then(a=>{a.draw()})}goto(a){localStorage.setItem("fromUid",a);let e=this.router.serializeUrl(this.router.createUrlTree([`/userBetHistory/${this.sportId}/${this.marketId}/${this.dataSource}/master`]));window.open(e,"_blank")}static \u0275fac=function(e){return new(e||d)(m(F),m(T),m(L))};static \u0275cmp=v({type:d,selectors:[["app-userwise-profit-loss"]],viewQuery:function(e,l){if(e&1&&w(g,5),e&2){let o;_(o=D())&&(l.datatableElement=o.first)}},decls:29,vars:3,consts:[[1,"detail-row"],[1,"listing-grid"],[1,"card","card-accent-primary"],[1,"game-heading"],[1,"card-header-title"],[1,"card-body","account-detail-body"],[1,"table-responsive","table"],["datatable","","role","table","aria-busy","false","aria-colcount","6",1,"table","table-bordered",3,"dtOptions"],["role","rowgroup"],["role","row"],["role","columnheader","scope","col","aria-colindex","1",1,"text-center"],["role","columnheader","scope","col","aria-colindex","2",1,"text-center"],["role","columnheader","scope","col","aria-colindex","3",1,"text-center"],["role","columnheader","scope","col","aria-colindex","4",1,"text-center"],["role","columnheader","scope","col","aria-colindex","5",1,"text-center"],["role","columnheader","scope","col","aria-colindex","6",1,"text-center"],["role","columnheader","scope","col","aria-colindex","7",1,"text-center"],["role","columnheader","scope","col","aria-colindex","8",1,"text-center"],[4,"ngFor","ngForOf"],["class","odd",4,"ngIf"],[1,"text-center",2,"text-transform","uppercase"],[1,"plLink",3,"click"],[1,"text-center"],[1,"text-center",3,"ngClass"],[1,"odd"],["valign","top","colspan","11",1,"nofound"]],template:function(e,l){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),r(5,"Profit Loss User"),t()(),i(6,"div",5)(7,"div",6)(8,"table",7)(9,"thead",8)(10,"tr",9)(11,"th",10),r(12,"User Name"),t(),i(13,"th",11),r(14,"Sport Name"),t(),i(15,"th",12),r(16,"Event Name "),t(),i(17,"th",13),r(18,"Market Name "),t(),i(19,"th",14),r(20,"Result"),t(),i(21,"th",15),r(22,"Profit Loss"),t(),i(23,"th",16),r(24,"Commission"),t(),i(25,"th",17),r(26,"Settle Time"),t()()(),I(27,$,21,25,"tr",18)(28,H,3,0,"tr",19),t()()()()()()),e&2&&(n(8),c("dtOptions",l.dtOptions),n(19),c("ngForOf",l.rows),n(),c("ngIf",(l.rows==null?null:l.rows.length)==0))},dependencies:[M,E,P,O,N,k,R,g],styles:[".border-right-black[_ngcontent-%COMP%]{border-right:1px solid #bbb}td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center!important}td[_ngcontent-%COMP%]{height:40px;padding:0 4px!important;vertical-align:middle}thead[_ngcontent-%COMP%]{border-width:1px!important;height:40px;vertical-align:middle}.totalRow[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{background:#2c3e50;color:#fff;font-weight:700}.game-heading[_ngcontent-%COMP%]{font-weight:700;font-size:15px;padding:5px 10px}.no-data-available[_ngcontent-%COMP%]{padding:16px!important;background-color:#0000000d;text-align:center}  table tbody tr td.dt-empty{display:none!important}"]})};export{B as UserwiseProfitLossComponent};
