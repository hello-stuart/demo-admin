import{a as E}from"./chunk-YAPTLMR7.js";import{a as D}from"./chunk-PW5J7ZGW.js";import{c as M,d as B}from"./chunk-3BRWB67J.js";import"./chunk-5UJXZMZS.js";import"./chunk-ACVM4ET5.js";import"./chunk-QZIUMNBJ.js";import{m as R,q as N}from"./chunk-TKUFSEQW.js";import{f as P}from"./chunk-F4ECYANF.js";import{Cb as _,Db as p,Nb as s,O as A,Ob as i,Pb as h,Sc as O,Tc as w,Uc as I,Wb as u,bb as r,cb as g,dc as c,ec as C,fc as f,gc as k,hd as S,mb as b,sb as y,tc as x,uc as v}from"./chunk-CKWEI2SK.js";import"./chunk-ZR4K4ZIC.js";function z(d,e){if(d&1&&(s(0,"div",6)(1,"div",11)(2,"b"),c(3),i(),s(4,"div",12)(5,"span",13),c(6,"0"),i(),h(7,"i",14),s(8,"div",15),c(9," R:"),s(10,"span",16),c(11),x(12,"shortNumber"),x(13,"shortNumber"),i()()()(),s(14,"div",17)(15,"div",18),c(16),i(),s(17,"div",19),c(18),i()()()),d&2){let t=e.$implicit,n=e.index,m=u(),o=m.$implicit,l=m.index,a=u();r(3),C(a.winnerMarketArray.runnersName[o.selectionId]),r(4),_("data-bs-target","#range"+l+n),r(),p("id","range"+l+n),r(3),k("",v(12,9,t.min),"-",v(13,11,t.max),""),r(4),p("ngClass",o.status=="SUSPEND"||(a.game==null?null:a.game.status)=="SUSPEND"||a.game.length?"suspended":""),r(),f(" ",o.price.back[0].price,""),r(),p("ngClass",o.status=="SUSPEND"||(a.game==null?null:a.game.status)=="SUSPEND"||a.game.length?"suspended":""),r(),f(" ",o.price.lay[0].price,"")}}function V(d,e){d&1&&h(0,"div",20)}function F(d,e){if(d&1&&(s(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"b"),c(6,"Back"),i()(),s(7,"div",8)(8,"b"),c(9,"Lay"),i()()()(),y(10,z,19,13,"div",9),i(),y(11,V,1,0,"div",10),i()),d&2){let t=e.index,n=u();r(10),p("ngForOf",n.marketArray),r(),p("ngIf",t===0)}}var T=class d{constructor(e,t,n,m){this.route=e;this.toaster=t;this.backendService=n;this.encyDecy=m;this.eventid=this.route.snapshot.params.id,this._roomId="",this.message.id=this.eventid,this.messageResult.id=this.eventid}subscription;subscription2;message={type:"1",id:""};messageResult={type:"3",id:""};_roomId;game;Card;counter=0;timer;eventid;marketId;cardsArr;rulesBox;eventName;split_arr;stackValue;resultArray;changeValue;marketArray;gameroundId;RoundWinner;playerACards;playerBCards;selectedCell;winningAmount;selectedResult;myVideo=null;isValueBetsSlip=0;getRoundId="";runnersName={};winnerMarketArray;currentRunnerPrice;ngOnDestroy(){let e={type:"2",id:""};this.encyDecy.sendMessageToSocket(e),this.subscription&&this.subscription.unsubscribe(),this.subscription2&&this.subscription2.unsubscribe()}ngOnInit(){this.encyDecy.generateEncryptionKey("",this.message),this.subscription=this.encyDecy.getMarketData().subscribe((e=[])=>{if(e){this.getRoundId=localStorage.getItem("roundID");let t=JSON.parse(e);Array.isArray(t.data)?t.type=="1"&&(this.marketArray=t.data[0]?.marketArr,this.game=t?.data[0],this.game.marketArr=this?.marketArray?this.marketArray:t?.data[0]?.marketArr,this.eventName=t.data[0].eventName,this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.handleEventResponse(t,0)):this.handleEventResponse(t,0),this.game&&(this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.marketArray=this.game.marketArr,this.gameroundId=this.game.roundId,this.game.eventName=this.eventName?this?.eventName:this.game?.eventName,this.backendService.updateRoundId(this?.game),(this.getRoundId!=this.game.roundId||this.getRoundId=="")&&(localStorage.setItem("roundID",this?.game?.roundId),this.getResults(),this.selectedCell=""),this.playerACards=this.game?.cardsArr?.PLAYER_A,this.playerBCards=this.game?.cardsArr?.PLAYER_B,this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.runnersName=this.winnerMarketArray?.runnersName),t.type=="3"}}),this.getResults()}handleEventResponse(e,t){if(Array.isArray(e))e.forEach(n=>{this.marketObjManager(n)});else{let n=e;this.marketObjManager(n);return}}marketObjManager(e){if(e.type=="1")if("data"in e&&this.counter==0&&e.data.marketArr&&e.data._id)this.marketArray=e?.data?.marketArr,this.game=this.marketArray?this.marketArray:e?.data,this.game=e?.data,this.eventName=e?.data?.eventName,this.counter=1;else{if("marketArr"in e?.data&&Array.isArray(e?.data?.marketArr)&&(this.game.marketArr=e?.data?.marketArr),"cardsArr"in e?.data&&(Array.isArray(e?.data?.cardsArr)||(this.game.cardsArr=e?.data?.cardsArr)),"roundId"in e&&(this.game.roundId=e?.roundId),"roundId"in e.data&&(this.game.roundId=e?.data?.roundId),"status"in e?.data&&(this.game.status=e?.data?.status),"seconds"in e?.data&&(this.game.seconds=e?.data?.seconds),"resultsArr"in e?.data){for(let n in e?.data?.resultsArr[0]?.runners)e?.data?.resultsArr[0]?.runners[n]=="WINNER"&&(this.RoundWinner=e.data.resultsArr[0]?.runnersName[n],this.backendService.setResultData(this.RoundWinner));setTimeout(()=>{this.RoundWinner=null,this.winningAmount=null,this.backendService.setResultWinningAmount(this.winningAmount),this.backendService.setResultData(this.RoundWinner)},5e3)}var t=Object.keys(e?.data)[0];t.includes(".")&&Object.entries(e?.data).forEach(([n,m])=>{this.changeValue=m,this.split_arr=n?.split(".");let o=parseInt(this.split_arr[1]),l=this.split_arr[3],a=this.split_arr[6];this.split_arr[5]=="back"&&(this.split_arr[7]=="size"&&(this.marketArray[o].runners[l].price.back[a].size=this.changeValue),this.split_arr[7]=="price"&&(this.marketArray[o].runners[l].price.back[a].price=this.changeValue)),this.split_arr[5]=="lay"&&(this.split_arr[7]=="size"&&(this.marketArray[o].runners[l].price.lay[a].size=this.changeValue),this.split_arr[7]=="price"&&(this.marketArray[o].runners[l].price.lay[a].price=this.changeValue)),this.split_arr[4]=="status"&&(this.marketArray[o].runners[l].status=this?.changeValue)})}}trackByFn(e,t){return e}intoNumber(e){return parseInt(e)}getEventOdds(){this.backendService.getCasinoEventOdds(this.eventid).subscribe(e=>{e.meta.status_code==200?(this.game=e?.data,this.marketArray=this.game?.marketArr,this.playerACards=this.game?.cardsArr?.PLAYER_A,this.playerBCards=this.game?.cardsArr?.PLAYER_B,this.winnerMarketArray=this.game?.marketArr?this.game.marketArr[0]:"",this.runnersName=this.winnerMarketArray.runnersName):this.toaster.error(e.meta.message,"",{positionClass:"toast-top-center"})})}getResults(){this.backendService.getAllRecordsByPost(S.getCasinoResultURL,{eventId:this.eventid}).pipe(A()).subscribe(e=>{this.backendService.updateResultstream(e.data)},e=>{let t=e})}static \u0275fac=function(t){return new(t||d)(g(P),g(R),g(N),g(B))};static \u0275cmp=b({type:d,selectors:[["app-oneday-teenpatti"]],decls:7,vars:1,consts:[[1,"oneday-wrapper"],[1,"oneday-casino-container"],["class","teen1day-left d-flex",4,"ngFor","ngForOf"],[1,"showInMobile"],[1,"teen1day-left","d-flex"],[1,"w-100"],[1,"casino-box-row"],[1,"bl-box"],[1,"back"],["class","casino-box-row",4,"ngFor","ngForOf"],["class","teen1day-center",4,"ngIf"],[1,"casino-player-name"],[1,"bl-content","d-flex","align-items-center"],[1,"mr-2"],["data-bs-toggle","collapse",1,"fas","fa-info-circle","float-end"],[1,"collapse","icon-range",3,"id"],[1,"small-txt"],[1,"casino-bl-box"],[1,"casino-back","box-item",3,"ngClass"],[1,"casino-lay","box-item",3,"ngClass"],[1,"teen1day-center"]],template:function(t,n){t&1&&(s(0,"div"),h(1,"app-video-player"),i(),s(2,"div",0)(3,"div",1),y(4,F,12,2,"div",2),i(),s(5,"div",3),h(6,"app-resultbar"),i()()),t&2&&(r(4),p("ngForOf",n.winnerMarketArray==null?null:n.winnerMarketArray.runners))},dependencies:[D,w,O,I,E,M],styles:[".oneday-wrapper[_ngcontent-%COMP%]{padding:5px 5px 40px;background-color:#f8f8fb;border-radius:0 0 8px 8px;box-shadow:0 2px 6px #e2e2e2;position:relative}.oneday-casino-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;width:100%;line-height:22px;letter-spacing:0;color:#000;font-family:Noto Sans;font-size:14px;font-weight:400;flex-direction:column;align-items:center}.teen1day-left[_ngcontent-%COMP%]{width:100%}.teen1day-center[_ngcontent-%COMP%]{display:none;width:2px;background-color:gray;position:absolute;height:70%;left:49.9%}.teen1day-right[_ngcontent-%COMP%]{width:100%}.casino-box-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:2px 0;align-items:center;position:relative;justify-content:flex-end}.player-name[_ngcontent-%COMP%]{width:50%;position:relative}.playera[_ngcontent-%COMP%]{color:#fc4242}.playerb[_ngcontent-%COMP%]{color:#ef910f}.bl-box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;width:50%}.back[_ngcontent-%COMP%]{width:calc(50% - 2px);color:#000;height:24px!important;font-size:14px;flex-direction:row;margin-right:4px;border-radius:4px;display:flex;justify-content:center;align-items:center;text-align:center;cursor:not-allowed}.back[_ngcontent-%COMP%]:last-child{margin-right:0}.casino-player-name[_ngcontent-%COMP%]{width:50%;position:relative;background-color:#ddd;padding:4px;display:flex;justify-content:space-between}.bl-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:.5rem;font-size:18px;line-height:18px}.bl-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer;color:#4a4a4a}#range2[_ngcontent-%COMP%]{font-size:14px}.small-txt[_ngcontent-%COMP%]{font-size:12px!important;margin-right:0!important}.casino-bl-box[_ngcontent-%COMP%]{width:50%;display:flex;align-items:center;flex-wrap:wrap;display:grid;grid-template-columns:1fr 1fr;justify-content:center}.box-item[_ngcontent-%COMP%]{cursor:not-allowed;height:40px;color:#000;text-align:center;display:flex;justify-content:center;align-items:center;flex-direction:column;margin-right:4px;border-radius:4px;position:relative}.casino-back[_ngcontent-%COMP%]{background-color:#72bbef17;border:2px solid #72bbef}.casino-lay[_ngcontent-%COMP%]{background-color:#f994ba17;border:2px solid #f994ba;margin-right:0}.is-desktop[_ngcontent-%COMP%]{display:none}.is-mobile[_ngcontent-%COMP%]{display:inline-block}.mobile-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;font-size:12px;text-transform:uppercase}.collapse[_ngcontent-%COMP%]{max-height:0;overflow:hidden;opacity:0}.collapse.show[_ngcontent-%COMP%]{max-height:30px;opacity:1}.icon-range[_ngcontent-%COMP%]{position:absolute;top:100%;background-color:#16191c;padding:4px;max-width:100%;word-wrap:break-word;font-size:12px;z-index:10;right:0;transition:.1s;text-transform:capitalize;color:#aaafb5;z-index:150}@media screen and (min-width: 768px){.is-mobile[_ngcontent-%COMP%]{display:none}.is-desktop[_ngcontent-%COMP%]{display:flex}.teen1day-center[_ngcontent-%COMP%]{display:block}.oneday-casino-container[_ngcontent-%COMP%]{flex-direction:row}.teen1day-left[_ngcontent-%COMP%], .teen1day-right[_ngcontent-%COMP%]{width:49%}}"]})};export{T as OnedayTeenpattiComponent};
