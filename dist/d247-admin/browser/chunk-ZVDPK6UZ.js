import{a as N}from"./chunk-YAPTLMR7.js";import{a as D}from"./chunk-SBFAXTSC.js";import{c as R,d as B}from"./chunk-A5YAUSYP.js";import"./chunk-3J6HDLJO.js";import"./chunk-KMJAJAAH.js";import"./chunk-QZIUMNBJ.js";import{m as I,q as E}from"./chunk-6542H3SY.js";import{f as P}from"./chunk-F4ECYANF.js";import{Db as c,Nb as t,O as C,Ob as r,Pb as p,Sc as w,Tc as S,Uc as _,Wb as k,_a as A,bb as a,cb as g,dc as i,ec as m,fc as v,gc as u,hd as O,mb as M,mc as b,sb as h,tc as l,uc as o}from"./chunk-CKWEI2SK.js";import"./chunk-ZR4K4ZIC.js";var j=d=>[d];function F(d,n){if(d&1&&(t(0,"div",32)(1,"div",33),p(2,"div",5),t(3,"div",29)(4,"div",5),i(5),r(),t(6,"div",34)(7,"div",35),p(8,"img",36),r()(),t(9,"div",37),i(10,"0"),r(),t(11,"div",38),i(12," R:"),t(13,"span",12),i(14),l(15,"shortNumber"),l(16,"shortNumber"),r()()()()()),d&2){let e=n.$implicit,s=k(2);a(5),m(s.marketArray[3]==null||s.marketArray[3].runners[0]==null?null:s.marketArray[3].runners[0].price.back[0].price),a(),c("ngClass",s.winnerMarketArray.runners[0].status=="SUSPEND"||s.game.status=="SUSPEND"?"suspended":s.selectedCell==s.winnerMarketArray.runners[0].selectionId?"selected":""),a(2),c("src",b(9,j,"/assets/lucky7/"+(s.marketArray[3]==null?null:s.marketArray[3].runnersName[e==null?null:e.selectionId])+".png"),A),a(6),u("",o(15,5,s.winnerMarketArray==null?null:s.winnerMarketArray.min),"-",o(16,7,s.winnerMarketArray==null?null:s.winnerMarketArray.max),"")}}function L(d,n){if(d&1&&(t(0,"div",35)(1,"div",39)(2,"div",40),p(3,"img",41),r()(),t(4,"div",7),i(5,"0"),r()()),d&2){let e=n.$implicit,s=k(2);a(2),c("ngClass",s.winnerMarketArray.runners[0].status=="SUSPEND"||s.game.status=="SUSPEND"?"suspended":s.selectedCell==s.winnerMarketArray.runners[0].selectionId?"selected":""),a(),c("src",b(2,j,"/assets/lucky7/"+(s.marketArray[4]==null?null:s.marketArray[4].runnersName[e==null?null:e.selectionId])+".png"),A)}}function T(d,n){if(d&1&&(t(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),i(4),r(),t(5,"div",6)(6,"span"),i(7),r()(),t(8,"div",7),i(9,"0"),r()(),t(10,"div",8),p(11,"img",9),r(),t(12,"div",10)(13,"div",5),i(14),r(),t(15,"div",6)(16,"span"),i(17),r()(),t(18,"div",7),i(19,"0"),r()(),t(20,"div",11),i(21," R:"),t(22,"span",12),i(23),l(24,"shortNumber"),l(25,"shortNumber"),r()()(),t(26,"div",13)(27,"div",14)(28,"div",15)(29,"div",16)(30,"div",5),i(31),r(),t(32,"div",17),i(33),r(),t(34,"div",18),i(35,"0"),r()(),t(36,"div",11),i(37," R:"),t(38,"span",12),i(39),l(40,"shortNumber"),l(41,"shortNumber"),r()()(),t(42,"div",15)(43,"div",16)(44,"div",5),i(45),r(),t(46,"div",17),i(47),r(),t(48,"div",18),i(49,"0"),r()(),t(50,"div",11),i(51," R:"),t(52,"span",12),i(53),l(54,"shortNumber"),l(55,"shortNumber"),r()()(),t(56,"div",15)(57,"div",16)(58,"div",5),i(59),r(),t(60,"div",17),p(61,"img",19)(62,"img",20),r(),t(63,"div",18),i(64,"0"),r()(),t(65,"div",11),i(66," R:"),t(67,"span",12),i(68),l(69,"shortNumber"),l(70,"shortNumber"),r()()(),t(71,"div",15)(72,"div",16)(73,"div",5),i(74),r(),t(75,"div",17),p(76,"img",21)(77,"img",22),r(),t(78,"div",18),i(79,"0"),r()(),t(80,"div",11),i(81," R:"),t(82,"span",12),i(83),l(84,"shortNumber"),l(85,"shortNumber"),r()()()()(),t(86,"div",23)(87,"div",24)(88,"div",25),h(89,F,17,11,"div",26),r()(),t(90,"div",27)(91,"div",28)(92,"div",5),i(93),r(),t(94,"div",29),h(95,L,6,4,"div",30),r(),t(96,"div",11),i(97," R:"),t(98,"span",12),i(99),l(100,"shortNumber"),l(101,"shortNumber"),r()()()(),t(102,"div",31),p(103,"app-resultbar"),r()()()),d&2){let e=k();a(2),c("ngClass",e.winnerMarketArray.runners[0].status=="SUSPEND"||e.game.status=="SUSPEND"?"suspended":e.selectedCell==e.winnerMarketArray.runners[0].selectionId?"selected":""),a(2),m(e.marketArray[0]==null||e.marketArray[0].runners[0]==null||e.marketArray[0].runners[0].price==null||e.marketArray[0].runners[0].price.back[0]==null?null:e.marketArray[0].runners[0].price.back[0].price),a(3),m(e.capitalize(e.marketArray[0]==null?null:e.marketArray[0].runnersName[e.marketArray[0]==null||e.marketArray[0].runners[0]==null?null:e.marketArray[0].runners[0].selectionId])),a(5),c("ngClass",e.winnerMarketArray.runners[0].status=="SUSPEND"||e.game.status=="SUSPEND"?"suspended":e.selectedCell==e.winnerMarketArray.runners[0].selectionId?"selected":""),a(2),m(e.marketArray[0]==null||e.marketArray[0].runners[1]==null||e.marketArray[0].runners[1].price==null||e.marketArray[0].runners[1].price.back[0]==null?null:e.marketArray[0].runners[1].price.back[0].price),a(3),m(e.capitalize(e.marketArray[0]==null?null:e.marketArray[0].runnersName[e.marketArray[0]==null||e.marketArray[0].runners[1]==null?null:e.marketArray[0].runners[1].selectionId])),a(6),u("",o(24,31,e.winnerMarketArray==null?null:e.winnerMarketArray.min),"-",o(25,33,e.winnerMarketArray==null?null:e.winnerMarketArray.max),""),a(6),c("ngClass",e.winnerMarketArray.runners[1].status=="SUSPEND"||e.game.status=="SUSPEND"?"suspended":e.selectedCell==e.winnerMarketArray.runners[1].selectionId?"selected":""),a(2),m(e.marketArray[1]==null||e.marketArray[1].runners[1]==null?null:e.marketArray[1].runners[1].price.back[0].price),a(2),v(" ",e.capitalize(e.marketArray[1]==null?null:e.marketArray[1].runnersName[e.marketArray[1]==null||e.marketArray[1].runners[1]==null?null:e.marketArray[1].runners[1].selectionId])," "),a(6),u("",o(40,35,e.winnerMarketArray==null?null:e.winnerMarketArray.min),"-",o(41,37,e.winnerMarketArray==null?null:e.winnerMarketArray.max),""),a(4),c("ngClass",e.winnerMarketArray.runners[0].status=="SUSPEND"||e.game.status=="SUSPEND"?"suspended":e.selectedCell==e.winnerMarketArray.runners[0].selectionId?"selected":""),a(2),m(e.marketArray[1]==null||e.marketArray[1].runners[0]==null?null:e.marketArray[1].runners[0].price.back[0].price),a(2),v(" ",e.capitalize(e.marketArray[1]==null?null:e.marketArray[1].runnersName[e.marketArray[1]==null||e.marketArray[1].runners[0]==null?null:e.marketArray[1].runners[0].selectionId])," "),a(6),u("",o(54,39,e.winnerMarketArray==null?null:e.winnerMarketArray.min),"-",o(55,41,e.winnerMarketArray==null?null:e.winnerMarketArray.max),""),a(4),c("ngClass",e.winnerMarketArray.runners[0].status=="SUSPEND"||e.game.status=="SUSPEND"?"suspended":e.selectedCell==e.winnerMarketArray.runners[0].selectionId?"selected":""),a(2),m(e.marketArray[2]==null||e.marketArray[2].runners[0]==null?null:e.marketArray[2].runners[0].price.back[0].price),a(9),u("",o(69,43,e.winnerMarketArray==null?null:e.winnerMarketArray.min),"-",o(70,45,e.winnerMarketArray==null?null:e.winnerMarketArray.max),""),a(4),c("ngClass",e.winnerMarketArray.runners[1].status=="SUSPEND"||e.game.status=="SUSPEND"?"suspended":e.selectedCell==e.winnerMarketArray.runners[1].selectionId?"selected":""),a(2),m(e.marketArray[2]==null||e.marketArray[2].runners[1]==null?null:e.marketArray[2].runners[1].price.back[0].price),a(9),u("",o(84,47,e.winnerMarketArray==null?null:e.winnerMarketArray.min),"-",o(85,49,e.winnerMarketArray==null?null:e.winnerMarketArray.max),""),a(6),c("ngForOf",e.marketArray[3]==null?null:e.marketArray[3].runners),a(4),m(e.marketArray[4]==null?null:e.marketArray[4].runners[0].price.back[0].price),a(2),c("ngForOf",e.marketArray[4]==null?null:e.marketArray[4].runners),a(4),u("R:",o(100,51,e.marketArray[4]==null?null:e.marketArray[4].min),"-",o(101,53,e.marketArray[4]==null?null:e.marketArray[4].max),"")}}var U=class d{constructor(n,e,s,y){this.route=n;this.toaster=e;this.backendService=s;this.encyDecy=y;this.eventid=this.route.snapshot.params.id,this._roomId="",this.message.id=this.eventid}subscription;subscription2;message={type:"1",id:""};_roomId;timer;theme;counter=0;betType;eventid;marketId;game={};split_arr;userCount;eventName;RoundWinner;gameroundId;resultcounter=0;playerACards;selectedCell;playerBCards;winningAmount;getRoundId="";changeValue;runnersName={};marketArray=[];winnerMarketArray;currentRunnerPrice;ngOnInit(){this.route.params.subscribe(n=>{let e=n.id}),this.encyDecy.generateEncryptionKey("",this.message),this.subscription=this.encyDecy.getMarketData().subscribe((n=[])=>{if(n){this.getRoundId=localStorage.getItem("roundID");let e=JSON.parse(n);Array.isArray(e.data)?e?.data[0]&&(e.type=="1"&&(this.marketArray=e?.data[0]?.marketArr,this.game=e?.data[0],this.game.marketArr=this.marketArray?this.marketArray:e?.data[0]?.marketArr,this.eventName=e?.data[0]?.eventName,this.userCount=e?.user_count,this.backendService.setUserCount(this.userCount),this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:""),this.handleEventResponse(e,0)):this.handleEventResponse(e,0),this.game&&(this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.marketArray=this.game.marketArr,this.gameroundId=this.game.roundId,this.game.eventName=this.eventName?this.eventName:this.game.eventName,this.backendService.updateRoundId(this.game),(this.getRoundId!=this.game.roundId||this.getRoundId=="")&&(localStorage.setItem("roundID",this.game.roundId),this.getResults(),this.selectedCell=""),this.playerACards=this.game?.cardsArr?.PLAYER_A,this.playerBCards=this.game?.cardsArr?.PLAYER_B,this.winnerMarketArray=this.game.marketArr?this.game.marketArr[0]:"",this.runnersName=this.winnerMarketArray.runnersName,this.marketArray=this.game.marketArr),e.type=="3"&&(this.userCount=e?.user_count,this.backendService.setUserCount(this.userCount))}}),this.getResults()}handleEventResponse(n,e){if(Array.isArray(n))n.forEach(s=>{this.marketObjManager(s)});else{let s=n;this.marketObjManager(s);return}}marketObjManager(n){let e=n;if(e&&e.type=="1")if("data"in e&&this.counter==0&&e.data.marketArr&&e.data._id)this.marketArray=e.data.marketArr,this.game=this.marketArray?this.marketArray:e.data,this.game=e.data,this.eventName=e.data.eventName,this.counter=1;else{"marketArr"in e?.data&&Array.isArray(e.data.marketArr)&&(this.game.marketArr=e?.data?.marketArr),"cardsArr"in e?.data&&(Array.isArray(e?.data?.cardsArr)||(this.game.cardsArr=e?.data?.cardsArr)),"roundId"in e&&(this.game.roundId=e?.roundId),"roundId"in e?.data&&(this.game.roundId=e?.data?.roundId),"status"in e?.data&&(this.game.status=e?.data?.status);var s=Object.keys(e?.data)[0];if(s.includes(".")){this.split_arr=s.split("."),Object.entries(e.data).forEach(([,z])=>this.changeValue=z);let y=parseInt(this.split_arr[1]),x=this.split_arr[3],f=this.split_arr[6];this.split_arr[7]=="size"&&(this.marketArray[y].runners[x].price.back[f].size=this.changeValue),this.split_arr[7]=="price"&&(this.marketArray[y].runners[x].price.back[f].price=this.changeValue),this.split_arr[4]==="status"&&(this.marketArray[y].runners[x].status=this.changeValue)}}e&&e.type=="3"&&(this.userCount=e?.user_count,this.backendService.setUserCount(this.userCount))}getEventOdds(){this.backendService.getCasinoEventOdds(this.eventid).subscribe(n=>{n.meta.status_code==200?(this.game=n?.data,this.marketArray=this.game?.marketArr,this.playerACards=this.game?.cardsArr?.PLAYER_A,this.playerBCards=this.game?.cardsArr?.PLAYER_B,this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.runnersName=this.winnerMarketArray.runnersName):this.toaster.error(n.meta.message,"",{positionClass:"toast-top-right"})})}trackByFn(n,e){return n}getResults(){this.backendService.getAllRecordsByPost(O.getCasinoResultURL,{eventId:this.eventid}).pipe(C()).subscribe(n=>{this.backendService.updateResultstream(n.data)},n=>{let e=n})}splitMarketName(n){let e=n.indexOf("(");return e!==-1?n.substring(0,e).trim():n}ngOnDestroy(){let n={type:"2",id:""};this.encyDecy.sendMessageToSocket(n),this.subscription&&this.subscription.unsubscribe(),this.subscription2&&this.subscription2.unsubscribe()}capitalize(n){return n?n.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()):""}static \u0275fac=function(e){return new(e||d)(g(P),g(I),g(E),g(B))};static \u0275cmp=M({type:d,selectors:[["app-lucky-7-a"]],decls:3,vars:1,consts:[[1,"videoPlayer"],["class","casino-details",4,"ngIf"],[1,"casino-details"],[1,"casino-box","low-high-box"],[1,"low-odds",3,"ngClass"],[1,"casino-odds"],[1,"text-center","casino-buttons"],[1,"casino-book"],[1,"text-center","lucky7-cards"],["src","/assets/lucky7/7.png","alt",""],[1,"high-odds",3,"ngClass"],[1,"casino-min-max","text-end"],[1,"small-txt"],[1,"casino-box","sidebets-box"],[1,"lucky7-extra-bets"],[1,"lucky7-extra-bets-item-container"],[1,"lucky7-extra-bets-item",3,"ngClass"],[1,"casino-buttons"],[1,"casino-book","book-black"],["src","/assets/lucky7/spade.png","alt","",1,"sm-card"],["src","/assets/lucky7/club.png","alt","",1,"sm-card"],["src","/assets/lucky7/heart.png","alt","",1,"sm-card"],["src","/assets/lucky7/diamond.png","alt","",1,"sm-card"],[1,"casino-box","cards-top"],[1,"container-fluid"],[1,"row","row5","col-gap"],["class","col-6 col-md-3 width",4,"ngFor","ngForOf"],[1,"casino-box","cards-box"],[1,"w-100","high-cards"],[1,"casino-cards","text-center","mt-1"],["class","casino-card-item ",4,"ngFor","ngForOf"],[1,"showInMobile"],[1,"col-6","col-md-3","width"],[1,"low-cards"],[1,"casino-box","cards-top-box",2,"position","relative",3,"ngClass"],[1,"casino-card-item"],[1,"luckyImg",3,"src"],[1,"w-100","casino-book"],[1,"casino-min-max","text-center"],[1,"card-img","d-flex","justify-content-center",2,"position","relative"],[1,"position-relative",2,"max-width","fit-content",3,"ngClass"],["alt","",2,"position","relative",3,"src"]],template:function(e,s){e&1&&(t(0,"div",0),p(1,"app-video-player"),r(),h(2,T,104,55,"div",1)),e&2&&(a(2),c("ngIf",(s.marketArray==null?null:s.marketArray.length)>0))},dependencies:[S,_,w,N,D,R],styles:[".casino-details[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:5px 5px 40px;box-shadow:none;border-radius:0;background-color:#f8f8fb;line-height:22px;letter-spacing:0;color:#000;font-family:Noto Sans;font-size:14px}.casino-box[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-content:flex-start}.low-high-box[_ngcontent-%COMP%]{width:100%;margin-right:0}.low-odds[_ngcontent-%COMP%]{border-radius:0;width:40%;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer;position:relative;padding:6px;height:76px;color:#fff;background-color:#434343;border:5px solid #fc4242}.lucky7-cards[_ngcontent-%COMP%]{width:20%;display:flex;justify-content:center;align-items:center;background-color:#43434333;padding:6px}.high-odds[_ngcontent-%COMP%]{border-radius:0;width:40%;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer;position:relative;padding:6px;height:76px;color:#fff;background-color:#434343;border:5px solid #03b37f}.casino-min-max[_ngcontent-%COMP%]{margin-top:25px;position:relative;height:20px;width:100%;font-size:9px;color:#000;font-weight:400}.casino-odds[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-align:center;width:100%;line-height:18px;position:relative}.casino-book[_ngcontent-%COMP%]{position:absolute;bottom:-25px;font-size:9px;line-height:18px}.lucky7-cards[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:60px;max-width:100%}.sidebets-box[_ngcontent-%COMP%]{width:100%;margin-right:0}.lucky7-extra-bets[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%}.lucky7-extra-bets-item-container[_ngcontent-%COMP%]{width:23.5%;margin-right:2%;margin-bottom:5px}.lucky7-extra-bets-item-container[_ngcontent-%COMP%]:last-child{margin-right:0}.lucky7-extra-bets-item[_ngcontent-%COMP%]{background-color:#434343;padding:6px;border-radius:8px;height:76px;display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:pointer;color:#fff;position:relative}.casino-book.book-black[_ngcontent-%COMP%]{font-size:10px}.cards-top[_ngcontent-%COMP%]{width:100%}.container-fluid[_ngcontent-%COMP%]{padding-left:5px!important;padding-right:5px!important}.row.row5[_ngcontent-%COMP%]{margin-left:-5px;margin-right:-5px}.casino-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:flex-start;width:100%}.cards-top-box[_ngcontent-%COMP%]{padding:5px;border:5px solid #43434390;cursor:pointer;display:block!important}.casino-card-item[_ngcontent-%COMP%]{display:inline-block;width:auto;min-width:32px!important;margin-right:0;margin-left:5px;display:flex;align-items:center;justify-content:center;height:100%;flex-direction:column}.casino-card-item[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{cursor:pointer;display:inline-block}.card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px}.low-cards[_ngcontent-%COMP%]   .casino-odds[_ngcontent-%COMP%], .high-cards[_ngcontent-%COMP%]   .casino-odds[_ngcontent-%COMP%]{color:#000}.casino-cards[_ngcontent-%COMP%]   .casino-book[_ngcontent-%COMP%]{position:static;bottom:0}.low-cards[_ngcontent-%COMP%]   .casino-min-max[_ngcontent-%COMP%]{margin-top:0}.cards-box[_ngcontent-%COMP%]{width:100%;margin-right:0}.high-cards[_ngcontent-%COMP%]   .casino-cards[_ngcontent-%COMP%]   .casino-card-item[_ngcontent-%COMP%]{margin-bottom:0;min-width:80px!important;margin-right:5px;margin-left:5px}.cards-top-box[_ngcontent-%COMP%]   .casino-card-item[_ngcontent-%COMP%]:first-child{margin-left:0}.casino-buttons[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:25px;margin:0 2px}.cards-top-box[_ngcontent-%COMP%]{width:147.29px;height:90px}.col-gap[_ngcontent-%COMP%]{justify-content:space-between}@media screen and (min-width: 768px){.cards-top-box[_ngcontent-%COMP%]{width:100%;height:86.53px}.high-cards[_ngcontent-%COMP%]   .casino-cards[_ngcontent-%COMP%]   .casino-card-item[_ngcontent-%COMP%]{margin-bottom:10px}.card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px}.low-high-box[_ngcontent-%COMP%]{width:49%;margin-right:2%}.sidebets-box[_ngcontent-%COMP%]{width:49%}.casino-book[_ngcontent-%COMP%]{font-size:18px!important;line-height:18px!important}.row.row5[_ngcontent-%COMP%] > [class*=col-][_ngcontent-%COMP%]{padding-left:25px!important;padding-right:25px!important;max-width:25%!important}}.luckyImg[_ngcontent-%COMP%]{width:45px!important}@media screen and (max-width: 290px){.casino-min-max[_ngcontent-%COMP%]{font-size:10px}}@media screen and (max-width: 320px){.sm-card[_ngcontent-%COMP%]{height:20px!important}}"]})};export{U as Lucky7AComponent};
