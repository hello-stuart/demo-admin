import{a as b,b as R}from"./chunk-FGLKNMTP.js";import{f as N,h as $}from"./chunk-F4ECYANF.js";import{$b as P,Db as l,Nb as a,Ob as r,Sb as E,Sc as D,Tc as O,Uc as T,Vb as I,Wb as p,Yc as L,_c as F,ac as S,bb as o,bc as M,cb as v,dc as s,ec as c,ed as k,fc as w,hd as B,mb as y,nc as g,oa as x,pa as C,sb as m,tc as u,vc as f}from"./chunk-CKWEI2SK.js";var h=(e,i)=>({"cl-green":e,"cl-red":i}),j=(e,i)=>({"cl-red":e,"cl-green":i});function q(e,i){e&1&&(a(0,"th"),s(1,"Downline Profit/Loss"),r())}function z(e,i){e&1&&(a(0,"th"),s(1,"Total P&L"),r())}function U(e,i){if(e&1&&(a(0,"td")(1,"span",15)(2,"b"),s(3),u(4,"number"),r()()()),e&2){let t=p().$implicit;o(),l("ngClass",g(5,h,t.pl>0,0>=t.pl)),o(2),c(f(4,2,t.pl,"1.0-2"))}}function Q(e,i){if(e&1&&(a(0,"td")(1,"span",15)(2,"b"),s(3),u(4,"number"),r()()()),e&2){let t=p().$implicit,n=p();o(),l("ngClass",g(5,j,t.pl>0,0>=t.pl)),o(2),c(f(4,2,n.convert(t.pl)-t.commission,"1.0-2"))}}function V(e,i){if(e&1&&(a(0,"td")(1,"span",15)(2,"b"),s(3),u(4,"number"),r()()()),e&2){let t=p().$implicit,n=p();o(),l("ngClass",g(5,h,t.pl>0,0>=t.pl)),o(2),c(f(4,2,n.convert(t.pl),"1.0-2"))}}function H(e,i){if(e&1&&(a(0,"td")(1,"span",15)(2,"b"),s(3),u(4,"number"),r()()()),e&2){let t=p().$implicit;o(),l("ngClass",g(5,h,t.pl>0,0>=t.pl)),o(2),c(f(4,2,t.pl,"1.0-2"))}}function G(e,i){if(e&1){let t=E();a(0,"tr")(1,"td",13)(2,"a"),s(3),r()(),a(4,"td",13)(5,"a",14),I("click",function(){let d=x(t).$implicit,_=p();return C(_.goto(d.eventId))}),s(6),r()(),m(7,U,5,8,"td",10)(8,Q,5,8,"td",10)(9,V,5,8,"td",10),a(10,"td"),s(11),u(12,"number"),r(),m(13,H,5,8,"td",10),r()}if(e&2){let t=i.$implicit,n=p();o(3),c(t.sportName),o(3),c(t.eventName),o(),l("ngIf",!n.isMaster),o(),l("ngIf",n.isMaster),o(),l("ngIf",n.isMaster),o(2),w(" ",f(12,7,t.commission,"1.0-2"),""),o(2),l("ngIf",!n.isMaster)}}function W(e,i){e&1&&(a(0,"tr",16)(1,"td",17),s(2,"No matching records found"),r()())}var A=class e{constructor(i,t,n){this.http=i;this.route=t;this.router=n;this.route.params.subscribe(d=>{this.sportId=d.sportId,this.isMaster=d.isMaster,this.dataSource=d.dataSource})}datatableElement;dtOptions={};startDate;endDate;sportId;rows=[];userid;reqForBets={};isMaster;dataSource;ngOnInit(){this.startDate=localStorage.getItem("startDate"),this.endDate=localStorage.getItem("endDate"),this.isMaster||(this.userid=localStorage.getItem("fromUid")),this.getAccountStatement()}getAccountStatement(){this.reqForBets={startDate:this.startDate,endDate:this.endDate,userId:this.userid,sportId:this.sportId,dataSource:this.dataSource};let i=this;this.dtOptions={pagingType:"full_numbers",pageLength:10,serverSide:!0,searching:!0,autoWidth:!1,order:[0,"desc"],processing:!1,ajax:(t,n)=>{i.http.post(B.agentEventsProfitloss,Object.assign(t,this.reqForBets)).subscribe(d=>{let _=d.data?.original?.data;this.rows=d.data?.original?.data,n({recordsTotal:d.data?.original?.recordsTotal,recordsFiltered:d.data?.original?.recordsFiltered,data:[]})})},columns:[{data:"sportName",orderable:!0},{data:"eventName",orderable:!0},{data:"pl",orderable:!0},{data:"downlinePl",orderable:!1},{data:"commission",orderable:!0}]}}rerender(){this.reqForBets={startDate:this.startDate,endDate:this.endDate,sportId:this.sportId,dataSource:this.dataSource},this.datatableElement.dtInstance.then(i=>{i.draw()})}convert(i){return Math.abs(i)}goto(i){let t="";this.isMaster?t=this.router.serializeUrl(this.router.createUrlTree([`/plMarket/${this.sportId}/${i}/${this.dataSource}/master`])):t=this.router.serializeUrl(this.router.createUrlTree([`/my-account/plMarket/${this.sportId}/${i}/${this.dataSource}`])),window.open(t,"_blank")}static \u0275fac=function(t){return new(t||e)(v(k),v(N),v($))};static \u0275cmp=y({type:e,selectors:[["app-profit-loss-events"]],viewQuery:function(t,n){if(t&1&&P(b,5),t&2){let d;S(d=M())&&(n.datatableElement=d.first)}},decls:23,vars:5,consts:[[1,"card","card-accent-primary"],[1,"game-heading"],[1,"card-header-title"],[1,"card-body","account-detail-body"],[1,"row"],[1,"col-12",2,"overflow","auto"],[1,"table-responsive","table","table-striped"],["datatable","","role","table","aria-busy","false","aria-colcount","6",1,"table","table-bordered","table-striped",3,"dtOptions"],["role","rowgroup"],["role","row"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","odd",4,"ngIf"],[1,"border-right-black"],[1,"plLink",3,"click"],[3,"ngClass"],[1,"odd"],["colspan","10",1,"no-data-available"]],template:function(t,n){t&1&&(a(0,"div",0)(1,"div",1)(2,"span",2),s(3,"Profit & Loss Events"),r()(),a(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"table",7)(9,"thead",8)(10,"tr",9)(11,"th"),s(12,"Sport Name"),r(),a(13,"th"),s(14,"Event Name"),r(),a(15,"th"),s(16,"Profit & Loss"),r(),m(17,q,2,0,"th",10),a(18,"th"),s(19,"Commission"),r(),m(20,z,2,0,"th",10),r()(),m(21,G,14,10,"tr",11)(22,W,3,0,"tr",12),r()()()()()()),t&2&&(o(8),l("dtOptions",n.dtOptions),o(9),l("ngIf",n.isMaster),o(3),l("ngIf",!n.isMaster),o(),l("ngForOf",n.rows),o(),l("ngIf",(n.rows==null?null:n.rows.length)==0))},dependencies:[F,D,O,T,L,R,b],styles:[".card-report[_ngcontent-%COMP%]{padding:10px 10px 0;background-color:#e0e6e6;border-bottom:1px solid var(--my-account-total-box-border-btm)}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-control[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:.875rem;line-height:1.5;color:#5c6873;background-color:#fff;background-clip:padding-box;border:1px solid #e4e7ea;border-radius:.25rem;height:38px!important;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}select.form-control[_ngcontent-%COMP%]:not([size]):not([multiple]){height:calc(2.0625rem + 2px)}.game-heading[_ngcontent-%COMP%]{font-weight:700;font-size:15px;background:var(--reports-title-bg);padding:5px 10px;color:var(--reports-title-text)}table.dataTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.dataTable[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px 10px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center!important}  table tbody tr td.dt-empty{display:none!important}"]})};export{A as a};
