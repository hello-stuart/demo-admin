import{a as O}from"./chunk-YAPTLMR7.js";import{a as N}from"./chunk-HDWS7ACU.js";import{a as T}from"./chunk-AZX2OHK4.js";import{a as R}from"./chunk-PW5J7ZGW.js";import{c as D,d as B}from"./chunk-3BRWB67J.js";import"./chunk-5UJXZMZS.js";import"./chunk-ACVM4ET5.js";import"./chunk-QZIUMNBJ.js";import{m as P,q as E}from"./chunk-TKUFSEQW.js";import{f as I}from"./chunk-F4ECYANF.js";import{Db as l,Nb as a,O as x,Ob as s,Pb as h,Sc as C,Tc as S,Uc as w,Wb as d,_a as f,bb as r,cb as y,dc as o,ec as c,gc as g,hd as M,mb as b,mc as _,sb as u,tc as m,uc as p}from"./chunk-CKWEI2SK.js";import"./chunk-ZR4K4ZIC.js";var F=i=>[i];function z(i,n){if(i&1&&(a(0,"div",10)(1,"div",11)(2,"b"),o(3),s(),a(4,"span",12),o(5,"0"),s()(),a(6,"div",13)(7,"span",14),o(8),s()(),a(9,"div",15)(10,"span",14),o(11),s()()()),i&2){let e=n.$implicit,t=d(2);r(3),c(t.winnerMarketArray.runnersName[e.selectionId]),r(3),l("ngClass",t.winnerMarketArray.runners[0].status=="SUSPEND"||t.game.status=="SUSPEND"?"suspended":t.selectedCell==t.winnerMarketArray.runners[0].selectionId?"selected":""),r(2),c(e.price.back[0].price),r(),l("ngClass",t.winnerMarketArray.runners[0].status=="SUSPEND"||t.game.status=="SUSPEND"?"suspended":t.selectedCell==t.winnerMarketArray.runners[0].selectionId?"selected":""),r(2),c(e.price.lay[0].price)}}function V(i,n){if(i&1&&(a(0,"div",7),u(1,z,12,5,"div",8),a(2,"div",9)(3,"div")(4,"span"),o(5),m(6,"shortNumber"),m(7,"shortNumber"),s()()()()),i&2){let e=d();r(),l("ngForOf",e.winnerMarketArray==null?null:e.winnerMarketArray.runners),r(4),g(" ",p(6,3,e.winnerMarketArray==null?null:e.winnerMarketArray.min),"-",p(7,5,e.winnerMarketArray==null?null:e.winnerMarketArray.max)," ")}}function W(i,n){if(i&1&&(a(0,"div",19)(1,"div",20)(2,"div",21)(3,"b"),o(4),s()()(),a(5,"div",20)(6,"div",10)(7,"div",22)(8,"span",14),o(9),s()()(),a(10,"div",10)(11,"div",23)(12,"span",14),o(13),s()()(),a(14,"div",24),o(15,"0"),s()()()),i&2){let e=n.$implicit,t=d(2);r(4),c(t.capitalize(t.winnerMarketArray.runnersName[e.selectionId])),r(3),l("ngClass",t.winnerMarketArray.runners[0].status=="SUSPEND"||t.game.status=="SUSPEND"?"suspended":t.selectedCell==t.winnerMarketArray.runners[0].selectionId?"selected":""),r(2),c(e.price.back[0].price),r(2),l("ngClass",t.winnerMarketArray.runners[0].status=="SUSPEND"||t.game.status=="SUSPEND"?"suspended":t.selectedCell==t.winnerMarketArray.runners[0].selectionId?"selected":""),r(2),c(e.price.lay[0].price)}}function $(i,n){if(i&1&&(a(0,"div",16),u(1,W,16,5,"div",17),a(2,"div",9)(3,"div")(4,"span",18),o(5),m(6,"shortNumber"),m(7,"shortNumber"),s()()()()),i&2){let e=d();r(),l("ngForOf",e.winnerMarketArray==null?null:e.winnerMarketArray.runners),r(4),g(" ",p(6,3,e.winnerMarketArray==null?null:e.winnerMarketArray.min),"-",p(7,5,e.winnerMarketArray==null?null:e.winnerMarketArray.max)," ")}}function L(i,n){if(i&1&&(a(0,"div",10)(1,"div",10),o(2),s(),a(3,"div",13)(4,"span",14),o(5),s()(),a(6,"div",25),o(7,"0"),s()()),i&2){let e=n.$implicit,t=d(2);r(2),c(e.price.back[0].price),r(),l("ngClass",t.winnerMarketArray.runners[0].status=="SUSPEND"||t.game.status=="SUSPEND"?"suspended":t.selectedCell==t.winnerMarketArray.runners[0].selectionId?"selected":""),r(2),c(t.marketArray[1]==null?null:t.marketArray[1].runnersName[e.selectionId])}}function K(i,n){if(i&1&&(a(0,"div",19)(1,"div",20),u(2,L,8,3,"div",8),s(),a(3,"div",9)(4,"div")(5,"span"),o(6),m(7,"shortNumber"),m(8,"shortNumber"),s()()()()),i&2){let e=d();r(2),l("ngForOf",e.marketArray[1]==null?null:e.marketArray[1].runners),r(4),g(" ",p(7,3,e.winnerMarketArray==null?null:e.winnerMarketArray.min),"-",p(8,5,e.winnerMarketArray==null?null:e.winnerMarketArray.max)," ")}}function Y(i,n){i&1&&(a(0,"div"),h(1,"img",28)(2,"img",29),s())}function G(i,n){i&1&&(a(0,"div"),h(1,"img",30)(2,"img",31),s())}function J(i,n){if(i&1&&(a(0,"div",10)(1,"div",10),o(2),s(),a(3,"div",26)(4,"span"),u(5,Y,3,0,"div",27)(6,G,3,0,"div",27),s()(),a(7,"div",25),o(8,"0"),s()()),i&2){let e=n.$implicit,t=d(2);r(2),c(e.price.back[0].price),r(),l("ngClass",t.winnerMarketArray.runners[0].status=="SUSPEND"||t.game.status=="SUSPEND"?"suspended":t.selectedCell==t.winnerMarketArray.runners[0].selectionId?"selected":""),r(2),l("ngIf",(t.marketArray[2]==null?null:t.marketArray[2].runnersName[e.selectionId])=="BLACK"),r(),l("ngIf",(t.marketArray[2]==null?null:t.marketArray[2].runnersName[e.selectionId])=="RED")}}function q(i,n){if(i&1&&(a(0,"div",19)(1,"div",20),u(2,J,9,4,"div",8),s(),a(3,"div",9)(4,"div")(5,"span"),o(6),m(7,"shortNumber"),m(8,"shortNumber"),s()()()()),i&2){let e=d();r(2),l("ngForOf",e.marketArray[2]==null?null:e.marketArray[2].runners),r(4),g(" ",p(7,3,e.winnerMarketArray==null?null:e.winnerMarketArray.min),"-",p(8,5,e.winnerMarketArray==null?null:e.winnerMarketArray.max)," ")}}function H(i,n){if(i&1&&(a(0,"div",10)(1,"div",10),o(2),s(),a(3,"div",13)(4,"span",14),o(5),s()(),a(6,"div",25),o(7,"0"),s()()),i&2){let e=n.$implicit,t=d(2);r(2),c(e.price.back[0].price),r(),l("ngClass",t.winnerMarketArray.runners[0].status=="SUSPEND"||t.game.status=="SUSPEND"?"suspended":t.selectedCell==t.winnerMarketArray.runners[0].selectionId?"selected":""),r(2),c(t.capitalize(t.marketArray[3]==null?null:t.marketArray[3].runnersName[e.selectionId]))}}function Q(i,n){if(i&1&&(a(0,"div",19)(1,"div",20),u(2,H,8,3,"div",8),s(),a(3,"div",9)(4,"div")(5,"span"),o(6),m(7,"shortNumber"),m(8,"shortNumber"),s()()()()),i&2){let e=d();r(2),l("ngForOf",e.marketArray[3]==null?null:e.marketArray[3].runners),r(4),g(" ",p(7,3,e.winnerMarketArray==null?null:e.winnerMarketArray.min),"-",p(8,5,e.winnerMarketArray==null?null:e.winnerMarketArray.max)," ")}}function X(i,n){if(i&1&&(a(0,"div",37)(1,"div",38)(2,"div",39),h(3,"img",40),s()(),a(4,"div",41),o(5,"0"),s()()),i&2){let e=n.$implicit,t=d(2);r(2),l("ngClass",t.winnerMarketArray.runners[0].status=="SUSPEND"||t.game.status=="SUSPEND"?"suspended":t.selectedCell==t.winnerMarketArray.runners[0].selectionId?"selected":""),r(),l("src",_(2,F,"/assets/lucky7/"+(t.marketArray[4]==null?null:t.marketArray[4].runnersName[e==null?null:e.selectionId])+".png"),f)}}function Z(i,n){if(i&1&&(a(0,"div",32)(1,"div",33)(2,"div",10)(3,"div",34)(4,"b"),o(5),s()()()(),a(6,"div",35),u(7,X,6,4,"div",36),s(),a(8,"div",9)(9,"div")(10,"span"),o(11),m(12,"shortNumber"),m(13,"shortNumber"),s()()()()),i&2){let e=d();r(5),c(e.marketArray[4]==null?null:e.marketArray[4].runners[0].price.back[0].price),r(2),l("ngForOf",e.marketArray[4]==null?null:e.marketArray[4].runners),r(4),g(" ",p(12,4,e.winnerMarketArray==null?null:e.winnerMarketArray.min),"-",p(13,6,e.winnerMarketArray==null?null:e.winnerMarketArray.max)," ")}}var U=class i{constructor(n,e,t,v,A,k){this.route=n;this.toaster=e;this.casinoService=t;this.mainService=v;this.backendService=A;this.encyDecy=k;this.eventid=this.route.snapshot.params.id,this._roomId="",this.message.id=this.eventid}subscription;subscription2;message={type:"1",id:""};_roomId;timer;loader;betType;eventid;marketId;game={};userCount;split_arr;RoundWinner;betplaceObj;gameroundId;playerBCards;selectedCell;playerACards;casinoPl=[];marketArray=[];isBetsSlipOpened="";totalMatchedBets;winnerMarketArray;runnersName={};isValueBetsSlip=0;changeValue;betSelectedPlayer;currentRunnerPrice;betSlip="game";eventName;counter=0;theme;resultcounter=0;getRoundId="";ngOnInit(){this.encyDecy.generateEncryptionKey("",this.message),this.subscription=this.encyDecy.getMarketData().subscribe((n=[])=>{if(n){this.getRoundId=localStorage.getItem("roundID");let e=JSON.parse(n);Array.isArray(e.data)?(e.type=="1"&&(this.marketArray=e.data[0].marketArr,this.game=e.data[0],this.game.marketArr=this.marketArray?this.marketArray:e.data[0].marketArr,this.eventName=e.data[0].eventName,this.userCount=e?.user_count,this.backendService.setUserCount(this.userCount),this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:""),this.handleEventResponse(e,0)):this.handleEventResponse(e,0),this.game&&(this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.marketArray=this.game.marketArr,this.gameroundId=this.game.roundId,this.game.eventName=this.eventName?this.eventName:this.game.eventName,this.backendService.updateRoundId(this.game),this.game.status=="SUSPEND"&&(this.isBetsSlipOpened="",this.isValueBetsSlip=0,this.selectedCell=""),(this.getRoundId!=this.game.roundId||this.getRoundId=="")&&(localStorage.setItem("roundID",this.game.roundId),this.casinoPl=[],this.getResults(),this.selectedCell="",this.betSelectedPlayer=""),this.winnerMarketArray=this.game.marketArr?this.game.marketArr[0]:"",this.runnersName=this.winnerMarketArray.runnersName)}}),this.getResults()}handleEventResponse(n,e){if(Array.isArray(n))n.forEach(t=>{this.marketObjManager(t)});else{let t=n;this.marketObjManager(t);return}}marketObjManager(n){if(n&&n.type=="1")if("data"in n&&this.counter==0&&n.data.marketArr&&n.data._id)this.marketArray=n.data.marketArr,this.game=this.marketArray?this.marketArray:n.data,this.game=n.data,this.eventName=n.data.eventName,this.counter=1;else{if("marketArr"in n?.data&&Array.isArray(n.data.marketArr)&&(this.game.marketArr=n.data.marketArr),"cardsArr"in n?.data&&(Array.isArray(n.data.cardsArr)||(this.game.cardsArr=n.data.cardsArr)),"roundId"in n&&(this.game.roundId=n?.roundId),"roundId"in n.data&&(this.game.roundId=n?.data?.roundId),"status"in n?.data&&(this.game.status=n.data.status),"resultsArr"in n?.data){this.casinoPl&&this.casinoPl[this.winnerMarketArray?.marketId]&&(this.casinoPl[this.winnerMarketArray?.marketId][this.winnerMarketArray.runners[0].selectionId]>0&&(this.betSelectedPlayer=this.winnerMarketArray.runners[0].selectionId),this.casinoPl[this.winnerMarketArray?.marketId][this.winnerMarketArray.runners[1].selectionId]>0&&(this.betSelectedPlayer=this.winnerMarketArray.runners[1].selectionId));for(let t in n?.data?.resultsArr[0]?.runners)n.data?.resultsArr[0]?.runners[t]=="WINNER"&&(this.RoundWinner=n?.data?.resultsArr[0]?.runnersName[t],this.backendService.setResultData(this.RoundWinner)),t==this.betSelectedPlayer&&n.data?.resultsArr[0]?.runners[t]=="WINNER"&&setTimeout(()=>{this.backendService.setResultSparkData(!0)},1e3);setTimeout(()=>{this.RoundWinner=null,this.backendService.setResultData(this.RoundWinner)},5e3)}var e=Object.keys(n.data)[0];if(e.includes(".")){this.split_arr=e.split("."),Object.entries(n.data).forEach(([,k])=>this.changeValue=k);let t=parseInt(this.split_arr[1]),v=this.split_arr[3],A=this.split_arr[6];this.split_arr[7]=="size"&&(this.marketArray[t].runners[v].price.back[A].size=this.changeValue),this.split_arr[7]=="price"&&(this.marketArray[t].runners[v].price.back[A].price=this.changeValue)}}n&&n.type=="3"&&(this.userCount=n?.user_count,this.backendService.setUserCount(this.userCount))}ngOnDestroy(){let n={type:"2",id:""};this.encyDecy.sendMessageToSocket(n),this.subscription&&this.subscription.unsubscribe(),this.subscription2&&this.subscription2.unsubscribe()}getEventOdds(){this.backendService.getCasinoEventOdds(this.eventid).subscribe(n=>{n.meta.status_code==200?(this.game=n?.data,this.marketArray=this.game?.marketArr,this.playerACards=this.game?.cardsArr?.PLAYER_A,this.playerBCards=this.game?.cardsArr?.PLAYER_B,this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.runnersName=this.winnerMarketArray.runnersName):this.toaster.error(n.meta.message,"",{positionClass:"toast-top-center"})})}trackByFn(n,e){return n}ngAfterViewInit(){}getResults(){this.backendService.getAllRecordsByPost(M.getCasinoResultURL,{eventId:this.eventid}).pipe(x()).subscribe(n=>{this.backendService.updateResultstream(n.data)},n=>{let e=n})}capitalize(n){return n?n.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()):""}static \u0275fac=function(e){return new(e||i)(y(I),y(P),y(T),y(N),y(E),y(B))};static \u0275cmp=b({type:i,selectors:[["app-amar-akbar-anthony"]],decls:12,vars:6,consts:[[1,"casino-detail"],["class","row is-mobile",4,"ngIf"],["class","row even-odd-container is-desktop",4,"ngIf"],[1,"row","even-odd-container"],["class","col-lg-4 col-12 px",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"showInMobile"],[1,"row","is-mobile"],["class","casino-bl-box",4,"ngFor","ngForOf"],[1,"casino-min-max"],[1,"casino-bl-box"],[1,"casino-bl-box-item","casino-odds-name"],[1,"book-black"],[1,"casino-bl-box-item","back",2,"position","relative",3,"ngClass"],[1,"casino-box-odd"],[1,"casino-bl-box-item","lay",2,"position","relative",3,"ngClass"],[1,"row","even-odd-container","is-desktop"],["class","col-lg-4 col-12 px",4,"ngFor","ngForOf"],[1,"minmax-padding"],[1,"col-lg-4","col-12","px"],[1,"casino-box-row"],[1,"casino-bl-box","w-100","title"],[1,"casino-bl-box-item","back","h-40",2,"position","relative",3,"ngClass"],[1,"casino-bl-box-item","lay","h-40",2,"position","relative",3,"ngClass"],[1,"casino-book","w-100"],[1,"casino-book"],[1,"casino-bl-box-item","back","casino-card-img",2,"position","relative",3,"ngClass"],[4,"ngIf"],["src","../../../assets/lucky7/spade.png","alt",""],["src","../../../assets/lucky7/club.png","alt",""],["src","../../../assets/lucky7/heart.png","alt",""],["src","../../../assets/lucky7/diamond.png","alt",""],[1,"mt-2"],[1,"text-center","w-100"],[1,"casino-bl-box-item"],[1,"casino-cards","text-center","mt-1"],["class","casino-card-item",4,"ngFor","ngForOf"],[1,"casino-card-item"],[1,"card-img","d-flex","justify-content-center",2,"position","relative"],[1,"position-relative",2,"max-width","fit-content",3,"ngClass"],["alt","",2,"position","relative",3,"src"],[1,"casino-book","text-center","book-black"]],template:function(e,t){e&1&&(a(0,"div"),h(1,"app-video-player"),s(),a(2,"div",0),u(3,V,8,7,"div",1)(4,$,8,7,"div",2),a(5,"div",3),u(6,K,9,7,"div",4)(7,q,9,7,"div",4)(8,Q,9,7,"div",4),s(),u(9,Z,14,8,"div",5),a(10,"div",6),h(11,"app-resultbar"),s()()),e&2&&(r(3),l("ngIf",t.winnerMarketArray),r(),l("ngIf",t.winnerMarketArray),r(2),l("ngIf",t.marketArray==null||t.marketArray[1]==null||t.marketArray[1].runners==null?null:t.marketArray[1].runners.length),r(),l("ngIf",t.marketArray==null||t.marketArray[2]==null||t.marketArray[2].runners==null?null:t.marketArray[2].runners.length),r(),l("ngIf",t.marketArray==null||t.marketArray[3]==null||t.marketArray[3].runners==null?null:t.marketArray[3].runners.length),r(),l("ngIf",t.marketArray==null||t.marketArray[4]==null||t.marketArray[4].runners==null?null:t.marketArray[4].runners.length))},dependencies:[R,C,S,w,O,D],styles:[".is-mobile[_ngcontent-%COMP%]{display:flex}.px[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}.row[_ngcontent-%COMP%]{margin-left:-5px!important;margin-right:-5px!important}.casino-detail[_ngcontent-%COMP%]{padding:5px;box-shadow:none;border-radius:0;background-color:#f8f8fb;line-height:22px;letter-spacing:0;color:#000;font-family:Noto Sans;font-size:14px}.casino-bl-box[_ngcontent-%COMP%]{margin-bottom:4px;width:100%;display:flex;justify-content:center;align-items:center}.minmax-padding[_ngcontent-%COMP%]{display:block;padding-left:5px!important;padding-right:5px!important}.casino-min-max[_ngcontent-%COMP%]{font-size:9px;display:flex;align-items:center;justify-content:flex-end;width:100%;color:#000}.casino-odds-name[_ngcontent-%COMP%]{color:#000;text-transform:uppercase;font-weight:700;flex-direction:row;justify-content:space-between;background-color:#ddd;padding:0 4px;border-radius:0;margin-right:0;height:36px!important;position:relative}.casino-bl-box-item.casino-odds-name[_ngcontent-%COMP%]{font-size:10px;text-align:left;width:calc(50% - 2px);margin-right:0;flex-direction:row;justify-content:space-between}.casino-bl-box-item[_ngcontent-%COMP%]{margin-right:4px;border-radius:4px;display:flex;justify-content:center;align-items:center;flex-direction:column;color:#000;text-align:center;cursor:pointer;height:40px;width:calc(25% - 2px)}.back[_ngcontent-%COMP%]{background-color:#72bbef17!important;border:2px solid #72bbef}.lay[_ngcontent-%COMP%]{background-color:#f994ba17!important;border:2px solid #f994ba;margin-right:0}.casino-box-odd[_ngcontent-%COMP%]{font-size:13px;font-weight:700;height:16px;line-height:16px;margin-bottom:2px;width:100%;color:#333}.casino-box-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:2px 0;align-items:center;position:relative}.even-odd-container[_ngcontent-%COMP%]   .casino-bl-box[_ngcontent-%COMP%]{width:50%;flex-direction:column}.casino-book[_ngcontent-%COMP%]{font-size:9px;width:100%;line-height:18px;text-align:center}.even-odd-container[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{width:calc(100% - 4px);height:56px;margin-right:0}.casino-card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:auto;margin-left:5px}.casino-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:flex-start;width:100%;column-gap:24px}.casino-card-item[_ngcontent-%COMP%]{margin-bottom:0;margin-right:5px;margin-left:5px;width:auto;min-width:80px}.casino-card-item[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]{cursor:pointer;display:inline-block}.casino-card-item[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px}.is-desktop[_ngcontent-%COMP%]{display:none}.h-40[_ngcontent-%COMP%]{height:40px!important}.even-odd-container[_ngcontent-%COMP%]   .lay[_ngcontent-%COMP%]{width:calc(100% - 4px);height:56px;margin-right:0}.title[_ngcontent-%COMP%]{font-size:14px!important}@media screen and (min-width: 768px){.casino-detail[_ngcontent-%COMP%]{padding:10px 10px 40px}.is-mobile[_ngcontent-%COMP%]{display:none}.casino-card-item[_ngcontent-%COMP%]   .card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px}.casino-book[_ngcontent-%COMP%]{font-size:18px!important;line-height:18px!important}.casino-box-odd[_ngcontent-%COMP%], .casino-min-max[_ngcontent-%COMP%]{font-size:12px}.is-desktop[_ngcontent-%COMP%]{display:flex}.casino-card-item[_ngcontent-%COMP%]{margin-bottom:10px!important}}"]})};export{U as AmarAkbarAnthonyComponent};
