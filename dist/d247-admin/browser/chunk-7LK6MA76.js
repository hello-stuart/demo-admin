import{a as W}from"./chunk-YAPTLMR7.js";import{a as z}from"./chunk-PW5J7ZGW.js";import{c as U,d as F}from"./chunk-3BRWB67J.js";import"./chunk-5UJXZMZS.js";import"./chunk-ACVM4ET5.js";import"./chunk-QZIUMNBJ.js";import{m as R,q as D}from"./chunk-TKUFSEQW.js";import{f as N}from"./chunk-F4ECYANF.js";import{Cb as b,Db as o,Nb as i,O as S,Ob as s,Pb as d,Qb as v,Rb as x,Sc as I,Tc as P,Uc as O,Vb as h,Wb as _,_a as u,_c as M,bb as r,cb as f,dc as l,fc as p,gc as E,hd as T,mb as w,mc as m,sb as y,tc as A,uc as k}from"./chunk-CKWEI2SK.js";import"./chunk-ZR4K4ZIC.js";var C=c=>({active:c}),L=c=>({"d-none d-md-flex":c});function Y(c,e){c&1&&d(0,"img",36)}function $(c,e){c&1&&d(0,"img",37)}function G(c,e){c&1&&d(0,"img",38)}function J(c,e){c&1&&d(0,"img",39)}function K(c,e){if(c&1&&(i(0,"div",27)(1,"p",28)(2,"span"),l(3),s(),y(4,Y,1,0,"img",29)(5,$,1,0,"img",30)(6,G,1,0,"img",31)(7,J,1,0,"img",32),s(),i(8,"div",33),d(9,"i",34),i(10,"div",35),l(11," R:"),i(12,"span"),l(13),A(14,"shortNumber"),A(15,"shortNumber"),s()()()()),c&2){let a=e.$implicit,t=e.index,n=_(2).$implicit,g=_();r(3),p(" ",g.capitalize(g.splitMarketName(g.marketArray[0]==null?null:g.marketArray[0].runnersName[a==null?null:a.selectionId]))," "),r(),o("ngIf",t===1||t===5),r(),o("ngIf",t===1||t===6),r(),o("ngIf",t===2||t===7),r(),o("ngIf",t===2||t===8),r(6),E("",k(14,7,n.min),"-",k(15,9,n.max),"")}}function q(c,e){if(c&1&&(i(0,"div",41)(1,"button",42)(2,"p",43),l(3),s(),i(4,"span",5),l(5,"0"),s()(),i(6,"button",42)(7,"p",43),l(8),s(),i(9,"span",5),l(10,"0"),s()(),i(11,"button",42)(12,"p",43),l(13),s(),i(14,"span",5),l(15,"0"),s()(),i(16,"button",42)(17,"p",43),l(18),s(),i(19,"span",5),l(20,"0"),s()(),i(21,"button",42)(22,"p",43),l(23),s(),i(24,"span",5),l(25,"0"),s()(),i(26,"button",42)(27,"p",43),l(28),s(),i(29,"span",5),l(30,"0"),s()(),i(31,"button",42)(32,"p",43),l(33),s(),i(34,"span",5),l(35,"0"),s()(),i(36,"button",42)(37,"p",43),l(38),s(),i(39,"span",5),l(40,"0"),s()(),i(41,"button",42)(42,"p",43),l(43),s(),i(44,"span",5),l(45,"0"),s()()()),c&2){let a=_().index,t=_(2).$implicit,n=_();o("ngClass",m(19,L,a===1||a===2||a===3||a===4||a===5)),r(2),o("ngClass",n.winnerMarketArray.runners[0].status=="SUSPEND"||n.game.status=="SUSPEND"?"suspended":n.selectedCell==n.winnerMarketArray.runners[0].selectionId?"selected":""),r(),p(" ",t.runners[0].price.back[0].price,""),r(4),o("ngClass",n.winnerMarketArray.runners[1].status=="SUSPEND"||n.game.status=="SUSPEND"?"suspended":n.selectedCell==n.winnerMarketArray.runners[1].selectionId?"selected":""),r(),p(" ",t.runners[1].price.back[0].price,""),r(4),o("ngClass",n.winnerMarketArray.runners[2].status=="SUSPEND"||n.game.status=="SUSPEND"?"suspended":n.selectedCell==n.winnerMarketArray.runners[2].selectionId?"selected":""),r(),p(" ",t.runners[2].price.back[0].price,""),r(4),o("ngClass",n.winnerMarketArray.runners[3].status=="SUSPEND"||n.game.status=="SUSPEND"?"suspended":n.selectedCell==n.winnerMarketArray.runners[3].selectionId?"selected":""),r(),p(" ",t.runners[3].price.back[0].price,""),r(4),o("ngClass",n.winnerMarketArray.runners[4].status=="SUSPEND"||n.game.status=="SUSPEND"?"suspended":n.selectedCell==n.winnerMarketArray.runners[4].selectionId?"selected":""),r(),p(" ",t.runners[4].price.back[0].price,""),r(4),o("ngClass",n.winnerMarketArray.runners[5].status=="SUSPEND"||n.game.status=="SUSPEND"?"suspended":n.selectedCell==n.winnerMarketArray.runners[5].selectionId?"selected":""),r(),p(" ",t.runners[5].price.back[0].price,""),r(4),o("ngClass",n.winnerMarketArray.runners[6].status=="SUSPEND"||n.game.status=="SUSPEND"?"suspended":n.selectedCell==n.winnerMarketArray.runners[6].selectionId?"selected":""),r(),p(" ",t.runners[6].price.back[0].price,""),r(4),o("ngClass",n.winnerMarketArray.runners[7].status=="SUSPEND"||n.game.status=="SUSPEND"?"suspended":n.selectedCell==n.winnerMarketArray.runners[7].selectionId?"selected":""),r(),p(" ",t.runners[7].price.back[0].price,""),r(4),o("ngClass",n.winnerMarketArray.runners[8].status=="SUSPEND"||n.game.status=="SUSPEND"?"suspended":n.selectedCell==n.winnerMarketArray.runners[8].selectionId?"selected":""),r(),p(" ",t.runners[8].price.back[0].price,"")}}function H(c,e){if(c&1&&(v(0),y(1,q,46,21,"div",40),x()),c&2){let a=e.index;r(),o("ngIf",a===0||a===1||a===2||a===3||a===4||a===5)}}function Q(c,e){if(c&1&&(v(0),i(1,"div",25),y(2,K,16,11,"div",26),s(),y(3,H,2,1,"ng-container",22),x()),c&2){let a=_().$implicit;r(2),o("ngForOf",a==null?null:a.runners),r(),o("ngForOf",a==null?null:a.runners)}}function X(c,e){if(c&1&&(v(0),y(1,Q,4,2,"ng-container",24),x()),c&2){let a=e.index;r(),o("ngIf",a===0)}}var B=class c{constructor(e,a,t,n){this.route=e;this.toaster=a;this.backendService=t;this.encyDecy=n;this.eventid=this.route.snapshot.params.id,this._roomId="",this.message.id=this.eventid}subscription;subscription2;message={type:"1",id:""};activeTab=1;_roomId;game;timer;counter=0;eventid;marketId;split_arr;eventName;resultcounter=0;getRoundId="";runnersName={};marketArray=[];indexPlayer="0";winnerMarketArray;playerACards;playerBCards;gameroundId;selectedCell;changeValue;RoundWinner;currentRunnerPrice;isDesktop;winningAmount;resultArray;checkSelection=1;casinoTabData=[1,2,3,4,5,6];ngOnInit(){this.route.params.subscribe(e=>{let a=e.id}),this.backendService.getResultstream().subscribe(e=>{this.resultArray=e}),this.encyDecy.generateEncryptionKey("",this.message),this.subscription=this.encyDecy.getMarketData().subscribe((e=[])=>{if(e){this.getRoundId=localStorage?.getItem("roundID");let a=JSON?.parse(e);Array.isArray(a?.data)?a?.type=="1"&&(this.marketArray=a?.data[0]?.marketArr,this.game=a?.data[0],this.game.marketArr=this?.marketArray?this?.marketArray:a?.data[0]?.marketArr,this.eventName=a?.data[0]?.eventName,this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.handleEventResponse(a,0)):this.handleEventResponse(a,0),this.game&&(this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.marketArray=this.game.marketArr,this.gameroundId=this.game?.roundId,this.game.eventName=this?.eventName?this?.eventName:this.game?.eventName,this.backendService.updateRoundId(this.game),(this.getRoundId!=this?.game?.roundId||this?.getRoundId=="")&&(localStorage.setItem("roundID",this.game?.roundId),this.getResults(),this.selectedCell=""),this.playerACards=this.game?.cardsArr?.PLAYER,this.winnerMarketArray=this?.game?.marketArr?this.game?.marketArr[0]:"",this.runnersName=this.winnerMarketArray?.runnersName,this.marketArray=this.game?.marketArr)}}),this.getResults()}getEventOdds(){this.backendService.getCasinoEventOdds(this.eventid).subscribe(e=>{e.meta.status_code==200?(this.game=e?.data,this.marketArray=this.game?.marketArr,this.playerACards=this.game?.cardsArr?.PLAYER,this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.runnersName=this.winnerMarketArray?.runnersName):this.toaster.error(e?.meta?.message,"",{positionClass:"toast-top-right"})})}handleEventResponse(e,a){if(Array.isArray(e))e.forEach(t=>{this.marketObjManager(t)});else{let t=e;this.marketObjManager(t);return}}marketObjManager(e){if(e&&e?.type=="1")if("data"in e&&this?.counter==0&&e?.data?.marketArr&&e?.data?._id)this.marketArray=e?.data?.marketArr,this.game=this?.marketArray?this?.marketArray:e?.data,this.game=e?.data,this.eventName=e?.data?.eventName,this.counter=1;else{if("marketArr"in e?.data&&Array.isArray(e?.data?.marketArr)&&(this.game.marketArr=e?.data?.marketArr),"cardsArr"in e?.data&&(Array.isArray(e?.data?.cardsArr)||(this.game.cardsArr=e?.data?.cardsArr,this.playerACards=this.game?.cardsArr?.PLAYER)),"roundId"in e&&(this.game.roundId=e?.roundId),"roundId"in e?.data&&(this.game.roundId=e?.data?.roundId),"status"in e?.data&&(this.game.status=e?.data?.status),"resultsArr"in e?.data){for(let t in e?.data?.resultsArr[0]?.runners)e.data?.resultsArr[0]?.runners[t]=="WINNER"&&(this.RoundWinner=e?.data?.resultsArr[0]?.runnersName[t],this.backendService.setResultData(this?.RoundWinner)),e?.data?.resultsArr[0]?.runners[t]=="WINNER"&&setTimeout(()=>{this.backendService.setResultWinningAmount(this?.winningAmount),this.backendService.setResultSparkData(!0)},1e3);setTimeout(()=>{this.RoundWinner=null,this.winningAmount=null,this.backendService.setResultData(this.RoundWinner),this.backendService.setResultWinningAmount(this.winningAmount)},5e3)}var a=Object.keys(e?.data)[0];if(a.includes(".")){this.split_arr=a.split("."),Object.entries(e.data).forEach(([,V])=>this.changeValue=V);let t=parseInt(this.split_arr[1]),n=this.split_arr[3],g=this.split_arr[6];this.split_arr[7]=="size"&&(this.marketArray[t].runners[n].price.back[g].size=this.changeValue),this.split_arr[7]=="price"&&(this.marketArray[t].runners[n].price.back[g].price=this.changeValue)}}}trackByFn(e,a){return e}ngAfterViewInit(){}getResults(){this.backendService.getAllRecordsByPost(T.getCasinoResultURL,{eventId:this.eventid}).pipe(S()).subscribe(e=>{this.backendService.updateResultstream(e.data)},e=>{let a=e})}intoNumber(e){return parseInt(e)}ngOnDestroy(){let e={type:"2",id:""};this.encyDecy.sendMessageToSocket(e),this.subscription&&this.subscription.unsubscribe(),this.subscription2&&this.subscription2.unsubscribe()}splitMarketName(e){return e?e.split(" ")[0]:""}capitalize(e){return e?e.replace(/\w\S*/g,a=>a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()):""}static \u0275fac=function(a){return new(a||c)(f(N),f(R),f(D),f(F))};static \u0275cmp=w({type:c,selectors:[["app-casino-war"]],decls:54,vars:37,consts:[[1,"parent-container"],[1,"table-row"],[1,"empty","bg-transparent","mobile-hide"],[1,"table-box","position-relative"],["alt","player1",1,"card-img",3,"src","ngClass"],[1,"bottom-zero"],["alt","player2",1,"card-img",3,"src","ngClass"],["alt","player3",1,"card-img",3,"src","ngClass"],["alt","player4",1,"card-img",3,"src","ngClass"],["alt","player5",1,"card-img",3,"src","ngClass"],["alt","player6",1,"card-img",3,"src","ngClass"],[1,"casino-tabs"],["id","ex1","role","tablist",1,"nav","nav-tabs","mb-3"],["role","presentation",1,"nav-item"],["id","ex1-tab-1","role","tab","aria-controls","ex1-tabs-1",1,"nav-link","custom-tab","active",3,"click","ngClass"],["id","ex1-tab-2","role","tab","aria-controls","ex2-tabs-2",1,"nav-link","custom-tab",3,"click","ngClass"],["id","ex1-tab-3","role","tab","aria-controls","ex3-tabs-3",1,"nav-link","custom-tab",3,"click","ngClass"],["id","ex1-tab-4","role","tab","aria-controls","ex4-tabs-4",1,"nav-link","custom-tab",3,"click","ngClass"],["id","ex1-tab-5","role","tab","aria-controls","ex5-tabs-5",1,"nav-link","custom-tab",3,"click","ngClass"],["id","ex1-tab-6","role","tab","aria-controls","ex6-tabs-6",1,"nav-link","custom-tab",3,"click","ngClass"],[1,"main-container"],[1,"d-flex","table-size","m-right"],[4,"ngFor","ngForOf"],[1,"showInMobile"],[4,"ngIf"],[1,"market-heading"],["class","empty ",4,"ngFor","ngForOf"],[1,"empty"],[1,"text"],["src","/assets/casino-war/spade.png","alt","spade","class","cards-img",4,"ngIf"],["src","/assets/casino-war/club.png","alt","club","class","cards-img",4,"ngIf"],["src","/assets/casino-war/heart.png","alt","heart","class","cards-img",4,"ngIf"],["src","/assets/casino-war/diamond.png","alt","diamond","class","cards-img",4,"ngIf"],[1,"min-max-info","player-min-max"],["data-bs-toggle","collapse","data-bs-target","#range1",1,"fas","fa-info-circle"],["id","range1",1,"icon-range","collapse","bet-info-card"],["src","/assets/casino-war/spade.png","alt","spade",1,"cards-img"],["src","/assets/casino-war/club.png","alt","club",1,"cards-img"],["src","/assets/casino-war/heart.png","alt","heart",1,"cards-img"],["src","/assets/casino-war/diamond.png","alt","diamond",1,"cards-img"],["class","table-row-1",3,"ngClass",4,"ngIf"],[1,"table-row-1",3,"ngClass"],[1,"btn","position-relative"],[1,"btn-text",3,"ngClass"]],template:function(a,t){a&1&&(i(0,"div"),d(1,"app-video-player"),s(),i(2,"div",0)(3,"div",1),d(4,"div",2),i(5,"div",3),d(6,"img",4),i(7,"p",5),l(8,"1"),s()(),i(9,"div",3),d(10,"img",6),i(11,"p",5),l(12,"2"),s()(),i(13,"div",3),d(14,"img",7),i(15,"p",5),l(16,"3"),s()(),i(17,"div",3),d(18,"img",8),i(19,"p",5),l(20,"4"),s()(),i(21,"div",3),d(22,"img",9),i(23,"p",5),l(24,"5"),s()(),i(25,"div",3),d(26,"img",10),i(27,"p",5),l(28,"6"),s()()(),i(29,"div",11)(30,"ul",12)(31,"li",13)(32,"a",14),h("click",function(){return t.activeTab=1}),l(33,"1"),s()(),i(34,"li",13)(35,"a",15),h("click",function(){return t.activeTab=2}),l(36,"2"),s()(),i(37,"li",13)(38,"a",16),h("click",function(){return t.activeTab=3}),l(39,"3"),s()(),i(40,"li",13)(41,"a",17),h("click",function(){return t.activeTab=4}),l(42,"4"),s()(),i(43,"li",13)(44,"a",18),h("click",function(){return t.activeTab=5}),l(45,"5"),s()(),i(46,"li",13)(47,"a",19),h("click",function(){return t.activeTab=6}),l(48,"6"),s()()()(),i(49,"div",20)(50,"div",21),y(51,X,2,1,"ng-container",22),s(),i(52,"div",23),d(53,"app-resultbar"),s()()()),a&2&&(r(6),o("src","/assets/cards/"+(t.playerACards==null?null:t.playerACards.card_1)+".png",u)("ngClass",(t.playerACards==null?null:t.playerACards.card_1)!=="0"?"flipCard":""),r(4),o("src","/assets/cards/"+(t.playerACards==null?null:t.playerACards.card_2)+".png",u)("ngClass",(t.playerACards==null?null:t.playerACards.card_2)!=="0"?"flipCard":""),r(4),o("src","/assets/cards/"+(t.playerACards==null?null:t.playerACards.card_3)+".png",u)("ngClass",(t.playerACards==null?null:t.playerACards.card_3)!=="0"?"flipCard":""),r(4),o("src","/assets/cards/"+(t.playerACards==null?null:t.playerACards.card_4)+".png",u)("ngClass",(t.playerACards==null?null:t.playerACards.card_4)!=="0"?"flipCard":""),r(4),o("src","/assets/cards/"+(t.playerACards==null?null:t.playerACards.card_5)+".png",u)("ngClass",(t.playerACards==null?null:t.playerACards.card_5)!=="0"?"flipCard":""),r(4),o("src","/assets/cards/"+(t.playerACards==null?null:t.playerACards.card_6)+".png",u)("ngClass",(t.playerACards==null?null:t.playerACards.card_6)!=="0"?"flipCard":""),r(6),o("ngClass",m(25,C,t.activeTab===1)),b("aria-selected",t.activeTab===1),r(3),o("ngClass",m(27,C,t.activeTab===2)),b("aria-selected",t.activeTab===2),r(3),o("ngClass",m(29,C,t.activeTab===3)),b("aria-selected",t.activeTab===3),r(3),o("ngClass",m(31,C,t.activeTab===4)),b("aria-selected",t.activeTab===4),r(3),o("ngClass",m(33,C,t.activeTab===5)),b("aria-selected",t.activeTab===5),r(3),o("ngClass",m(35,C,t.activeTab===6)),b("aria-selected",t.activeTab===6),r(4),o("ngForOf",t.marketArray))},dependencies:[z,M,I,P,O,W,U],styles:[".parent-container[_ngcontent-%COMP%]{padding:5px 5px 40px;background-color:#f8f8fb;border-radius:0 0 8px 8px;box-shadow:0 2px 6px #e2e2e2}.main-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:.75rem;width:100%;column-gap:5px;margin-top:20px}.table-row[_ngcontent-%COMP%]{display:flex;display:-webkit-flex;padding:2px 0;align-items:center;position:relative;width:100%}.table-row-1[_ngcontent-%COMP%]{display:flex;display:-webkit-flex;flex-direction:column;padding:2px 0;align-items:center;position:relative;width:13%;row-gap:20px}.market-heading[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:30px;margin-top:7px;width:22%}.empty[_ngcontent-%COMP%]{min-width:22%;background-color:#ddd;display:flex;justify-content:space-between;align-items:center!important;padding:4px;height:30px}.table-box[_ngcontent-%COMP%]{width:13%;display:flex;display:-webkit-flex;justify-content:center;align-items:center}.card-img[_ngcontent-%COMP%]{width:30px;height:42px}.bottom-zero[_ngcontent-%COMP%]{position:absolute;bottom:-20px;display:flex;justify-content:center;align-items:center}.text[_ngcontent-%COMP%]{font-size:14px;font-weight:bolder}p[_ngcontent-%COMP%]{padding:0;margin:0}.btn[_ngcontent-%COMP%]{width:calc(100% - 4px);height:40px;display:flex;justify-content:center;align-items:center;font-size:14px;background-color:#72bbef17;border:2px solid #72bbef}.btn-text[_ngcontent-%COMP%]{font-size:16px;margin-bottom:10px;color:#000}.locker-wraper[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#dae1e0}.lock-icon[_ngcontent-%COMP%]{width:15px;height:15px}.table-size[_ngcontent-%COMP%]{width:100%}.cards-img[_ngcontent-%COMP%]{width:25px;height:25px}.margin-change[_ngcontent-%COMP%]{margin-top:1.5rem}.m-right[_ngcontent-%COMP%]{margin-right:5px}@media (max-width: 767px){.hiding[_ngcontent-%COMP%]{display:none!important}.table-row-1[_ngcontent-%COMP%], .market-heading[_ngcontent-%COMP%]{width:50%}.middle-border[_ngcontent-%COMP%]{width:2px!important;background-color:gray}.empty[_ngcontent-%COMP%]{min-width:50%;background-color:#ddd;display:flex;justify-content:space-between;align-items:center!important;padding:4px;height:30px}.bottom-zero[_ngcontent-%COMP%]{position:absolute;bottom:0;justify-content:center;align-items:center;z-index:-10}.btn-text[_ngcontent-%COMP%]{font-size:16px;color:#000}.mobile-hide[_ngcontent-%COMP%]{display:none}.table-box[_ngcontent-%COMP%]{width:100%;display:flex;display:-webkit-flex;justify-content:center;align-items:center}.margin-change[_ngcontent-%COMP%]{margin-top:5px}}@media (min-width: 767px){.tabs-text[_ngcontent-%COMP%]{display:none}.casino-tabs[_ngcontent-%COMP%]{height:36px;background-color:#3c444b;margin-bottom:10px;justify-content:flex-start;border-radius:0;width:100%;margin-top:10px;display:none}}@media only screen and (min-width: 320px) and (max-width: 767px){.casino-tabs[_ngcontent-%COMP%]{height:36px;background-color:#3c444b;margin-bottom:10px;justify-content:flex-start;border-radius:0;width:100%;margin-top:10px}.tabs-text[_ngcontent-%COMP%]{padding:4px 8px;text-align:center}}.nav-tabs[_ngcontent-%COMP%]{border:0px!important}.custom-tab[_ngcontent-%COMP%]{background-color:transparent;border:none;border-bottom:3px solid transparent;color:#fff;width:100%;padding-bottom:4px!important}.custom-tab.active[_ngcontent-%COMP%]{background-color:transparent;border-bottom:3px solid #ef910f;color:#fdcf13}.custom-tab[_ngcontent-%COMP%]:hover{border-bottom:3px solid #ef910f;color:#fdcf13}.casino-tabs[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex:1 1 0;align-items:center;justify-content:space-around;flex-wrap:nowrap}.nav-item[_ngcontent-%COMP%]{width:100%;text-align:center}.bet-info-card[_ngcontent-%COMP%]{position:absolute;top:100%;transform:translate(-20px);background-color:#16191c;padding:4px;max-width:100%;word-wrap:break-word;font-size:12px;z-index:10;transition:.1s;text-transform:capitalize;color:#aaafb5;z-index:150}.flipCard[_ngcontent-%COMP%]{transform:rotateY(360deg);position:relative;text-align:center;transition:transform .6s;transform-style:preserve-3d;box-shadow:0 4px 8px #0003}"]})};export{B as CasinoWarComponent};
