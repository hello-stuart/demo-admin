import{a as R}from"./chunk-YAPTLMR7.js";import{a as T}from"./chunk-SBFAXTSC.js";import{c as z,d as D}from"./chunk-A5YAUSYP.js";import"./chunk-3J6HDLJO.js";import"./chunk-KMJAJAAH.js";import"./chunk-QZIUMNBJ.js";import{m as E,q as N}from"./chunk-6542H3SY.js";import{f as I}from"./chunk-F4ECYANF.js";import{Cb as k,Db as c,Nb as o,O as _,Ob as s,Pb as m,Sc as P,Tc as w,Uc as A,Wb as h,bb as a,cb as b,dc as d,ec as x,fc as O,gc as v,hd as S,mb as M,mc as f,sb as u,tc as y,uc as C}from"./chunk-CKWEI2SK.js";import"./chunk-ZR4K4ZIC.js";var F=i=>({"color-yellow":i}),B=i=>({"mbl-none":i});function U(i,e){if(i&1&&(o(0,"div")(1,"div",9)(2,"div",10),d(3),s()()()),i&2){let t=e.$implicit,n=e.index,r=h();a(2),c("ngClass",f(2,F,n===1)),a(),x(r.winnerMarketArray.runnersName[t.selectionId])}}function V(i,e){if(i&1&&(o(0,"div",18)(1,"div",19)(2,"span",20),d(3),s(),m(4,"i",21),o(5,"div",22),d(6," R:"),o(7,"span"),d(8),y(9,"shortNumber"),y(10,"shortNumber"),s()()(),o(11,"div",23)(12,"span",24),d(13),s(),o(14,"span",25),d(15,"0"),s()()()),i&2){let t=e.$implicit,n=e.index,r=h(),g=r.$implicit,l=r.index,p=h();a(),c("ngClass",f(12,B,l===1)),a(2),x(p.splitMarketName(t.marketName)),a(),k("data-bs-target","#range"+l+n),a(),c("id","range"+l+n),a(3),v("",C(9,8,t.min),"-",C(10,10,t.max),""),a(3),c("ngClass",g.status=="SUSPEND"||(p.game==null?null:p.game.status)=="SUSPEND"||p.game.length==0?"suspended":""),a(2),x(t.runners[0].price.back[0].price)}}function L(i,e){i&1&&m(0,"div",26)}function Y(i,e){if(i&1&&(o(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14)(4,"div",10),d(5),s()()(),o(6,"div",15),u(7,V,16,14,"div",16),s()(),u(8,L,1,0,"div",17),s()),i&2){let t=e.$implicit,n=e.index,r=h();a(4),c("ngClass",f(4,F,n===1)),a(),O(" ",r.capitalize(r.winnerMarketArray.runnersName[t.selectionId])," "),a(2),c("ngForOf",r.marketArray),a(),c("ngIf",n===0)}}var j=class i{constructor(e,t,n,r){this.route=e;this.toaster=t;this.backendService=n;this.encyDecy=r;this.eventid=this.route.snapshot.params.id,this._roomId="",this.message.id=this.eventid}subscription;subscription2;message={type:"1",id:""};_roomId;timer;theme;counter=0;betType;eventid;marketId;game={};split_arr;userCount;eventName;RoundWinner;gameroundId;resultcounter=0;playerACards;selectedCell;playerBCards;winningAmount;getRoundId="";changeValue;runnersName={};marketArray=[];winnerMarketArray;currentRunnerPrice;ngOnInit(){this.route.params.subscribe(e=>{let t=e.id}),this.encyDecy.generateEncryptionKey("",this.message),this.subscription=this.encyDecy.getMarketData().subscribe((e=[])=>{if(e){this.getRoundId=localStorage.getItem("roundID");let t=JSON.parse(e);Array.isArray(t.data)?t?.data[0]&&(t.type=="1"&&(this.marketArray=t?.data[0]?.marketArr,this.game=t?.data[0],this.game.marketArr=this.marketArray?this.marketArray:t?.data[0]?.marketArr,this.eventName=t?.data[0]?.eventName,this.userCount=t?.user_count,this.backendService.setUserCount(this.userCount),this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:""),this.handleEventResponse(t,0)):this.handleEventResponse(t,0),this.game&&(this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.marketArray=this.game.marketArr,this.gameroundId=this.game.roundId,this.game.eventName=this.eventName?this.eventName:this.game.eventName,this.backendService.updateRoundId(this.game),(this.getRoundId!=this.game.roundId||this.getRoundId=="")&&(localStorage.setItem("roundID",this.game.roundId),this.getResults(),this.selectedCell=""),this.playerACards=this.game?.cardsArr?.PLAYER_A,this.playerBCards=this.game?.cardsArr?.PLAYER_B,this.winnerMarketArray=this.game.marketArr?this.game.marketArr[0]:"",this.runnersName=this.winnerMarketArray.runnersName,this.marketArray=this.game.marketArr),t.type=="3"&&(this.userCount=t?.user_count,this.backendService.setUserCount(this.userCount))}}),this.getResults()}handleEventResponse(e,t){if(Array.isArray(e))e.forEach(n=>{this.marketObjManager(n)});else{let n=e;this.marketObjManager(n);return}}marketObjManager(e){let t=e;if(t&&t.type=="1")if("data"in t&&this.counter==0&&t.data.marketArr&&t.data._id)this.marketArray=t.data.marketArr,this.game=this.marketArray?this.marketArray:t.data,this.game=t.data,this.eventName=t.data.eventName,this.counter=1;else{"marketArr"in t?.data&&Array.isArray(t.data.marketArr)&&(this.game.marketArr=t?.data?.marketArr),"cardsArr"in t?.data&&(Array.isArray(t?.data?.cardsArr)||(this.game.cardsArr=t?.data?.cardsArr)),"roundId"in t&&(this.game.roundId=t?.roundId),"roundId"in t?.data&&(this.game.roundId=t?.data?.roundId),"status"in t?.data&&(this.game.status=t?.data?.status);var n=Object.keys(t?.data)[0];if(n.includes(".")){this.split_arr=n.split("."),Object.entries(t.data).forEach(([,p])=>this.changeValue=p);let r=parseInt(this.split_arr[1]),g=this.split_arr[3],l=this.split_arr[6];this.split_arr[7]=="size"&&(this.marketArray[r].runners[g].price.back[l].size=this.changeValue),this.split_arr[7]=="price"&&(this.marketArray[r].runners[g].price.back[l].price=this.changeValue),this.split_arr[4]==="status"&&(this.marketArray[r].runners[g].status=this.changeValue)}}t&&t.type=="3"&&(this.userCount=t?.user_count,this.backendService.setUserCount(this.userCount))}getEventOdds(){this.backendService.getCasinoEventOdds(this.eventid).subscribe(e=>{e.meta.status_code==200?(this.game=e?.data,this.marketArray=this.game?.marketArr,this.playerACards=this.game?.cardsArr?.PLAYER_A,this.playerBCards=this.game?.cardsArr?.PLAYER_B,this.winnerMarketArray=this.game?.marketArr?this.game?.marketArr[0]:"",this.runnersName=this.winnerMarketArray.runnersName):this.toaster.error(e.meta.message,"",{positionClass:"toast-top-right"})})}trackByFn(e,t){return e}getResults(){this.backendService.getAllRecordsByPost(S.getCasinoResultURL,{eventId:this.eventid}).pipe(_()).subscribe(e=>{this.backendService.updateResultstream(e.data)},e=>{let t=e})}splitMarketName(e){let t=e.indexOf("(");return t!==-1?e.substring(0,t).trim():e}ngOnDestroy(){let e={type:"2",id:""};this.encyDecy.sendMessageToSocket(e),this.subscription&&this.subscription.unsubscribe(),this.subscription2&&this.subscription2.unsubscribe()}capitalize(e){return e?e.replace(/\w\S*/g,t=>t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()):""}static \u0275fac=function(t){return new(t||i)(b(I),b(E),b(N),b(D))};static \u0275cmp=M({type:i,selectors:[["app-twenty-20-teenpatti"]],decls:11,vars:2,consts:[[1,"videoPlayer"],[1,"teenpatti20","casino-table","font-noto-sans"],[1,"casino-detail"],[1,"d-flex","justify-content-around","d-md-none"],[2,"margin-left","40px"],[4,"ngFor","ngForOf"],[1,"teen20casino-container","d-none-small"],["class","teen20left",4,"ngFor","ngForOf"],[1,"block-768"],[1,"casino-nation-name","no-border","casino-bl-box-title"],[1,"playera",3,"ngClass"],[1,"teen20left"],[1,"w-100"],[1,"casino-box-row"],[1,"casino-nation-name","no-border","casino-bl-box-title","d-none","d-md-block"],[1,"grid-use"],["class","casino-bl-box casino-bl-box-title",4,"ngFor","ngForOf"],["class","teen20center",4,"ngIf"],[1,"casino-bl-box","casino-bl-box-title"],[1,"casino-bl-box-item",3,"ngClass"],[1,"font"],["data-bs-toggle","collapse",1,"fas","fa-info-circle","float-end","ms-1"],[1,"collapse","icon-range",3,"id"],[1,"back","casino-bl-box-item","mbl-colum",3,"ngClass"],[1,"casino-box-odd"],[1,"casino-book","book-black"],[1,"teen20center"]],template:function(t,n){t&1&&(o(0,"div",0),m(1,"app-video-player"),s(),o(2,"div",1)(3,"div",2)(4,"div",3),m(5,"span",4),u(6,U,4,4,"div",5),s(),o(7,"div",6),u(8,Y,9,6,"div",7),s()(),o(9,"div",8),m(10,"app-resultbar"),s()()),t&2&&(a(6),c("ngForOf",n.winnerMarketArray==null?null:n.winnerMarketArray.runners),a(2),c("ngForOf",n.winnerMarketArray==null?null:n.winnerMarketArray.runners))},dependencies:[T,w,A,P,R,z],styles:[".casino-detail[_ngcontent-%COMP%]{padding:10px 10px 40px;background-color:#f8f8fb;border-radius:0 0 8px 8px;box-shadow:0 2px 6px #bcbaba}.teen20casino-container[_ngcontent-%COMP%]{display:flex;display:-webkit-flex;flex-wrap:nowrap;justify-content:space-between}.grid-use[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-template-rows:auto;gap:4px}.teen20left[_ngcontent-%COMP%], .teen20right[_ngcontent-%COMP%]{width:49%;display:flex}i[_ngcontent-%COMP%]{cursor:pointer}.color-yellow[_ngcontent-%COMP%]{color:#ef910f!important}.teen20center[_ngcontent-%COMP%]{margin-left:15px;min-width:2px;background-color:#e0e0e0}.casino-box-row[_ngcontent-%COMP%]{display:flex;display:-webkit-flex;flex-wrap:wrap;padding:2px 0;align-items:center;position:relative}.casino-detail[_ngcontent-%COMP%]   .casino-nation-name.no-border[_ngcontent-%COMP%]{background-color:transparent;padding:0}.casino-bl-box-title[_ngcontent-%COMP%]   .playera[_ngcontent-%COMP%]{color:#fc4242;font-size:14px;line-height:22px;text-transform:capitalize}.casino-bl-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;display:-webkit-flex;justify-content:center;align-items:center;flex-wrap:wrap;margin-bottom:24px}.teenpatti20[_ngcontent-%COMP%]   .casino-bl-box-item[_ngcontent-%COMP%]{width:100%;text-transform:uppercase;position:relative}.casino-bl-box-item[_ngcontent-%COMP%]{margin-right:4px;border-radius:4px;display:-webkit-flex;display:flex;justify-content:center;align-items:center;flex-direction:column;color:#0000;text-align:center;cursor:pointer;cursor:not-allowed}.last-item[_ngcontent-%COMP%]{margin-right:0!important}.casino-bl-box-title[_ngcontent-%COMP%]   .casino-bl-box-item[_ngcontent-%COMP%]{color:#000;height:24px;font-size:14px;flex-direction:row}.casino-bl-box-title[_ngcontent-%COMP%]   .casino-bl-box-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:auto}.casino-bl-box-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:12px;line-height:12px}.casino-bl-box-item[_ngcontent-%COMP%] > span[_ngcontent-%COMP%], .casino-rb-box-player[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;width:100%}.fa-info-circle[_ngcontent-%COMP%]{color:#4a4a4a;font-size:14px;margin-bottom:1px}.icon-range[_ngcontent-%COMP%]{position:absolute;top:100%;background-color:#0000;padding:4px;max-width:100%;word-wrap:break-word;font-size:12px;z-index:10;right:0;transition:.1s;text-transform:capitalize;color:#aaafb5;z-index:150}.casino-bl-box-item[_ngcontent-%COMP%]:last-child{height:40px!important}.casino-table[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{background-color:#72bbef17;border:2px solid #72bbef}.back[_ngcontent-%COMP%]{background-color:#72bbef}.casino-bl-box-item[_ngcontent-%COMP%]   .casino-box-odd[_ngcontent-%COMP%], .casino-rb-box-player[_ngcontent-%COMP%]   .casino-box-odd[_ngcontent-%COMP%]{font-weight:700;font-size:14px;height:16px;line-height:16px;margin-bottom:2px;width:100%;color:#333}.teenpatti20[_ngcontent-%COMP%]   .casino-bl-box-item[_ngcontent-%COMP%]   .casino-book[_ngcontent-%COMP%]{position:absolute;bottom:-20px;font-size:12px;color:#000;line-height:18px}.icon-range[_ngcontent-%COMP%]{position:absolute;top:100%;background-color:#16191c;padding:4px;max-width:100%;word-wrap:break-word;font-size:12px;z-index:10;right:0;transition:.1s;text-transform:capitalize;color:#aaafb5;z-index:150}.casino-table[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%], .casino-table[_ngcontent-%COMP%]   .lay[_ngcontent-%COMP%]{background-color:transparent}.casino-bl-box-item[_ngcontent-%COMP%]   .casino-box-odd[_ngcontent-%COMP%], .casino-rb-box-player[_ngcontent-%COMP%]   .casino-box-odd[_ngcontent-%COMP%]{font-weight:700;height:16px;line-height:16px;margin-bottom:2px;width:100%;color:#333}.casino-bl-box-item[_ngcontent-%COMP%]   .casino-box-odd[_ngcontent-%COMP%]{font-size:12px}.casino-rb-box-player[_ngcontent-%COMP%]   .casino-box-odd[_ngcontent-%COMP%]{font-size:16px!important}.casino-bl-box-title[_ngcontent-%COMP%]   .playerb[_ngcontent-%COMP%]{color:#ef910f;font-size:14px;line-height:22px}.casino-table[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{background-color:#72bbef17;border:2px solid #72bbef!important}.casino-book[_ngcontent-%COMP%]{font-size:18px;line-height:18px}@media only screen and (max-width: 769px){.casino-book[_ngcontent-%COMP%]{font-size:12px;line-height:18px}.font[_ngcontent-%COMP%]{font-weight:700}.casino-bl-box-title[_ngcontent-%COMP%]   .playera[_ngcontent-%COMP%]{font-size:12px}.teen20casino-container[_ngcontent-%COMP%]{flex-direction:row;flex-wrap:nowrap}.mbl-none[_ngcontent-%COMP%], .teen20center[_ngcontent-%COMP%]{display:none}.teen20left[_ngcontent-%COMP%]{width:100%}.casino-bl-box[_ngcontent-%COMP%]{flex-direction:row;width:100%;flex-wrap:nowrap}.teenpatti20[_ngcontent-%COMP%]   .casino-bl-box-item[_ngcontent-%COMP%]:first-child{background-color:#ddd;margin-right:0;height:36px;justify-content:space-between;padding:0 5px}.teen20left[_ngcontent-%COMP%]:last-child{width:50.5%}.casino-box-row[_ngcontent-%COMP%]{justify-content:center}.teenpatti20[_ngcontent-%COMP%]   .casino-bl-box-item[_ngcontent-%COMP%]   .casino-book[_ngcontent-%COMP%]{position:static;font-size:12px}.mbl-colum[_ngcontent-%COMP%]{flex-direction:column!important}.mbl-colum[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:15px!important;margin-bottom:-2px!important}.casino-bl-box[_ngcontent-%COMP%]{margin-bottom:4px}.grid-use[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);gap:0}}@media (min-width: 1279px) and (max-width: 1350px){.grid-use[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}@media only screen and (max-width: 1279px){.casino-detail[_ngcontent-%COMP%]{padding:5px;box-shadow:none;border-radius:0}.casino-table[_ngcontent-%COMP%]{box-shadow:none;border-radius:0}}.block-768[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.block-768[_ngcontent-%COMP%]{display:block}}"]})};export{j as Twenty20TeenpattiComponent};
